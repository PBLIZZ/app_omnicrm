# Test Environment Configuration
# This file contains all required environment variables for running the test suite

# Supabase (public)
NEXT_PUBLIC_SUPABASE_URL=https://test-project.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY=test-publishable-key

# Supabase (server-only)
SUPABASE_SECRET_KEY=test-service-secret-key

# App encryption key (32-byte test key)
APP_ENCRYPTION_KEY=a_secure_but_test_only_encryption_key_32b
CRON_SECRET=test_cron_secret

# Google OAuth (test values)
GOOGLE_CLIENT_ID=test-client-id
GOOGLE_CLIENT_SECRET=test-client-secret

# Service-specific OAuth redirects (required for env validation)
GOOGLE_GMAIL_REDIRECT_URI=http://localhost:3000/api/google/gmail/callback
GOOGLE_CALENDAR_REDIRECT_URI=http://localhost:3000/api/google/calendar/callback

# Additional Google Services
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/callback
GOOGLE_CLOUD_PROJECT=test-project
GOOGLE_DRIVE_REDIRECT_URI=http://localhost:3000/api/google/drive/callback

# CORS / Security
APP_ORIGINS=http://localhost:3000
API_RATE_LIMIT_PER_MIN=60
API_MAX_JSON_BYTES=1000000

# Feature flags (read-only integrations)
FEATURE_GOOGLE_GMAIL_RO=1
FEATURE_GOOGLE_CALENDAR_RO=1
FEATURE_GOOGLE_DRIVE=1

# AI / OpenRouter (test keys - disabled in tests)
OPENROUTER_API_KEY=test-openrouter-key
AI_MODEL_CHAT=openrouter/auto
AI_MODEL_EMBED=openai/text-embedding-3-large
AI_MODEL_SUMMARY=openrouter/auto

# Claude AI (test key)
ANTHROPIC_API_KEY=test-anthropic-key
CLAUDE_MODEL=claude-3-5-sonnet-20241022

# OpenAI (test key)
OPENAI_API_KEY=test-openai-key

# Test Database Configuration
# Using in-memory or mock database for tests
DATABASE_URL=postgresql://test_user:test_password@localhost:5432/test_omnicrm
DIRECT_URL=postgresql://test_user:test_password@localhost:5432/test_omnicrm
SUPABASE_URL=https://test-project.supabase.co

# AI Configuration for tests
AI_CREDITS_MONTHLY=200
AI_REQUESTS_PER_MINUTE=8
AI_DAILY_EUR_HARDCAP=2

# E2E Test OAuth (development/test only)
E2E_USER_ID=test-user-id-1234
E2E_GOOGLE_ACCESS_TOKEN=test_access_token_here
E2E_GOOGLE_REFRESH_TOKEN=test_refresh_token_here

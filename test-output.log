
> app_omnicrm@0.2.0 test /Users/peterjamesblizzard/projects/app_omnicrm
> vitest --run


 RUN  v3.2.4 /Users/peterjamesblizzard/projects/app_omnicrm

[90m14:28:58:295[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:345[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:420[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:417[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:414[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:428[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:443[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:385[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:420[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:606[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:58:607[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:58:607[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:58:607[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:58:510[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:549[0m [34m[websocket][0m constructing the interceptor...
[90m14:28:58:625[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:58:625[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:58:625[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:58:625[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:58:733[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:58:733[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:58:733[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:58:733[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:58:736[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:58:736[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:58:795[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:58:802[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:58:803[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:58:803[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:58:803[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:58:803[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:58:804[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:58:804[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:58:805[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:58:805[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:58:824[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:58:824[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:58:824[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:58:824[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:59:159[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:59:159[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:59:159[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:59:160[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:59:162[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:59:163[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:59:163[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:59:163[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:59:194[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:59:194[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:59:194[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:59:194[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:59:610[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:28:59:610[0m [34m[xhr][0m constructing the interceptor...
[90m14:28:59:610[0m [34m[fetch][0m constructing the interceptor...
[90m14:28:59:611[0m [34m[setup-server][0m constructing the interceptor...
[90m14:28:59:899[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:28:59:899[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:28:59:899[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:28:59:899[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:28:59:899[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:28:59:899[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:28:59:899[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:28:59:899[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:28:59:899[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:28:59:904[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:28:59:904[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:28:59:904[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:28:59:904[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:28:59:904[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:28:59:904[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:28:59:904[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:28:59:904[0m [34m[xhr][0m set global instance! xhr
[90m14:28:59:904[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:28:59:904[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:28:59:904[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:28:59:904[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:28:59:904[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:28:59:904[0m [34m[fetch][0m set global instance! fetch
[90m14:28:59:904[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:28:59:904[0m [34m[setup-server][0m set global instance! setup-server
[90m14:28:59:904[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:28:59:904[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:28:59:904[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:28:59:904[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:28:59:904[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:28:59:904[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:28:59:904[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:28:59:904[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:28:59:904[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:28:59:904[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:28:59:904[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:28:59:904[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:28:59:904[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:28:59:904[0m [34m[websocket][0m set global instance! websocket
[90m14:29:01:522[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:01:522[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:01:522[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:522[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:01:523[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:01:523[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:01:523[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:01:523[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:523[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:01:524[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:524[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:01:524[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:01:524[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:01:524[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:524[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:01:524[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:01:524[0m [34m[xhr][0m set global instance! xhr
[90m14:29:01:524[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:524[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:01:524[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:01:524[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:01:524[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:524[0m [34m[fetch][0m set global instance! fetch
[90m14:29:01:524[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:524[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:01:524[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:524[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:524[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:524[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:524[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:524[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:524[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:524[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:524[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:524[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:01:524[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:01:524[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:01:524[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:533[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:01:533[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:01:533[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:533[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:01:533[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:01:533[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:01:533[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:01:533[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:534[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:01:534[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:534[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:01:534[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:01:534[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:01:534[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:534[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:01:534[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:01:534[0m [34m[xhr][0m set global instance! xhr
[90m14:29:01:534[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:534[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:01:534[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:01:534[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:01:534[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:534[0m [34m[fetch][0m set global instance! fetch
[90m14:29:01:534[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:534[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:01:534[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:534[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:534[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:534[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:534[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:534[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:534[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:534[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:534[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:534[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:01:534[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:01:534[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:01:534[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:534[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:01:534[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:01:534[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:534[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:01:535[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:01:535[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:01:535[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:01:535[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:535[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:01:535[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:535[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:01:535[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:01:536[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:01:537[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:537[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:01:537[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:01:537[0m [34m[xhr][0m set global instance! xhr
[90m14:29:01:537[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:537[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:01:537[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:01:537[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:01:537[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:537[0m [34m[fetch][0m set global instance! fetch
[90m14:29:01:537[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:537[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:01:537[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:537[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:537[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:537[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:537[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:537[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:537[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:537[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:537[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:537[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:01:537[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:01:537[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:01:537[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:588[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:01:588[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:01:588[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:588[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:01:588[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:01:588[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:01:588[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:01:588[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:588[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:01:588[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:588[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:01:588[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:01:588[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:01:588[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:588[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:01:588[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:01:588[0m [34m[xhr][0m set global instance! xhr
[90m14:29:01:588[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:588[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:01:588[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:01:588[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:01:588[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:589[0m [34m[fetch][0m set global instance! fetch
[90m14:29:01:589[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:589[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:01:589[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:589[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:589[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:589[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:589[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:589[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:589[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:589[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:589[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:589[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:01:589[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:01:589[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:01:589[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > fetches all inbox items by default
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status
Initial events: []
Initial loading: [33mtrue[39m
Waiting... events length: [33m0[39m events loading: [33mtrue[39m clients loading: [33mtrue[39m

[90m14:29:01:595[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:01:595[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:01:595[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:595[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:01:596[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:01:596[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:01:596[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:01:596[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:596[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:01:596[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:596[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:01:596[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:01:596[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:01:596[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:596[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:01:596[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:01:596[0m [34m[xhr][0m set global instance! xhr
[90m14:29:01:596[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:596[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:01:596[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:01:596[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:01:596[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:596[0m [34m[fetch][0m set global instance! fetch
[90m14:29:01:596[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:596[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:01:597[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:597[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:597[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:597[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:597[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:597[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:597[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:597[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:597[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:597[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:01:597[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:01:597[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:01:597[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > fetches notes for a contact
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > fetches zones without stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > fetches notes for a contact
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:01:524[0m [34m[websocket][0m set global instance! websocket
[90m14:29:01:536[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:01:536[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:536[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:632[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:632[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:633[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > fetches zones without stats
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

[90m14:29:01:654[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:01:654[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:01:654[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:655[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:01:655[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:01:655[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:01:655[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:01:655[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:673[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:01:673[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:673[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:01:673[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:01:674[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:01:674[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:674[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:01:675[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:01:675[0m [34m[xhr][0m set global instance! xhr
[90m14:29:01:675[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:675[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:01:675[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:01:675[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:01:675[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:676[0m [34m[fetch][0m set global instance! fetch
[90m14:29:01:676[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:01:676[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:01:677[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:677[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:680[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:01:680[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:680[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:680[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:01:680[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:680[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:680[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:01:680[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:01:681[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:01:681[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:01:681[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:01:681[0m [34m[websocket][0m set global instance! websocket
[90m14:29:01:703[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:01:704[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:704[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:589[0m [34m[websocket][0m set global instance! websocket
[90m14:29:01:606[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:01:606[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:606[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:651[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:651[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:652[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > returns empty array while loading
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

[90m14:29:01:740[0m [34m[fetch][0m [GET] http://localhost:3000/api/contacts?page=1&pageSize=25
[90m14:29:01:740[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:740[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > fetches contacts without search query
MSW intercepted: GET http://localhost:3000/api/contacts?page=1&pageSize=25

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:01:534[0m [34m[websocket][0m set global instance! websocket
[90m14:29:01:550[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:01:550[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:550[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:558[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:01:558[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:558[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:01:587[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:01:587[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:587[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:01:807[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:807[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:808[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:808[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:808[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:01:808[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:808[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:809[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:01:809[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:01.802Z'[39m,
      endTime: [32m'2025-10-25T13:29:01.802Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:01.802Z'[39m,
      endTime: [32m'2025-10-26T12:59:01.802Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:01.802Z'[39m,
      endTime: [32m'2025-10-27T13:59:01.802Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-25T13:29:01.802Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-26T12:59:01.802Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-27T13:59:01.802Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-25T13:29:01.802Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-26T12:59:01.802Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-27T13:59:01.802Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:01.807Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:01.807Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
Waiting... events length: [33m0[39m events loading: [33mtrue[39m clients loading: [33mtrue[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > does not fetch when contactId is empty
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > provides refetch function
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

[90m14:29:01:845[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:845[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:845[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:01:851[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:01:851[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:851[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:849[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones?withStats=true
[90m14:29:01:849[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:849[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > provides refetch function
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:01:860[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:860[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:861[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > fetches zones with stats when requested
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones?withStats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > fetches all inbox items by default
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > fetches all inbox items by default
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:01:537[0m [34m[websocket][0m set global instance! websocket
[90m14:29:01:563[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:01:563[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:563[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:587[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:01:587[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:587[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:01:856[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:856[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:857[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:857[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:857[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:01:857[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
Waiting... events length: [33m3[39m events loading: [33mfalse[39m clients loading: [33mfalse[39m

[90m14:29:01:915[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?status=unprocessed
[90m14:29:01:915[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:915[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:916[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:01:916[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:916[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully
Final events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-25T13:29:01.802Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-26T12:59:01.802Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:01.802Z'[39m,
    endTime: [32m'2025-10-27T13:59:01.802Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Final loading: [33mfalse[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > filters items by status
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:01:924[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:01:924[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:924[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > provides refetch function
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

[90m14:29:01:932[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:932[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:938[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:01:932[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:933[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:933[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:933[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:933[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:01:933[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > filters items by status
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > filters items by status
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > fetches zones with stats when requested
MSW response: GET http://localhost:3000/api/omni-momentum/zones?withStats=true [33m200[39m

[90m14:29:01:944[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:945[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:945[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:01:948[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:01:949[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:949[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Query Operations > provides refetch function
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:01:967[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:01:967[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:967[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:970[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:01:970[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:970[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:01:970[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:01:970[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:970[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes event dates correctly
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > filters items by search query
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?search=dentist
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:01:987[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:01:988[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:01:988[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > fetches contacts without search query
MSW response: GET http://localhost:3000/api/contacts?page=1&pageSize=25 [33m200[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > creates a new note successfully
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

[90m14:29:02:18[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?search=dentist
[90m14:29:02:18[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:18[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:19[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:02:19[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:19[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:45[0m [34m[fetch][0m [GET] http://localhost:3000/api/contacts?page=1&pageSize=25&search=john
[90m14:29:02:45[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:45[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:47[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:47[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:47[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > fetches contacts with search query
MSW intercepted: GET http://localhost:3000/api/contacts?page=1&pageSize=25&search=john

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > creates a new note successfully
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:02:61[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:61[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:61[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > fetches contacts with search query
MSW response: GET http://localhost:3000/api/contacts?page=1&pageSize=25&search=john [33m200[39m

[90m14:29:02:55[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:68[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > filters items by search query
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?search=dentist [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > filters items by search query
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:02:73[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:73[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:73[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:73[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:174[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:02:174[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:174[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > returns empty array while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:02:177[0m [34m[fetch][0m [POST] http://localhost:3000/api/notes
[90m14:29:02:177[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:177[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > creates a new note successfully
MSW intercepted: POST http://localhost:3000/api/notes

[90m14:29:02:192[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:02:192[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:192[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all projects
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all projects
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all projects
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all projects
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:02:214[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:02:215[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:215[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > returns empty array while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:02:209[0m [34m[fetch][0m [GET] http://localhost:3000/api/contacts?page=1&pageSize=25&search=john
[90m14:29:02:222[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:222[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:01:597[0m [34m[websocket][0m set global instance! websocket
[90m14:29:01:650[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:01:650[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:650[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:01:864[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:01:864[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:864[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:01:865[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:01:865[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:865[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:01:918[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:01:918[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:01:918[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:02:208[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:208[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:213[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:219[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:219[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:220[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:220[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:220[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:221[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:221[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:221[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:221[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:283[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:02:283[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:283[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:284[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:02:284[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:284[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:285[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:02:285[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:285[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:02:286[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:02:286[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:286[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:02:228[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:228[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:234[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:237[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:02:237[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:237[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:238[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:239[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:239[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > creates a new note successfully
MSW response: POST http://localhost:3000/api/notes [33m201[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > tracks creating state
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > tracks creating state
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:02:230[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:234[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:280[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:280[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:280[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:280[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:280[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:281[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:281[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:231[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:02:231[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:231[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:232[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:232[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:234[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:281[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:281[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:281[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > trims search query whitespace
MSW intercepted: GET http://localhost:3000/api/contacts?page=1&pageSize=25&search=john

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > provides refetch function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > provides refetch function
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > provides refetch function
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes event dates correctly
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes event dates correctly
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes event dates correctly
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:02:346[0m [34m[fetch][0m [POST] http://localhost:3000/api/notes
[90m14:29:02:346[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:346[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > tracks creating state
MSW intercepted: POST http://localhost:3000/api/notes

[90m11:00:00:0[0m [34m[setup-server:apply][0m applying the interceptor...
[90m11:00:00:0[0m [34m[setup-server][0m retrieved global instance: undefined
[90m11:00:00:0[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m11:00:00:0[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m11:00:00:0[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m11:00:00:0[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m11:00:00:0[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m11:00:00:0[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m11:00:00:0[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m11:00:00:0[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m11:00:00:0[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m11:00:00:0[0m [34m[xhr:apply][0m applying the interceptor...
[90m11:00:00:0[0m [34m[xhr][0m retrieved global instance: undefined
[90m11:00:00:0[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m11:00:00:0[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m11:00:00:0[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m11:00:00:0[0m [34m[xhr][0m set global instance! xhr
[90m11:00:00:0[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m11:00:00:0[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m11:00:00:0[0m [34m[fetch:apply][0m applying the interceptor...
[90m11:00:00:0[0m [34m[fetch][0m retrieved global instance: undefined
[90m11:00:00:0[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m11:00:00:0[0m [34m[fetch][0m set global instance! fetch
[90m11:00:00:0[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m11:00:00:0[0m [34m[setup-server][0m set global instance! setup-server
[90m11:00:00:0[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m11:00:00:0[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m11:00:00:0[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m11:00:00:0[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m11:00:00:0[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m11:00:00:0[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m11:00:00:0[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m11:00:00:0[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m11:00:00:0[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m11:00:00:0[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m11:00:00:0[0m [34m[websocket:apply][0m applying the interceptor...
[90m11:00:00:0[0m [34m[websocket][0m retrieved global instance: undefined
[90m11:00:00:0[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m11:00:00:0[0m [34m[websocket][0m set global instance! websocket
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes event dates correctly
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:02.223Z'[39m,
      endTime: [32m'2025-10-25T13:29:02.223Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:02.223Z'[39m,
      endTime: [32m'2025-10-26T12:59:02.223Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:02.223Z'[39m,
      endTime: [32m'2025-10-27T13:59:02.223Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:02.223Z'[39m,
    endTime: [32m'2025-10-25T13:29:02.223Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:02.223Z'[39m,
    endTime: [32m'2025-10-26T12:59:02.223Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:02.223Z'[39m,
    endTime: [32m'2025-10-27T13:59:02.223Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:02.223Z'[39m,
    endTime: [32m'2025-10-25T13:29:02.223Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:02.223Z'[39m,
    endTime: [32m'2025-10-26T12:59:02.223Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:02.223Z'[39m,
    endTime: [32m'2025-10-27T13:59:02.223Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

[90m14:29:02:387[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:387[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:388[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:389[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:02:389[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:389[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:391[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:392[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Create Note > tracks creating state
MSW response: POST http://localhost:3000/api/notes [33m201[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > updates a note successfully
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

[90m14:29:02:388[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:388[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:389[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > trims search query whitespace
MSW response: GET http://localhost:3000/api/contacts?page=1&pageSize=25&search=john [33m200[39m

[90m14:29:02:398[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:02:398[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:398[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > updates a note successfully
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:02:400[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZones (MSW) > provides refetch function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:02:416[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:02:416[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:416[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:417[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:02:417[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:417[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:418[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:02:418[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:418[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:02:420[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:02:420[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:420[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:02:420[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:02:420[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:420[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:02:444[0m [34m[fetch][0m [PUT] http://localhost:3000/api/notes/note-1
[90m14:29:02:444[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:444[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:448[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > updates a note successfully
MSW intercepted: PUT http://localhost:3000/api/notes/note-1

[90m14:29:02:448[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:448[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:451[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:02:451[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:451[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:453[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:454[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:454[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > updates a note successfully
MSW response: PUT http://localhost:3000/api/notes/note-1 [33m200[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > tracks updating state
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > tracks updating state
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > fetches inbox statistics
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > fetches inbox statistics
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > fetches inbox statistics
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:02:466[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:466[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:467[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:467[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:496[0m [34m[fetch][0m [GET] http://localhost:3000/api/contacts?page=1&pageSize=25&search=nonexistent
[90m14:29:02:496[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:496[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > handles empty results
MSW intercepted: GET http://localhost:3000/api/contacts?page=1&pageSize=25&search=nonexistent

[90m14:29:02:499[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:499[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:500[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:500[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all tasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:02:511[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:511[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:512[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > handles empty results
MSW response: GET http://localhost:3000/api/contacts?page=1&pageSize=25&search=nonexistent [33m200[39m

[90m14:29:02:513[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones?withStats=true
[90m14:29:02:513[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:513[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:514[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:514[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:514[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:515[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:515[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:515[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZonesWithStats (MSW) > fetches zones with stats by default
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones?withStats=true

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZonesWithStats (MSW) > fetches zones with stats by default
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZonesWithStats (MSW) > fetches zones with stats by default
MSW response: GET http://localhost:3000/api/omni-momentum/zones?withStats=true [33m200[39m

[90m14:29:02:514[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:514[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:514[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:514[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:514[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:514[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:514[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:514[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:514[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes event dates correctly
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:02.224Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:02.224Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes event dates correctly
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:02:517[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:519[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:519[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:519[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:519[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:519[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:02:525[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:526[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:526[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:526[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches all tasks
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:02:527[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:527[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:527[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:527[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:527[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:527[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:527[0m [34m[fetch][0m [PUT] http://localhost:3000/api/notes/note-1
[90m14:29:02:527[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:527[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > fetches inbox statistics
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > tracks updating state
MSW intercepted: PUT http://localhost:3000/api/notes/note-1

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:02.507Z'[39m,
      endTime: [32m'2025-10-25T13:29:02.507Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:02.507Z'[39m,
      endTime: [32m'2025-10-26T12:59:02.507Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:02.507Z'[39m,
      endTime: [32m'2025-10-27T13:59:02.507Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:02.507Z'[39m,
    endTime: [32m'2025-10-25T13:29:02.507Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:02.507Z'[39m,
    endTime: [32m'2025-10-26T12:59:02.507Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:02.507Z'[39m,
    endTime: [32m'2025-10-27T13:59:02.507Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:02.507Z'[39m,
    endTime: [32m'2025-10-25T13:29:02.507Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:02.507Z'[39m,
    endTime: [32m'2025-10-26T12:59:02.507Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:02.507Z'[39m,
    endTime: [32m'2025-10-27T13:59:02.507Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:02.513Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:02.513Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

[90m14:29:02:546[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:546[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:546[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Update Note > tracks updating state
MSW response: PUT http://localhost:3000/api/notes/note-1 [33m200[39m

[90m14:29:02:556[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:02:556[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:556[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:556[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks?projectId=project-1
[90m14:29:02:556[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:556[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:557[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:02:557[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:557[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:02:571[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:02:571[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:571[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:572[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:02:572[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:572[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:572[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:02:572[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:572[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles events with optional fields
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

[90m14:29:02:574[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:02:574[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:02:574[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:02:575[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:02:575[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:02:575[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:02:575[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:02:575[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:02:575[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:02:575[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:02:575[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:02:575[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:02:575[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:02:575[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:02:575[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:02:575[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:02:575[0m [34m[xhr][0m set global instance! xhr
[90m14:29:02:575[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:02:575[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:02:575[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:02:575[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:02:575[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:02:575[0m [34m[fetch][0m set global instance! fetch
[90m14:29:02:575[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:02:575[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:02:575[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:02:575[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:02:575[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:02:575[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:02:575[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:02:575[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:02:575[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:02:575[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:02:575[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:02:575[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:02:575[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:02:575[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:02:575[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:02:576[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:02:576[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:576[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:586[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:586[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:586[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:586[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:586[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:586[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:586[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:586[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:586[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles events with optional fields
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles events with optional fields
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles events with optional fields
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles events with optional fields
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:02.585Z'[39m,
      endTime: [32m'2025-10-25T13:29:02.585Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:02.585Z'[39m,
      endTime: [32m'2025-10-26T12:59:02.585Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:02.585Z'[39m,
      endTime: [32m'2025-10-27T13:59:02.585Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:02.585Z'[39m,
    endTime: [32m'2025-10-25T13:29:02.585Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:02.585Z'[39m,
    endTime: [32m'2025-10-26T12:59:02.585Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:02.585Z'[39m,
    endTime: [32m'2025-10-27T13:59:02.585Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:02.585Z'[39m,
    endTime: [32m'2025-10-25T13:29:02.585Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:02.585Z'[39m,
    endTime: [32m'2025-10-26T12:59:02.585Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:02.585Z'[39m,
    endTime: [32m'2025-10-27T13:59:02.585Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles events with optional fields
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:02.586Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:02.586Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles events with optional fields
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > deletes a note successfully
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > deletes a note successfully
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:02:622[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:623[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:623[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:628[0m [34m[fetch][0m [GET] http://localhost:3000/api/contacts?page=1&pageSize=25
[90m14:29:02:628[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:628[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:630[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:630[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:630[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > handles API errors gracefully
MSW intercepted: GET http://localhost:3000/api/contacts?page=1&pageSize=25

stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContacts (MSW) > handles API errors gracefully
MSW response: GET http://localhost:3000/api/contacts?page=1&pageSize=25 [33m500[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetch function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:02:641[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:02:641[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:641[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:641[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:02:641[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:641[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:704[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:02:704[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:704[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > deletes a note successfully
MSW intercepted: DELETE http://localhost:3000/api/notes/note-1

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > deletes a note successfully
MSW response: DELETE http://localhost:3000/api/notes/note-1 [33m200[39m

[90m14:29:02:728[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:02:728[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:728[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:731[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:731[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:731[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneByName (MSW) > finds zone by exact name
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneByName (MSW) > finds zone by exact name
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches tasks filtered by projectId
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks?projectId=project-1
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:02:732[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/notes/note-1
[90m14:29:02:732[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:732[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:736[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:736[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:736[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:742[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:742[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:742[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:742[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:742[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:742[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetch function
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetch function
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:02:760[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:02:760[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:760[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:761[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:02:761[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:761[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:761[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:02:761[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:761[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:02:763[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:763[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:764[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > returns empty array when not connected
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > returns empty array when not connected
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

[90m14:29:02:789[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:02:789[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:789[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > tracks deleting state
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

[90m14:29:02:798[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:02:798[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:798[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetch function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetch function
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

[90m14:29:02:800[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:800[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:800[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > tracks deleting state
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:02:800[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:800[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:800[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetchStats function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:02:801[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:02:802[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:802[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:802[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:02:802[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:802[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:02:805[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:02:805[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:805[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneByName (MSW) > returns null for non-existent zone
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:02:807[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:807[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:807[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneByName (MSW) > returns null for non-existent zone
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

[90m14:29:02:809[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:809[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:809[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

[90m14:29:02:810[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:810[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:02:810[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:02:815[0m [34m[fetch][0m [GET] http://localhost:3000/api/contacts/suggestions
[90m14:29:02:815[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:815[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContactSuggestions (MSW) > fetches suggestions when enabled
MSW intercepted: GET http://localhost:3000/api/contacts/suggestions

[90m14:29:02:828[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:829[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:829[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContactSuggestions (MSW) > fetches suggestions when enabled
MSW response: GET http://localhost:3000/api/contacts/suggestions [33m200[39m

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneByName (MSW) > is case-sensitive
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneByName (MSW) > is case-sensitive
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

[90m14:29:02:884[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:02:885[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:885[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:888[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:888[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:889[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > returns empty array when not connected
Events query result: { isConnected: [33mfalse[39m, totalCount: [33m0[39m, events: [] }
Events query returning: []
Mapped events: []

[90m14:29:02:942[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:02:942[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:942[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:02:942[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/notes/note-1
[90m14:29:02:942[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:942[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > tracks deleting state
MSW intercepted: DELETE http://localhost:3000/api/notes/note-1

[90m14:29:02:944[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:944[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:944[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > tracks deleting state
MSW response: DELETE http://localhost:3000/api/notes/note-1 [33m200[39m

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneById (MSW) > finds zone by ID
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:02:946[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:02:947[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:02:947[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneById (MSW) > finds zone by ID
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

[90m14:29:02:966[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:02:966[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:02:966[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetchStats function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:03:0[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:03:0[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:0[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > removes correct note from list
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

[90m14:29:03:1[0m [34m[fetch][0m [GET] http://localhost:3000/api/contacts/suggestions
[90m14:29:03:1[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:1[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:4[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:5[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:5[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContactSuggestions (MSW) > handles API errors
MSW intercepted: GET http://localhost:3000/api/contacts/suggestions

stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useContactSuggestions (MSW) > handles API errors
MSW response: GET http://localhost:3000/api/contacts/suggestions [33m500[39m

[90m14:29:03:106[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:106[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:107[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:126[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:126[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:126[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:126[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:126[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:126[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Query Operations > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:03:114[0m [34m[fetch][0m [POST] http://localhost:3000/api/contacts
[90m14:29:03:114[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:114[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:115[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:115[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:115[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useCreateContact (MSW) > creates a contact successfully
MSW intercepted: POST http://localhost:3000/api/contacts

stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useCreateContact (MSW) > creates a contact successfully
MSW response: POST http://localhost:3000/api/contacts [33m201[39m

[90m14:29:03:115[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:115[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:115[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > removes correct note from list
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:03:115[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:116[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:116[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:116[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:116[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:116[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:123[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:03:123[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:123[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:123[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:03:123[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:123[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:124[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:03:124[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:124[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > returns empty array when not connected
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > returns empty array when not connected
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > returns empty array when not connected
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:03.115Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:03.115Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > returns empty array when not connected
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:03:132[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:132[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:03:132[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:132[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:132[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:132[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:141[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/notes/note-1
[90m14:29:03:141[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:141[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:141[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:03:141[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:141[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneById (MSW) > returns null for non-existent ID
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:03:143[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:143[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:143[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:143[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:143[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:144[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:144[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:144[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:144[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > shows loading state during fetch
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:03:146[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:146[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:146[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneById (MSW) > returns null for non-existent ID
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

[90m14:29:03:184[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:184[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:184[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox

[90m14:29:03:187[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:187[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:187[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:187[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:187[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:187[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW response: POST http://localhost:3000/api/omni-momentum/inbox [33m201[39m

[90m14:29:03:189[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:189[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:189[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:03:195[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:195[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:195[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:195[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:195[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:195[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > creates a new inbox item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:03:199[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:03:199[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:199[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneOptions (MSW) > formats zones as select options
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:03:206[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:206[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneOptions (MSW) > formats zones as select options
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

[90m14:29:03:206[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > shows loading state during fetch
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:03.143Z'[39m,
      endTime: [32m'2025-10-25T13:29:03.143Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:03.143Z'[39m,
      endTime: [32m'2025-10-26T12:59:03.143Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:03.143Z'[39m,
      endTime: [32m'2025-10-27T13:59:03.143Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:03.143Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.143Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:03.143Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.143Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:03.143Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.143Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:03.143Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.143Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:03.143Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.143Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:03.143Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.143Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > removes correct note from list
MSW intercepted: DELETE http://localhost:3000/api/notes/note-1

[90m14:29:03:242[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:242[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:243[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches tasks filtered by projectId
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:03:267[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:267[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:321[0m [34m[fetch][0m [POST] http://localhost:3000/api/contacts
[90m14:29:03:321[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:321[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:321[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:321[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:323[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:334[0m [34m[fetch][0m [GET] http://localhost:3000/api/notes?contactId=contact-1
[90m14:29:03:334[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:335[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Delete Note > removes correct note from list
MSW response: DELETE http://localhost:3000/api/notes/note-1 [33m200[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: GET http://localhost:3000/api/notes?contactId=contact-1

stdout | src/hooks/__tests__/use-zones.msw.test.ts > useZoneOptions (MSW) > returns empty options while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/hooks/__tests__/use-zones.msw.test.ts > Zone Utility Functions > isValidWellnessZone > returns true for valid wellness zones
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches tasks filtered by projectId
MSW response: GET http://localhost:3000/api/omni-momentum/tasks?projectId=project-1 [33m200[39m

[90m14:29:03:325[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:03:325[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:325[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:327[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:327[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:327[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:329[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:03:329[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:03:329[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:03:329[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:03:329[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:03:329[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:03:329[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:03:329[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:03:329[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:03:329[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:329[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:329[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:03:329[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:03:329[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:03:329[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:03:330[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:03:330[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:333[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:03:333[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:333[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:03:333[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:03:333[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:03:333[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:03:333[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:03:333[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:333[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:03:333[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:333[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:03:333[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:333[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:03:333[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:03:333[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:03:334[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:03:334[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:03:334[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:334[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:334[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:03:327[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:327[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:327[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:327[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:327[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:327[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:337[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:337[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:337[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:337[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:337[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:337[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:03:390[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:401[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:401[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useCreateContact (MSW) > handles creation errors
MSW intercepted: POST http://localhost:3000/api/contacts

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches tasks filtered by projectId
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:03:404[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:406[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:03:408[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:408[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:409[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:406[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:408[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
 ✓ src/hooks/__tests__/use-zones.msw.test.ts (21 tests) 1747ms
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches tasks filtered by projectId
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:03:453[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:453[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:453[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/notes?contactId=contact-1 [33m200[39m

[90m14:29:03:457[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:457[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:458[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useCreateContact (MSW) > handles creation errors
MSW response: POST http://localhost:3000/api/contacts [33m400[39m

[90m14:29:03:462[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:03:463[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:463[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:463[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:03:463[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:463[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:03:464[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:465[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:465[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:463[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:463[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:463[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox

[90m14:29:03:464[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:03:464[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:464[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:465[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:03:465[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:465[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:465[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:03:465[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:465[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:03:465[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:03:465[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:465[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches pending approval tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:03:469[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:469[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:469[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:469[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:469[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:469[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:470[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:03:470[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:470[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:470[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:03:470[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:471[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:471[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:03:471[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:471[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > shows loading state during fetch
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:03.143Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:03.143Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > shows loading state during fetch
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

[90m14:29:03:485[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:491[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:494[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/contacts/contact-1
[90m14:29:03:494[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:494[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:496[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:496[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:496[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useDeleteContact (MSW) > deletes a contact successfully
MSW intercepted: DELETE http://localhost:3000/api/contacts/contact-1

stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useDeleteContact (MSW) > deletes a contact successfully
MSW response: DELETE http://localhost:3000/api/contacts/contact-1 [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW response: POST http://localhost:3000/api/omni-momentum/inbox [33m201[39m

[90m14:29:03:512[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:531[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:531[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:531[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:532[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:532[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:532[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:03:545[0m [34m[fetch][0m [POST] http://localhost:3000/api/notes
[90m14:29:03:545[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:545[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:554[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/contacts/nonexistent-id
[90m14:29:03:554[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:554[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useDeleteContact (MSW) > handles deletion of non-existent contact
MSW intercepted: DELETE http://localhost:3000/api/contacts/nonexistent-id

stdout | src/hooks/__tests__/use-contacts.msw.test.ts > useDeleteContact (MSW) > handles deletion of non-existent contact
MSW response: DELETE http://localhost:3000/api/contacts/nonexistent-id [33m404[39m

[90m14:29:03:556[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:556[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:556[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: POST http://localhost:3000/api/notes

[90m14:29:03:564[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:564[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:564[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:565[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:565[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:565[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches pending approval tasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches pending approval tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches pending approval tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:03:565[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:565[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:565[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:566[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:566[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:566[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches pending approval tasks
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:03:576[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:576[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:576[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:576[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:576[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:576[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Quick Capture > tracks creating state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:03:590[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:590[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:590[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:590[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:590[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:591[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:591[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:591[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:591[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles network errors gracefully
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles network errors gracefully
MSW response: GET http://localhost:3000/api/google/calendar/events [33m500[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles network errors gracefully
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles network errors gracefully
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > handles network errors gracefully
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:03.469Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:03.469Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:03:593[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:593[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:594[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:03:594[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:594[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: POST http://localhost:3000/api/notes [33m201[39m

[90m14:29:03:595[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:597[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:597[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:597[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:601[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:03:601[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:601[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:601[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:03:601[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:601[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:602[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:03:602[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:602[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:03:602[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:03:602[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:602[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches momentum statistics
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:03:606[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:606[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:606[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:606[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:606[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:606[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:03:625[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:03:625[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:03:625[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:03:625[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:03:626[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:03:626[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:03:626[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:03:626[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:03:626[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:03:626[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:626[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:626[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:03:626[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:03:626[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:03:627[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:03:627[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:03:627[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:627[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:03:627[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:627[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:03:627[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:03:627[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:03:627[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:03:627[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:03:627[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:627[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:03:627[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:627[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:03:627[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:627[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:03:627[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:03:627[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:03:627[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:03:627[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:03:627[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:627[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:627[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:03:655[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:03:655[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:655[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:655[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:03:655[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:655[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:656[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:03:656[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:656[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:03:655[0m [34m[fetch][0m [PUT] http://localhost:3000/api/notes/note-1761308943592
[90m14:29:03:655[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:655[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:657[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:657[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:657[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: PUT http://localhost:3000/api/notes/note-1761308943592

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: PUT http://localhost:3000/api/notes/note-1761308943592 [33m200[39m

 ✓ src/hooks/__tests__/use-contacts.msw.test.ts (12 tests) 1975ms
   ✓ useContacts (MSW) > fetches contacts without search query  362ms
[90m14:29:03:686[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:686[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:686[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/notes/note-1761308943592
[90m14:29:03:687[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:687[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches momentum statistics
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:03:688[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:690[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:690[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:691[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:692[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:692[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches momentum statistics
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches momentum statistics
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:03:693[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:694[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:694[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:694[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > fetches momentum statistics
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: DELETE http://localhost:3000/api/notes/note-1761308943592

stdout | src/hooks/__tests__/use-notes.msw.test.ts > useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: DELETE http://localhost:3000/api/notes/note-1761308943592 [33m200[39m

[90m14:29:03:699[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:699[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:699[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:703[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:03:703[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:03:703[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:03:703[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:03:703[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:03:703[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:03:703[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:03:703[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:03:703[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:03:703[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:703[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:703[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:03:703[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:03:703[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:03:703[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:03:703[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:03:703[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:704[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:03:704[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:704[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:03:704[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:03:704[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:03:704[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:03:704[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:03:704[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:704[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:03:704[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:704[0m [34m[fetch:dispose][0m destroyed the listener!
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Query Operations > returns empty arrays while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:03:703[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:03:703[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:703[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:703[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:03:703[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:703[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:703[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:03:703[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:703[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:03:704[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:03:704[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:704[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:03:704[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:707[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:03:707[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:03:707[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:03:707[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:03:707[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:03:707[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:03:707[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:03:707[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-notes.msw.test.ts (12 tests) 2186ms
   ✓ useNotes (MSW) > Delete Note > removes correct note from list  371ms
   ✓ useNotes (MSW) > Multiple Operations > can perform create, update, and delete in sequence  368ms
[90m14:29:03:721[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:735[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:735[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

[90m14:29:03:741[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:742[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:742[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:03:772[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:772[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:772[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox

[90m14:29:03:795[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:795[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:795[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:796[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:796[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:796[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:796[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:796[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:796[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW response: POST http://localhost:3000/api/omni-momentum/inbox [33m201[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:03:800[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:03:800[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:800[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:03:800[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:03:801[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:801[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:03:801[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:03:801[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:801[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:03:802[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:03:803[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:803[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:03:828[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:828[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:828[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:828[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:828[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:828[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:829[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:829[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:829[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:829[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:829[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:829[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > creates a voice note successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:03:842[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:843[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:850[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:854[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:854[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:854[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:854[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:854[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:854[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:870[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:870[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:871[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:871[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:871[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:871[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:03.589Z'[39m,
      endTime: [32m'2025-10-25T13:29:03.589Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:03.589Z'[39m,
      endTime: [32m'2025-10-26T12:59:03.589Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:03.589Z'[39m,
      endTime: [32m'2025-10-27T13:59:03.589Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:03.589Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.589Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:03.589Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.589Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:03.589Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.589Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:03.589Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.589Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:03.589Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.589Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:03.589Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.589Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:03.590Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:03.590Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
MSW intercepted: GET http://localhost:3000/api/google/calendar/events

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

[90m14:29:03:883[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:883[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:883[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:885[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:885[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:885[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:885[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:885[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:885[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:885[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:885[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:885[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW response: POST http://localhost:3000/api/omni-momentum/inbox [33m201[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:03.597Z'[39m,
      endTime: [32m'2025-10-25T13:29:03.597Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:03.597Z'[39m,
      endTime: [32m'2025-10-26T12:59:03.597Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:03.597Z'[39m,
      endTime: [32m'2025-10-27T13:59:03.597Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:03.597Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.597Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:03.597Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.597Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:03.597Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.597Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:03.597Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.597Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:03.597Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.597Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:03.597Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.597Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > fetches and maps client data successfully
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > fetches and maps client data successfully
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > fetches and maps client data successfully
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > fetches and maps client data successfully
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:03:949[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:949[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:949[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Voice Capture > tracks creating state for voice capture
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:03:949[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:949[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:949[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > fetches and maps client data successfully
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:03.842Z'[39m,
      endTime: [32m'2025-10-25T13:29:03.842Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:03.842Z'[39m,
      endTime: [32m'2025-10-26T12:59:03.842Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:03.842Z'[39m,
      endTime: [32m'2025-10-27T13:59:03.842Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:03.842Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.842Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:03.842Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.842Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:03.842Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.842Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:03.842Z'[39m,
    endTime: [32m'2025-10-25T13:29:03.842Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:03.842Z'[39m,
    endTime: [32m'2025-10-26T12:59:03.842Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:03.842Z'[39m,
    endTime: [32m'2025-10-27T13:59:03.842Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > fetches and maps client data successfully
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:03.842Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:03.842Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

[90m14:29:03:968[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:03:973[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:973[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:980[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:03:980[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:980[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:980[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:03:980[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:980[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:03:987[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:987[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:03:988[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:03:988[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:03:988[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:988[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:03:988[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:03:988[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:03:988[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:03:997[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:03:998[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:2[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:7[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:7[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:7[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > processes an item with AI successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > processes an item with AI successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > processes an item with AI successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:04:13[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:14[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:14[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:14[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:14[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:15[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:15[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:15[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:15[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > fetches and maps client data successfully
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > normalizes client fields with defaults
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > normalizes client fields with defaults
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > normalizes client fields with defaults
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > normalizes client fields with defaults
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:04:34[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:04:34[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:34[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:35[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:04:35[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:35[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:35[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:04:35[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:35[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:04:36[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:37[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:37[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:47[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:47[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:48[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:48[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:48[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:48[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > normalizes client fields with defaults
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:04.005Z'[39m,
      endTime: [32m'2025-10-25T13:29:04.005Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:04.005Z'[39m,
      endTime: [32m'2025-10-26T12:59:04.005Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:04.005Z'[39m,
      endTime: [32m'2025-10-27T13:59:04.005Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:04.005Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.005Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:04.005Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.005Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:04.005Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.005Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:04.005Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.005Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:04.005Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.005Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:04.005Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.005Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > normalizes client fields with defaults
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:04.011Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:04.011Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > normalizes client fields with defaults
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

[90m14:29:04:160[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:04:160[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:160[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:160[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:04:160[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:160[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:160[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:04:160[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:160[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:04:251[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox/process
[90m14:29:04:254[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:254[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > processes an item with AI successfully
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox/process

[90m14:29:04:367[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:367[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:368[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:368[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:368[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:04:369[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:369[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:369[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:371[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:371[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:371[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:371[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:04:371[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:371[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > processes an item with AI successfully
MSW response: POST http://localhost:3000/api/omni-momentum/inbox/process [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > tracks processing state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:04:480[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:539[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:551[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:551[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:551[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:551[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:551[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:554[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox/process
[90m14:29:04:554[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:554[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:558[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:558[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:558[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:560[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:560[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:560[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:560[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:04:560[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:560[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:566[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:566[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:566[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:566[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:566[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:566[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > tracks processing state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > tracks processing state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > tracks processing state
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox/process

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Process Item > tracks processing state
MSW response: POST http://localhost:3000/api/omni-momentum/inbox/process [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > processes multiple items successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > processes multiple items successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > processes multiple items successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:04:559[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:560[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:560[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:560[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:560[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:560[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:561[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:561[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:561[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles missing client fields with defaults
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles missing client fields with defaults
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles missing client fields with defaults
Clients query result: [ { id: [32m'client-1'[39m, name: [32m'Minimal Client'[39m } ]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles missing client fields with defaults
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles missing client fields with defaults
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

[90m14:29:04:597[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:597[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:617[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:643[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:643[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:643[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:643[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:643[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:644[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:644[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:644[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:644[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:644[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:644[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:644[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:653[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/projects
[90m14:29:04:653[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:653[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW intercepted: POST http://localhost:3000/api/omni-momentum/projects

[90m14:29:04:657[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:04:657[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:657[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:657[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:04:657[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:657[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:657[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:04:657[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:657[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:04:661[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:661[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:661[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > processes multiple items successfully
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox

[90m14:29:04:662[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:663[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:663[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:663[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:663[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:663[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:663[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:04:663[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:663[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:668[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:668[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:668[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:04:668[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:04:668[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:668[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:04:670[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:670[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:670[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:670[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:670[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:671[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:671[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:671[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:671[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:672[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:672[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:672[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > processes multiple items successfully
MSW response: POST http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > processes multiple items successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:04:669[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:669[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:669[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:671[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:04:671[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:671[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:671[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:04:671[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:671[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:672[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:04:672[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:672[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:04:672[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:04:672[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:672[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > creates a new project successfully
MSW response: POST http://localhost:3000/api/omni-momentum/projects [33m201[39m

[90m14:29:04:680[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:680[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:680[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:680[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:680[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:680[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:680[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:680[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:680[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > updates an existing project
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW response: POST http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Bulk Process > tracks bulk processing state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:04:848[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:848[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:848[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:850[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:850[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:850[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:850[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:850[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:850[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:850[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:04:850[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:850[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:853[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:853[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:853[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:853[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:853[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:853[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:862[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:04:862[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:862[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:882[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:04:882[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:882[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:882[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:04:882[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:882[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:04:897[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:898[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > updates an existing project
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:04:898[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:899[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:899[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:899[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:899[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:899[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > updates an existing project
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > updates an existing project
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > updates an existing project
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:04:899[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:899[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:899[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:04:899[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:902[0m [34m[fetch][0m [PUT] http://localhost:3000/api/omni-momentum/projects/project-1
[90m14:29:04:902[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:902[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > updates an existing project
MSW intercepted: PUT http://localhost:3000/api/omni-momentum/projects/project-1

[90m14:29:04:909[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:04:909[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > updates an existing project
MSW response: PUT http://localhost:3000/api/omni-momentum/projects/project-1 [33m200[39m

[90m14:29:04:909[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:04:917[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:04:917[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:917[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:918[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:04:918[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:918[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:04:919[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:04:919[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:919[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:04:920[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:04:920[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:920[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > deletes a project
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > updates an item successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:04:953[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:04:953[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:953[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:04:953[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:04:953[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:04:953[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:44[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:44[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:44[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:44[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:44[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:44[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:44[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:44[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > updates an item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

[90m14:29:05:44[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:44[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:44[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > updates an item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:44[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:44[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:44[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:44[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles missing client fields with defaults
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:04.047Z'[39m,
      endTime: [32m'2025-10-25T13:29:04.047Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:04.047Z'[39m,
      endTime: [32m'2025-10-26T12:59:04.047Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:04.047Z'[39m,
      endTime: [32m'2025-10-27T13:59:04.047Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:04.047Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.047Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:04.047Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.047Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:04.047Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.047Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:04.047Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.047Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:04.047Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.047Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:04.047Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.047Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles missing client fields with defaults
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > shows loading state during fetch
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

[90m14:29:05:48[0m [34m[fetch][0m [PATCH] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:48[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:48[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > updates an item successfully
MSW intercepted: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:50[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:50[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:50[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:50[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:50[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:50[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > updates an item successfully
MSW response: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > updates an item successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:51[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:51[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:51[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > updates an item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:05:57[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:05:57[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:57[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:67[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:67[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:67[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:68[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:68[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:68[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:70[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:70[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > tracks updating state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > tracks updating state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

[90m14:29:05:70[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:70[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:70[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:70[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > tracks updating state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:71[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:72[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:72[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:73[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:05:73[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:73[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:73[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:05:73[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:73[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:73[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:05:73[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:73[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:05:78[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:78[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:78[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:84[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:84[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:85[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:85[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:85[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:85[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > shows loading state during fetch
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:04.499Z'[39m,
      endTime: [32m'2025-10-25T13:29:04.499Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:04.499Z'[39m,
      endTime: [32m'2025-10-26T12:59:04.499Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:04.499Z'[39m,
      endTime: [32m'2025-10-27T13:59:04.499Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:04.499Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.499Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:04.499Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.499Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:04.499Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.499Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:04.499Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.499Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:04.499Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.499Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:04.499Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.499Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > shows loading state during fetch
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:04.555Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:04.555Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > shows loading state during fetch
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles network errors for clients
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles network errors for clients
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles network errors for clients
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles network errors for clients
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles network errors for clients
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:04.679Z'[39m,
      endTime: [32m'2025-10-25T13:29:04.679Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:04.679Z'[39m,
      endTime: [32m'2025-10-26T12:59:04.679Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:04.679Z'[39m,
      endTime: [32m'2025-10-27T13:59:04.679Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:04.679Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.679Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:04.679Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.679Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:04.679Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.679Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:04.679Z'[39m,
    endTime: [32m'2025-10-25T13:29:04.679Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:04.679Z'[39m,
    endTime: [32m'2025-10-26T12:59:04.679Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:04.679Z'[39m,
    endTime: [32m'2025-10-27T13:59:04.679Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > handles network errors for clients
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:04.680Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:04.680Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:05.043Z'[39m,
      endTime: [32m'2025-10-25T13:29:05.043Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:05.043Z'[39m,
      endTime: [32m'2025-10-26T12:59:05.043Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:05.043Z'[39m,
      endTime: [32m'2025-10-27T13:59:05.043Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:05.043Z'[39m,
    endTime: [32m'2025-10-25T13:29:05.043Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:05.043Z'[39m,
    endTime: [32m'2025-10-26T12:59:05.043Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:05.043Z'[39m,
    endTime: [32m'2025-10-27T13:59:05.043Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:05.043Z'[39m,
    endTime: [32m'2025-10-25T13:29:05.043Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:05.043Z'[39m,
    endTime: [32m'2025-10-26T12:59:05.043Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:05.043Z'[39m,
    endTime: [32m'2025-10-27T13:59:05.043Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:05.044Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:05.044Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Clients query > refetches clients with refetchClients
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:05.071Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:05.071Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:05.084Z'[39m,
      endTime: [32m'2025-10-25T13:29:05.084Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:05.084Z'[39m,
      endTime: [32m'2025-10-26T12:59:05.084Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:05.084Z'[39m,
      endTime: [32m'2025-10-27T13:59:05.084Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:05.084Z'[39m,
    endTime: [32m'2025-10-25T13:29:05.084Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:05.084Z'[39m,
    endTime: [32m'2025-10-26T12:59:05.084Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:05.084Z'[39m,
    endTime: [32m'2025-10-27T13:59:05.084Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:05.084Z'[39m,
    endTime: [32m'2025-10-25T13:29:05.084Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:05.084Z'[39m,
    endTime: [32m'2025-10-26T12:59:05.084Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:05.084Z'[39m,
    endTime: [32m'2025-10-27T13:59:05.084Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:05.084Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:05.084Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

[90m14:29:05:178[0m [34m[fetch][0m [PATCH] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:180[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:180[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > tracks updating state
MSW intercepted: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:203[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:203[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:203[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:203[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:203[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:203[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:205[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:205[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:205[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > tracks updating state
MSW response: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > tracks updating state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Update Item > tracks updating state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:204[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:204[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:204[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:205[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:205[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:205[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:205[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:205[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:205[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:206[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:206[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:206[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > deletes a project
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > deletes a project
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > deletes a project
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > deletes a project
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks an item as processed successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:207[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:207[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:207[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:207[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:207[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:207[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:214[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:214[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:214[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:214[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:214[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:214[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks an item as processed successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks an item as processed successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:215[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/omni-momentum/projects/project-1
[90m14:29:05:215[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:215[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > deletes a project
MSW intercepted: DELETE http://localhost:3000/api/omni-momentum/projects/project-1

[90m14:29:05:220[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:221[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > deletes a project
MSW response: DELETE http://localhost:3000/api/omni-momentum/projects/project-1 [33m200[39m

[90m14:29:05:221[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:228[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:05:228[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:228[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:228[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:05:228[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:228[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:228[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:05:228[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:228[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:05:229[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:229[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:229[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:02:576[0m [34m[websocket][0m set global instance! websocket
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > tracks project mutation loading states
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:267[0m [34m[fetch][0m [PATCH] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:267[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:267[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks an item as processed successfully
MSW intercepted: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:269[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:269[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:269[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks an item as processed successfully
MSW response: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

[90m14:29:05:270[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:270[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:270[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks an item as processed successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:272[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:272[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:272[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks an item as processed successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:281[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:281[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:281[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:281[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:281[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:281[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks with created task ID
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:288[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:289[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:289[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:289[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:289[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:289[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks with created task ID
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks with created task ID
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:308[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:308[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > tracks project mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:05:311[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:313[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:313[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > tracks project mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

[90m14:29:05:314[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:320[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:320[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > tracks project mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:05:320[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:321[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:321[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:321[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > tracks project mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:05:327[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/projects
[90m14:29:05:327[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:327[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > tracks project mutation loading states
MSW intercepted: POST http://localhost:3000/api/omni-momentum/projects

[90m14:29:05:334[0m [34m[fetch][0m [PATCH] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:334[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:334[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks with created task ID
MSW intercepted: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:336[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:336[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks with created task ID
MSW response: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

[90m14:29:05:336[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:336[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:336[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:336[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks with created task ID
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:338[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:338[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:338[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > marks with created task ID
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:339[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:339[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:339[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:339[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:339[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:339[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > tracks updating state for mark as processed
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:341[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:341[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:341[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Project Operations > tracks project mutation loading states
MSW response: POST http://localhost:3000/api/omni-momentum/projects [33m201[39m

[90m14:29:05:342[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:342[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:342[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:342[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:342[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:342[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > tracks updating state for mark as processed
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > tracks updating state for mark as processed
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:342[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:05:342[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:342[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:342[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:05:342[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:342[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:343[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:05:343[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:343[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:05:343[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:343[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:343[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:388[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:388[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:05:389[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:392[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:394[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:394[0m [34m[fetch][0m [PATCH] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:394[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:394[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > tracks updating state for mark as processed
MSW intercepted: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:395[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:396[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:396[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:05:409[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:409[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:409[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:410[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:05:409[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:410[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:410[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > tracks updating state for mark as processed
MSW response: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

[90m14:29:05:410[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:410[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:410[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > tracks updating state for mark as processed
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:413[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:413[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Mark As Processed > tracks updating state for mark as processed
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:413[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:416[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:05:416[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:416[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:416[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:416[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:416[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW intercepted: POST http://localhost:3000/api/omni-momentum/tasks

[90m14:29:05:416[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:416[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:416[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:421[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:421[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:421[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW response: POST http://localhost:3000/api/omni-momentum/tasks [33m201[39m

[90m14:29:05:421[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:422[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:422[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:422[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:422[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:422[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:422[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:422[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:422[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:430[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:430[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:430[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a new task successfully
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:05:432[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:05:432[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:432[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:432[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:05:432[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:432[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:433[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:05:433[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:433[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:05:433[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:433[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:433[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:472[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:472[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:472[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW intercepted: DELETE http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:475[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:475[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:475[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW response: DELETE http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

[90m14:29:05:475[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:475[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:475[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:476[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:476[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:476[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:480[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:480[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > deletes an item successfully
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:480[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:480[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:480[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:480[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:484[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:484[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:484[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:485[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:485[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:485[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:490[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:490[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:490[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:490[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:490[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:490[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:541[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:541[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:541[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW intercepted: DELETE http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:544[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:544[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:545[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:545[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:545[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:545[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:545[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:545[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:545[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW response: DELETE http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:551[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:551[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Delete Item > tracks deleting state
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:552[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:552[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:552[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:552[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:554[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:554[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:554[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:556[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:556[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:556[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:568[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:568[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:569[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:569[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:569[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:569[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:575[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:576[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:05:600[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:601[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:601[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:601[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:601[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:601[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:05:602[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:602[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:602[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:602[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:610[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks
[90m14:29:05:610[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:610[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW intercepted: POST http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks

[90m14:29:05:621[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:621[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:621[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW response: POST http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks [33m201[39m

[90m14:29:05:623[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:05:623[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:623[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:624[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:624[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:624[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:639[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:639[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

[90m14:29:05:640[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:641[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:641[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:641[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:641[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:641[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:642[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: POST http://localhost:3000/api/omni-momentum/inbox

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > creates a subtask successfully
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:05:644[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:05:644[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:644[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:645[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:05:645[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:645[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:645[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:05:645[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:645[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:05:645[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:645[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:645[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:670[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:670[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:05:682[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:682[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:682[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: POST http://localhost:3000/api/omni-momentum/inbox [33m201[39m

[90m14:29:05:682[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:682[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:682[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:684[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:688[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:688[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:688[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:701[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:701[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

[90m14:29:05:702[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:703[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:703[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:05:705[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:706[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:706[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:05:706[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:712[0m [34m[fetch][0m [PUT] http://localhost:3000/api/omni-momentum/tasks/task-1
[90m14:29:05:712[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:712[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW intercepted: PUT http://localhost:3000/api/omni-momentum/tasks/task-1

[90m14:29:05:729[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:729[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:729[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:729[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:729[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:729[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:733[0m [34m[fetch][0m [PATCH] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:733[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:733[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:735[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:735[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:735[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: PATCH http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

[90m14:29:05:739[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:739[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:739[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:753[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:754[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:754[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:755[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/omni-momentum/inbox/inbox-1
[90m14:29:05:755[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:755[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: DELETE http://localhost:3000/api/omni-momentum/inbox/inbox-1

[90m14:29:05:761[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:761[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:761[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: DELETE http://localhost:3000/api/omni-momentum/inbox/inbox-1 [33m200[39m

[90m14:29:05:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:762[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:762[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:773[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:773[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:774[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:774[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:774[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:774[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Multiple Operations > can perform create, update, and delete in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:775[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:781[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox
[90m14:29:05:781[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:781[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:782[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:782[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:782[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:783[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW response: PUT http://localhost:3000/api/omni-momentum/tasks/task-1 [33m200[39m

[90m14:29:05:785[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:786[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:786[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:786[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:786[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:787[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:787[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW response: GET http://localhost:3000/api/omni-momentum/inbox [33m200[39m

stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInbox (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:792[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:792[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:792[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:822[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:823[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > updates an existing task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:05:823[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:843[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:05:843[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:05:843[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:05:843[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:05:844[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:05:844[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:05:844[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:05:844[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:05:845[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:05:845[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:05:845[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:05:845[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:05:845[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:05:845[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:05:845[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:05:845[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:05:845[0m [34m[xhr][0m set global instance! xhr
[90m14:29:05:845[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:05:845[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:05:845[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:05:845[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:05:845[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:05:846[0m [34m[fetch][0m set global instance! fetch
[90m14:29:05:846[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:05:846[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:05:846[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:05:846[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:05:846[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:05:846[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:05:846[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:05:846[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:05:846[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:05:846[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:05:846[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:05:846[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:05:846[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:05:846[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:05:846[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:05:846[0m [34m[websocket][0m set global instance! websocket
[90m14:29:05:848[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:848[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:848[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInboxStats (MSW) > fetches inbox statistics
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:861[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:05:861[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:862[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:05:862[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:862[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInboxStats (MSW) > fetches inbox statistics
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:863[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:863[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:05:863[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:864[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:05:868[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:05:868[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:868[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:05:872[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:05:872[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:872[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:05:914[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?stats=true
[90m14:29:05:914[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:914[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useInboxStats (MSW) > returns undefined while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?stats=true

[90m14:29:05:922[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?status=unprocessed
[90m14:29:05:923[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:923[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useUnprocessedInboxItems (MSW) > fetches only unprocessed items
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed

[90m14:29:05:926[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:926[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:927[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useUnprocessedInboxItems (MSW) > fetches only unprocessed items
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?stats=true [33m200[39m

[90m14:29:05:929[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:930[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useUnprocessedInboxItems (MSW) > fetches only unprocessed items
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed [33m200[39m

[90m14:29:05:930[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:975[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:05:975[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:05:975[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:05:975[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:05:975[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:05:975[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:05:975[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:05:975[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:05:975[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:05:975[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:05:975[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:05:975[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:05:975[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:05:975[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:05:975[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:05:975[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:05:975[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:05:975[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:05:975[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:05:975[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:05:975[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:05:975[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:05:975[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:05:975[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:05:975[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:05:975[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:05:975[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:05:975[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:05:975[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:05:975[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:05:975[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:05:975[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:05:975[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:05:975[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:05:975[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:05:975[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:05:976[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/app/api/db-ping/route.test.ts (2 tests | 1 failed) 6077ms
   × /api/db-ping > returns 200 when db.execute succeeds 5049ms
     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   ✓ /api/db-ping > returns 500 when db.execute throws  1021ms
[90m14:29:05:979[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?status=unprocessed
[90m14:29:05:979[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:979[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useUnprocessedInboxItems (MSW) > returns undefined while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed

[90m14:29:05:981[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/inbox?status=unprocessed&limit=1
[90m14:29:05:981[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:05:981[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useUnprocessedInboxItems (MSW) > respects limit parameter
MSW intercepted: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed&limit=1

[90m14:29:05:986[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:986[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useUnprocessedInboxItems (MSW) > respects limit parameter
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed [33m200[39m

[90m14:29:05:988[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:992[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:993[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:993[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-inbox.msw.test.ts > useUnprocessedInboxItems (MSW) > respects limit parameter
MSW response: GET http://localhost:3000/api/omni-momentum/inbox?status=unprocessed&limit=1 [33m200[39m

[90m14:29:05:996[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:996[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:05:997[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:05:997[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:998[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:05:998[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

[90m14:29:05:999[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:05:999[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:06:12[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:20[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:23[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:06:23[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:33[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/omni-momentum/tasks/task-1
[90m14:29:06:33[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:33[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW intercepted: DELETE http://localhost:3000/api/omni-momentum/tasks/task-1

[90m14:29:06:35[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:06:35[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:06:35[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:06:35[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:06:35[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:06:35[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:06:35[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:06:35[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:06:35[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:06:35[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:06:35[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:06:35[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:06:35[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:06:35[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:06:35[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:06:35[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:06:35[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:06:35[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:06:35[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:06:35[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:06:35[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:06:35[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:06:35[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:06:35[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:06:35[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:06:35[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:06:35[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:06:35[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:06:35[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:06:35[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:06:35[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:06:35[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:06:35[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:06:35[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:06:35[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:06:35[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:06:35[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-inbox.msw.test.ts (29 tests) 4502ms
   ✓ useInbox (MSW) > Query Operations > fetches all inbox items by default  376ms
   ✓ useInbox (MSW) > Query Operations > provides refetchStats function  308ms
   ✓ useInbox (MSW) > Process Item > processes an item with AI successfully  384ms
[90m14:29:06:141[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:141[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:142[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:142[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:06:142[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:142[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW response: DELETE http://localhost:3000/api/omni-momentum/tasks/task-1 [33m200[39m

[90m14:29:06:154[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:06:154[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:154[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:06:154[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:06:154[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:154[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:06:155[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:06:155[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:155[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows initial disconnected state
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

[90m14:29:06:162[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:06:162[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:162[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:06:162[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:06:162[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:162[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:06:163[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:06:163[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:163[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

[90m14:29:06:165[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:06:165[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:165[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:06:179[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:179[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

[90m14:29:06:181[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:201[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:201[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

[90m14:29:06:201[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:201[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:202[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

[90m14:29:06:202[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:202[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:203[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:205[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:210[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:210[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:06:210[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:210[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:210[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:210[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:06.193Z'[39m,
      endTime: [32m'2025-10-25T13:29:06.193Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:06.193Z'[39m,
      endTime: [32m'2025-10-26T12:59:06.193Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:06.193Z'[39m,
      endTime: [32m'2025-10-27T13:59:06.193Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:06.193Z'[39m,
    endTime: [32m'2025-10-25T13:29:06.193Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:06.193Z'[39m,
    endTime: [32m'2025-10-26T12:59:06.193Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:06.193Z'[39m,
    endTime: [32m'2025-10-27T13:59:06.193Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:06.193Z'[39m,
    endTime: [32m'2025-10-25T13:29:06.193Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:06.193Z'[39m,
    endTime: [32m'2025-10-26T12:59:06.193Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:06.193Z'[39m,
    endTime: [32m'2025-10-27T13:59:06.193Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:06.199Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:06.199Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:06.206Z'[39m,
      endTime: [32m'2025-10-25T13:29:06.206Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:06.206Z'[39m,
      endTime: [32m'2025-10-26T12:59:06.206Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:06.206Z'[39m,
      endTime: [32m'2025-10-27T13:59:06.206Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:06.206Z'[39m,
    endTime: [32m'2025-10-25T13:29:06.206Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:06.206Z'[39m,
    endTime: [32m'2025-10-26T12:59:06.206Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:06.206Z'[39m,
    endTime: [32m'2025-10-27T13:59:06.206Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:06.206Z'[39m,
    endTime: [32m'2025-10-25T13:29:06.206Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:06.206Z'[39m,
    endTime: [32m'2025-10-26T12:59:06.206Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:06.206Z'[39m,
    endTime: [32m'2025-10-27T13:59:06.206Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:06.209Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:06.209Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval

[90m14:29:06:290[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:06:307[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:307[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

[90m14:29:06:320[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:331[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:339[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:339[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stderr | src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx > ActiveTokensList > should handle delete errors
Delete token error: Error: Delete failed
    at [90m/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx:307:38
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
    at runTest [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runFiles [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1787:3[90m)[39m

[90m14:29:06:355[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:06:356[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:356[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:06:394[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:06:394[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:394[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:06:394[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:06:394[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:394[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:06:394[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:06:394[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:394[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:06:461[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:06:553[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:553[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:554[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:554[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:554[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:554[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:555[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:555[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:555[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:555[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:555[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:555[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:06:622[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/tasks/pending-task-1/approve
[90m14:29:06:622[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:622[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW intercepted: POST http://localhost:3000/api/omni-momentum/tasks/pending-task-1/approve

[90m14:29:06:630[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:630[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: POST http://localhost:3000/api/omni-momentum/tasks/pending-task-1/approve [33m200[39m

[90m14:29:06:631[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:631[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:06:631[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:631[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:06:631[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:06:631[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:631[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:06:631[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:06:631[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:631[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:06:627[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:06:837[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:06:903[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:06:903[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:06:905[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:06:938[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:06:938[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:06:938[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:06:938[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:06:941[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:941[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:942[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

[90m14:29:06:943[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:943[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > approves a pending task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:06:947[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:948[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:06:948[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:06:948[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:06:950[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:06:950[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:950[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:06:950[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:06:950[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:950[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:06:950[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:06:950[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:950[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:06:951[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:06:951[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:06:951[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stderr | src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > User Interactions > prevents saving when no contact is selected
Failed to save note: TypeError: Cannot read properties of undefined (reading 'redactionWarning')
    at handleSave [90m(/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/RapidNoteModal.tsx:191:18[90m)[39m

[90m14:29:06:976[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:06:976[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:06:976[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:06:977[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:07:28[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:28[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:07:28[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:29[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:29[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:29[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:29[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:29[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:29[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:30[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:30[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:30[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW intercepted: POST http://localhost:3000/api/omni-momentum/tasks/pending-task-1/reject

[90m14:29:07:80[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/tasks/pending-task-1/reject
[90m14:29:07:80[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:80[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:91[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:91[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:91[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: POST http://localhost:3000/api/omni-momentum/tasks/pending-task-1/reject [33m200[39m

[90m14:29:07:92[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:07:93[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:93[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:93[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:07:93[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:93[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:93[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:07:93[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:93[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows loading state during fetch
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

[90m14:29:07:172[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:172[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:172[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:172[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:172[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:172[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:173[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:173[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:173[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:207[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:207[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:208[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:208[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:208[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:208[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:208[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:208[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:208[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows loading state during fetch
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:07:232[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:232[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:232[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:232[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:232[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:232[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:233[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:233[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:233[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:234[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:234[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:235[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:238[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:238[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:238[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:238[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:238[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:238[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows loading state during fetch
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:07.205Z'[39m,
      endTime: [32m'2025-10-25T13:29:07.205Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:07.205Z'[39m,
      endTime: [32m'2025-10-26T12:59:07.205Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:07.205Z'[39m,
      endTime: [32m'2025-10-27T13:59:07.205Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:07.205Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.205Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:07.205Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.205Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:07.205Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.205Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:07.205Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.205Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:07.205Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.205Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:07.205Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.205Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows loading state during fetch
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.207Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.207Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > shows loading state during fetch
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles network errors for status
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles network errors for status
MSW response: GET http://localhost:3000/api/google/status [33m500[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles network errors for status
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles network errors for status
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:07:248[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:248[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:248[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:249[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:249[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:249[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:249[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:250[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:250[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:262[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:262[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:262[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:262[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:262[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:262[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:263[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:263[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:263[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:289[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:289[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:289[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:327[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:327[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:327[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:328[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:328[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:328[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:328[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:328[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:328[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:328[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:328[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:328[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:353[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:354[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:354[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:354[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:354[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:355[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:355[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:355[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:355[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:356[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:07:356[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:356[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:356[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:07:356[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:356[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:356[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:07:356[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:356[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:357[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:07:357[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:357[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects a task without deleting
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:07:391[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:391[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:391[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:391[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:391[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:391[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:391[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:391[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:391[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles network errors for status
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:07.238Z'[39m,
      endTime: [32m'2025-10-25T13:29:07.238Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:07.238Z'[39m,
      endTime: [32m'2025-10-26T12:59:07.238Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:07.238Z'[39m,
      endTime: [32m'2025-10-27T13:59:07.238Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:07.238Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.238Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:07.238Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.238Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:07.238Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.238Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:07.238Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.238Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:07.238Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.238Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:07.238Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.238Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles network errors for status
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.238Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.238Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

[90m14:29:07:420[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:420[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:420[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:07:430[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:430[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:430[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:431[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:431[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:431[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:431[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:431[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:431[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:434[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:434[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:434[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:07:435[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:435[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:435[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:07:444[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:444[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:445[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:445[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:445[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:445[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:445[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:445[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:445[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:07:464[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:464[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:464[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:07:577[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:07:578[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:07:578[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:07:578[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:07:578[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:07:578[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:07:578[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:07:578[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:07:578[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:07:578[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:07:578[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:07:578[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:07:578[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:07:578[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:07:578[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:07:578[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:07:578[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:07:578[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:07:578[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:07:578[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:07:578[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:07:578[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:07:578[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:07:578[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:07:578[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:07:578[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:07:579[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:07:579[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:07:579[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:07:579[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:07:579[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:07:579[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:07:579[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:07:579[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:07:579[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:07:579[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:07:579[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:07:625[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:07:625[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:07:625[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:625[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:07:625[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:07:625[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:07:625[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:07:625[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:625[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:07:626[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:626[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:07:626[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:07:626[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:07:626[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:626[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:07:626[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:07:626[0m [34m[xhr][0m set global instance! xhr
[90m14:29:07:626[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:626[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:07:626[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:07:626[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:07:626[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:626[0m [34m[fetch][0m set global instance! fetch
[90m14:29:07:626[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:627[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:07:627[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:627[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:627[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:627[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:627[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:627[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:627[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:627[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:627[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:627[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:07:627[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:07:628[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:07:628[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:628[0m [34m[websocket][0m set global instance! websocket
[90m14:29:07:603[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/tasks/pending-task-1/reject
[90m14:29:07:632[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:633[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW intercepted: POST http://localhost:3000/api/omni-momentum/tasks/pending-task-1/reject

[90m14:29:07:680[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:07:680[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:07:681[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:681[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:07:681[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:07:681[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:07:681[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:07:681[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:682[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:07:682[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:682[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:07:682[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:07:682[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:07:682[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:682[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:07:682[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:07:682[0m [34m[xhr][0m set global instance! xhr
[90m14:29:07:682[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:682[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:07:682[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:07:682[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:07:682[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:682[0m [34m[fetch][0m set global instance! fetch
[90m14:29:07:682[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:682[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:07:683[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:683[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:683[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:683[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:683[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:683[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:684[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:684[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:684[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:684[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:07:684[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:07:684[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:07:684[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:684[0m [34m[websocket][0m set global instance! websocket
[90m14:29:07:752[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:07:752[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:07:753[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:753[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:07:753[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:07:753[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:07:753[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:07:753[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:753[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:07:753[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:753[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:07:753[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:07:753[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:07:753[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:753[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:07:753[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:07:753[0m [34m[xhr][0m set global instance! xhr
[90m14:29:07:753[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:753[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:07:753[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:07:753[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:07:753[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:754[0m [34m[fetch][0m set global instance! fetch
[90m14:29:07:754[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:754[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:07:754[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:754[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:754[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:754[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:754[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:754[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:754[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:754[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:754[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:755[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:07:757[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:07:757[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:07:757[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:757[0m [34m[websocket][0m set global instance! websocket
[90m14:29:07:755[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:07:755[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:07:758[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:758[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:07:765[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:07:765[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:07:765[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:07:765[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:768[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:07:769[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:769[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:07:769[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:07:769[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:07:769[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:769[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:07:769[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:07:769[0m [34m[xhr][0m set global instance! xhr
[90m14:29:07:769[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:769[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:07:769[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:07:769[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:07:769[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:769[0m [34m[fetch][0m set global instance! fetch
[90m14:29:07:769[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:07:769[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:07:763[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:763[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:763[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:763[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:07:763[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:763[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:763[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:07:763[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:763[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:764[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:07:764[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:764[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: POST http://localhost:3000/api/omni-momentum/tasks/pending-task-1/reject [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:07:769[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:769[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:769[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:769[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:770[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:770[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:770[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:770[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:770[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:771[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:771[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:771[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:771[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:771[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:771[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:771[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:771[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:771[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:07:774[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:774[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:774[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:07:774[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:774[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:774[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:07:774[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:774[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:774[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:07:776[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:07:776[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:07:776[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:07:776[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:07:776[0m [34m[websocket][0m set global instance! websocket
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:07.262Z'[39m,
      endTime: [32m'2025-10-25T13:29:07.262Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:07.262Z'[39m,
      endTime: [32m'2025-10-26T12:59:07.262Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:07.262Z'[39m,
      endTime: [32m'2025-10-27T13:59:07.262Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:07.262Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.262Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:07.262Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.262Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:07.262Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.262Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:07.262Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.262Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:07.262Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.262Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:07.262Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.262Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.262Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.262Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > refetches status with refetchStatus
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

[90m14:29:07:803[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:803[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:803[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:803[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:803[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:803[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:803[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:803[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:803[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > rejects and deletes a task
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:07:816[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:816[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:816[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:816[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:816[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:816[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:816[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:816[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:816[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:818[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:818[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:818[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:843[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:07:843[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:843[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:847[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:847[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:847[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:847[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:847[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:847[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:07:853[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:07:854[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:854[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:854[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:07:854[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:854[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:854[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:07:854[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:854[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > tracks task mutation loading states
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:07:859[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:859[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:859[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
 ❯ src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx (13 tests | 4 failed) 5192ms
   ✓ ActiveTokensList > should render loading state  1234ms
   × ActiveTokensList > should render error state 1022ms
     → Unable to find an element with the text: Failed to load active links. Please try refreshing the page.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-3"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
        [36m/>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ ActiveTokensList > should render empty state 13ms
   × ActiveTokensList > should render active tokens 224ms
     → Unable to find an element with the text: /1 total link.*1 active.*0 used.*0 expired/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"text-sm font-medium text-gray-900 flex items-center gap-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-2 h-2 bg-green-500 rounded-full"[39m
            [36m/>[39m
            [0mActive Links ([0m
            [0m1[0m
            [0m)[0m
          [36m</h3>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-xs"[39m
            [33mdata-slot[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-refresh-cw h-3 w-3 mr-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 3v5h-5"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 16H3v5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mRefresh[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-3 border rounded-lg transition-colors border-green-200 bg-green-50/50"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-start mb-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90"[39m
                  [33mdata-slot[39m=[32m"badge"[39m
                [36m>[39m
                  [0mActive[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                [36m>[39m
                  [0mSingle use[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"Copy onboarding URL"[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                  [33mdata-slot[39m=[32m"button"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-copy h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<rect[39m
                      [33mheight[39m=[32m"14"[39m
                      [33mrx[39m=[32m"2"[39m
                      [33mry[39m=[32m"2"[39m
                      [33mwidth[39m=[32m"14"[39m
                      [33mx[39m=[32m"8"[39m
                      [33my[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"Open onboarding URL in new tab"[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"...
   × ActiveTokensList > should copy token URL to clipboard 1099ms
     → expected 'http://localhost:3000' to be 'https://test.app.com' // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 bg-green-500 rounded-full"[39m
              [36m/>[39m
              [0mActive Links ([0m
              [0m1[0m
              [0m)[0m
            [36m</h3>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-xs"[39m
              [33mdata-slot[39m=[32m"button"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRefresh[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-3 border rounded-lg transition-colors border-green-200 bg-green-50/50"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start mb-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90"[39m
                    [33mdata-slot[39m=[32m"badge"[39m
                  [36m>[39m
                    [0mActive[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [36m>[39m
                    [0mSingle use[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Copy onboarding URL"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-copy h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mry[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mx[39m=[32m"8"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open onboarding URL in new tab"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-external-link h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 3h6v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 14 21 3"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete token"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-red-500 hover:text-red-700 hover:bg-red-50"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M14 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M3 6h18"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-xs text-muted-foreground mb-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-users h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"9"[39m
                      [33mcy[39m=[32m"7"[39m
                      [33mr[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mUnused[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 6v6l4 2"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"10"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mExpires -26 hours ago from now[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mCreated [0m
                [0m0 hours ago[0m
                [0m ago[0m
              [36m</p>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 p-2 bg-gray-50 rounded text-xs font-mono truncate"[39m
              [36m>[39m
                [0mhttp://localhost:3000[0m
                [0m/onboard/[0m
                [0mtest-token-1[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-muted-foreground pt-2 border-t"[39m
        [36m>[39m
          [0m1[0m
          [0m total link[0m
          [0m • [0m
          [0m1[0m
          [0m active •[0m
          [0m [0m
          [0m0[0m
          [0m used • [0m
          [0m0[0m
          [0m expired[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ ActiveTokensList > should open token URL in new tab 68ms
   ✓ ActiveTokensList > should delete token successfully 82ms
   ✓ ActiveTokensList > should handle delete errors 58ms
   ✓ ActiveTokensList > should show correct usage information 16ms
   ✓ ActiveTokensList > should not show action buttons for non-active tokens 10ms
   × ActiveTokensList > should handle clipboard errors gracefully 1147ms
     → expected 'http://localhost:3000' to be 'https://test.app.com' // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 bg-green-500 rounded-full"[39m
              [36m/>[39m
              [0mActive Links ([0m
              [0m1[0m
              [0m)[0m
            [36m</h3>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-xs"[39m
              [33mdata-slot[39m=[32m"button"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRefresh[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-3 border rounded-lg transition-colors border-green-200 bg-green-50/50"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start mb-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90"[39m
                    [33mdata-slot[39m=[32m"badge"[39m
                  [36m>[39m
                    [0mActive[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [36m>[39m
                    [0mSingle use[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Copy onboarding URL"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-copy h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mry[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mx[39m=[32m"8"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open onboarding URL in new tab"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-external-link h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 3h6v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 14 21 3"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete token"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-red-500 hover:text-red-700 hover:bg-red-50"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M14 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M3 6h18"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-xs text-muted-foreground mb-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-users h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"9"[39m
                      [33mcy[39m=[32m"7"[39m
                      [33mr[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mUnused[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 6v6l4 2"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"10"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mExpires -26 hours ago from now[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mCreated [0m
                [0m0 hours ago[0m
                [0m ago[0m
              [36m</p>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 p-2 bg-gray-50 rounded text-xs font-mono truncate"[39m
              [36m>[39m
                [0mhttp://localhost:3000[0m
                [0m/onboard/[0m
                [0mtest-token-1[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-muted-foreground pt-2 border-t"[39m
        [36m>[39m
          [0m1[0m
          [0m total link[0m
          [0m • [0m
          [0m1[0m
          [0m active •[0m
          [0m [0m
          [0m0[0m
          [0m used • [0m
          [0m0[0m
          [0m expired[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ ActiveTokensList > should handle missing origin gracefully 208ms
   ✓ ActiveTokensList > should show disabled state for disabled tokens 7ms
[90m14:29:07:874[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:07:874[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:874[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:885[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:07:885[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:885[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:885[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:885[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:885[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:886[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:07:886[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:886[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:887[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:07:887[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:887[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:07:888[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:07:888[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:888[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:07:889[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:07:889[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:889[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:07:930[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:930[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:930[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:946[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:946[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:946[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:950[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:950[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:950[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:950[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:950[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:950[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:07.390Z'[39m,
      endTime: [32m'2025-10-25T13:29:07.390Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:07.390Z'[39m,
      endTime: [32m'2025-10-26T12:59:07.390Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:07.390Z'[39m,
      endTime: [32m'2025-10-27T13:59:07.390Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:07.390Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.390Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:07.390Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.390Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:07.390Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.390Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:07.390Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.390Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:07.390Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.390Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:07.390Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.390Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.391Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.391Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

[90m14:29:07:958[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:958[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > tracks task mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:07:969[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:07.767Z'[39m,
      endTime: [32m'2025-10-25T13:29:07.767Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:07.767Z'[39m,
      endTime: [32m'2025-10-26T12:59:07.767Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:07.767Z'[39m,
      endTime: [32m'2025-10-27T13:59:07.767Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:07.767Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.767Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:07.767Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.767Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:07.767Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.767Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:07.767Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.767Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:07.767Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.767Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:07.767Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.767Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.768Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.768Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

[90m14:29:07:985[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:985[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:985[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:985[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:985[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:986[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:07:986[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:986[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:986[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > tracks task mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > tracks task mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Task Operations > tracks task mutation loading states
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:07:988[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:07:988[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:988[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:07:989[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:07:989[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:989[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:07:996[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:07:996[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:07:996[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:07:998[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:07:998[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:07:998[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:14[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:08:14[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:14[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:15[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:08:15[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:15[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:15[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:08:15[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:15[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:15[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:08:15[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:15[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchProjects function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:08:18[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:18[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:18[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:18[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:18[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:18[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:07.770Z'[39m,
      endTime: [32m'2025-10-25T13:29:07.770Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:07.770Z'[39m,
      endTime: [32m'2025-10-26T12:59:07.770Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:07.770Z'[39m,
      endTime: [32m'2025-10-27T13:59:07.770Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:07.770Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.770Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:07.770Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.770Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:07.770Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.770Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:07.770Z'[39m,
    endTime: [32m'2025-10-25T13:29:07.770Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:07.770Z'[39m,
    endTime: [32m'2025-10-26T12:59:07.770Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:07.770Z'[39m,
    endTime: [32m'2025-10-27T13:59:07.770Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.771Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.771Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent loading states
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent error states
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent error states
MSW response: GET http://localhost:3000/api/google/calendar/events [33m500[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent error states
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent error states
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Convenience functions > allows independent error states
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.847Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.847Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m1[39m,
  events: [ { id: [32m'minimal-event'[39m } ]
}
Events query returning: [ { id: [32m'minimal-event'[39m } ]
Mapped events: [
  {
    id: [32m'minimal-event'[39m,
    title: [32m'Untitled'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-24T12:29:07.947Z'[39m,
    endTime: [32m'2025-10-24T13:29:07.947Z'[39m,
    attendees: [1mnull[22m,
    location: [32m''[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:07.950Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:07.950Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m1[39m,
  error: [1mnull[22m
}

[90m14:29:08:83[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:08:83[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:83[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:84[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:08:84[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:84[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:84[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:08:84[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:84[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:97[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:97[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:97[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:101[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:101[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:101[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:101[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:101[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:101[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully
Events after waitForQueriesToSettle: [
  {
    id: [32m'minimal-event'[39m,
    title: [32m'Untitled'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-24T12:29:07.947Z'[39m,
    endTime: [32m'2025-10-24T13:29:07.947Z'[39m,
    attendees: [1mnull[22m,
    location: [32m''[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m1[39m,
  events: [
    {
      id: [32m'event-bad-attendees'[39m,
      title: [32m'Test Event'[39m,
      startTime: [32m'2025-10-24T12:29:07.997Z'[39m,
      endTime: [32m'2025-10-24T12:29:07.997Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-bad-attendees'[39m,
    title: [32m'Test Event'[39m,
    startTime: [32m'2025-10-24T12:29:07.997Z'[39m,
    endTime: [32m'2025-10-24T12:29:07.997Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m, [36m[Object][39m, [32m'invalid'[39m ]
  }
]
Mapped events: [
  {
    id: [32m'event-bad-attendees'[39m,
    title: [32m'Test Event'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-24T12:29:07.997Z'[39m,
    endTime: [32m'2025-10-24T12:29:07.997Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:08:118[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:08:118[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:08:118[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:08:118[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:08:118[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:08:118[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:08:118[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:08:118[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:08:118[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:08:118[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:118[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:118[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:08:118[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:08:118[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:08:118[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:08:118[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:08:118[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:118[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:08:118[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:118[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:08:118[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:08:118[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:08:118[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:08:118[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:08:118[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:118[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:08:118[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:118[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:08:118[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:118[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:08:122[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:08:122[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:08:123[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:08:123[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:08:123[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:123[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:123[0m [34m[websocket:dispose][0m destroyed the listener!
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:08.018Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:08.018Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m1[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures
Clients query result: [ { id: [32m'c1'[39m, name: [32m'Test Client'[39m, email: [32m'test@example.com'[39m } ]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

 ✓ src/hooks/__tests__/use-notes-infinite.test.ts (7 tests) 443ms
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:08.100Z'[39m,
      endTime: [32m'2025-10-25T13:29:08.100Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:08.100Z'[39m,
      endTime: [32m'2025-10-26T12:59:08.100Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:08.100Z'[39m,
      endTime: [32m'2025-10-27T13:59:08.100Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:08.100Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.100Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:08.100Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.100Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:08.100Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.100Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:08.100Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.100Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:08.100Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.100Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:08.100Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.100Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

[90m14:29:08:191[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:191[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:191[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:192[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:192[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:192[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:192[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:192[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:193[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:193[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:193[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:193[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:197[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:08:197[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:197[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchProjects function
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchProjects function
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchProjects function
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchProjects function
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchProjects function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects

[90m14:29:08:200[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:08:200[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:200[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:200[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:08:200[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:200[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:201[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:08:201[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:201[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:202[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:202[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:203[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m1[39m,
  events: [
    {
      id: [32m'null-event'[39m,
      title: [1mnull[22m,
      endTime: [1mnull[22m,
      location: [1mnull[22m,
      attendees: [1mnull[22m
    }
  ]
}
Events query returning: [
  {
    id: [32m'null-event'[39m,
    title: [1mnull[22m,
    endTime: [1mnull[22m,
    location: [1mnull[22m,
    attendees: [1mnull[22m
  }
]
Mapped events: [
  {
    id: [32m'null-event'[39m,
    title: [32m'Untitled'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-24T12:29:08.203Z'[39m,
    endTime: [32m'2025-10-24T13:29:08.203Z'[39m,
    attendees: [1mnull[22m,
    location: [32m''[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  }
]

[90m14:29:08:215[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:215[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:215[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:215[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:215[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:215[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:08.215Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:08.215Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m1[39m,
  error: [1mnull[22m
}

[90m14:29:08:242[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:08:242[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:242[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:242[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:08:242[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:242[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:243[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:08:243[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:243[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:08:243[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:08:243[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:243[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchTasks function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles empty arrays in response
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles empty arrays in response
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles empty arrays in response
Events query result: { isConnected: [33mtrue[39m, totalCount: [33m0[39m, events: [] }
Events query returning: []
Mapped events: []

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles empty arrays in response
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles empty arrays in response
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:08:265[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:08:265[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:265[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:266[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:08:266[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:266[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:266[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:08:266[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:266[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:267[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:267[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:268[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:271[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:271[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:271[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:271[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:271[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:271[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:279[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:08:280[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:280[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:280[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:08:280[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:280[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:291[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:08:291[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:291[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:319[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:319[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:320[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:327[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:327[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:328[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:329[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:329[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:329[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:329[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:329[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:330[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:330[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:330[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:330[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:332[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:08:332[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:332[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:334[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:08:334[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:334[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:334[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:08:334[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:334[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:335[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:08:335[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:335[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:08:335[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:08:335[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:335[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchTasks function
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchTasks function
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchTasks function
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchTasks function
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchTasks function
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchTasks function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchStats function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > renders minimal task card with only essential elements
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:08:539[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:539[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:539[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:540[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:540[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:540[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:540[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:540[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:540[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:549[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:08:549[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:549[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:549[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:08:549[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:549[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:549[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:08:549[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:549[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Edge cases and data normalization > handles empty arrays in response
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:08.271Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:08.271Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:08:554[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:554[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:555[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:555[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:08:555[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:08:555[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:08:555[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:08:555[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:08:555[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:08:555[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:08:555[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:08:555[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:08:555[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:555[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:555[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:08:555[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:08:555[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:08:555[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:08:556[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:08:556[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:556[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:08:556[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:556[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:08:556[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:08:556[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:08:556[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:08:556[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:08:556[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:556[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:08:556[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:556[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:08:556[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:556[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:08:556[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:08:556[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:08:556[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:08:556[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:08:556[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:556[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:556[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:08:568[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
 ✓ src/hooks/__tests__/use-omni-contacts.test.ts (9 tests) 802ms
[90m14:29:08:582[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:591[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:591[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:603[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:603[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:614[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:08:617[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:617[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:629[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:08:629[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:629[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:675[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:08:675[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:675[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:716[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:08:716[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:08:716[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:08:716[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:08:716[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:08:716[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:08:716[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:08:716[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:08:716[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:08:716[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:716[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:716[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:08:716[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:08:716[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:08:716[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:08:716[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:08:716[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:716[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:08:716[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:716[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:08:716[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:08:716[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:08:716[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:08:716[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:08:716[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:716[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:08:716[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:716[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:08:716[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:716[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:08:716[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:08:716[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:08:716[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:08:716[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:08:716[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:716[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:716[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-auth.test.ts (15 tests) 966ms
[90m14:29:08:756[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:756[0m [34m[fetch][0m emitting the "response" event...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

[90m14:29:08:759[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:761[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:761[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:761[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:762[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:762[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:762[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:762[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:762[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:762[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:762[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:762[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:762[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchStats function
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:08:768[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:08:768[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:768[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Utility Functions > provides refetchStats function
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:08:771[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:771[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:771[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:771[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:771[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:771[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:771[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:771[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:771[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:08.533Z'[39m,
      endTime: [32m'2025-10-25T13:29:08.533Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:08.533Z'[39m,
      endTime: [32m'2025-10-26T12:59:08.533Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:08.533Z'[39m,
      endTime: [32m'2025-10-27T13:59:08.533Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:08.533Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.533Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:08.533Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.533Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:08.533Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.533Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:08.533Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.533Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:08.533Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.533Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:08.533Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.533Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:08.539Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:08.539Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

[90m14:29:08:777[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:08:777[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:777[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:777[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:08:777[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:777[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:777[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:08:777[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:777[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:08:777[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:08:778[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:778[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > handles partial failure gracefully
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > handles partial failure gracefully
MSW response: GET http://localhost:3000/api/google/calendar/events [33m500[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > handles partial failure gracefully
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > handles partial failure gracefully
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:08:791[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:08:794[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/events
[90m14:29:08:794[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:794[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:798[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:798[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:08:802[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/calendar/clients
[90m14:29:08:802[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:802[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:802[0m [34m[fetch][0m [GET] http://localhost:3000/api/google/status
[90m14:29:08:802[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:802[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:803[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:08:804[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:804[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:08:816[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:816[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:816[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:816[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:816[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:816[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:816[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:816[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:816[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:818[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:08:818[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:08:818[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:08:818[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:08:818[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:08:818[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:08:818[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:08:818[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:08:818[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:08:818[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:818[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:818[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:08:818[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:08:818[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:08:818[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:08:818[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:08:818[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:818[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:08:818[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:818[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:08:818[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:08:818[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:08:818[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:08:818[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:08:818[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:818[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:08:818[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:818[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:08:818[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:818[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:08:818[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:08:818[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:08:818[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:08:818[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:08:818[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:08:818[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:08:818[0m [34m[websocket:dispose][0m destroyed the listener!
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > handles partial failure gracefully
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:08.567Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:08.567Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
Events query state: {
  status: [32m'pending'[39m,
  fetchStatus: [32m'fetching'[39m,
  isLoading: [33mtrue[39m,
  dataLength: [33m0[39m,
  error: [1mnull[22m
}
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

stderr | src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > User Interactions > calls onSave with correct data when both contact and content are provided
Failed to save note: TypeError: Cannot read properties of undefined (reading 'redactionWarning')
    at handleSave [90m(/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/RapidNoteModal.tsx:191:18[90m)[39m

[90m14:29:08:842[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:08:842[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:842[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:08:843[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:08:843[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:843[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:08:843[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:08:843[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:843[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:08.770Z'[39m,
      endTime: [32m'2025-10-25T13:29:08.770Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:08.770Z'[39m,
      endTime: [32m'2025-10-26T12:59:08.770Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:08.770Z'[39m,
      endTime: [32m'2025-10-27T13:59:08.770Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:08.770Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.770Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:08.770Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.770Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:08.770Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.770Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:08.770Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.770Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:08.770Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.770Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:08.770Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.770Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:08.771Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:08.771Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
MSW intercepted: GET http://localhost:3000/api/google/calendar/events
MSW intercepted: GET http://localhost:3000/api/google/calendar/clients
MSW intercepted: GET http://localhost:3000/api/google/status

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
MSW response: GET http://localhost:3000/api/google/calendar/events [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
MSW response: GET http://localhost:3000/api/google/status [33m200[39m

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
MSW response: GET http://localhost:3000/api/google/calendar/clients [33m200[39m

[90m14:29:08:849[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:08:850[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:850[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
Events query result: {
  isConnected: [33mtrue[39m,
  totalCount: [33m3[39m,
  events: [
    {
      id: [32m'event-1'[39m,
      title: [32m'Client Session: Sarah Johnson'[39m,
      startTime: [32m'2025-10-25T12:29:08.815Z'[39m,
      endTime: [32m'2025-10-25T13:29:08.815Z'[39m,
      location: [32m'Wellness Studio'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'session'[39m,
      businessCategory: [32m'client_care'[39m
    },
    {
      id: [32m'event-2'[39m,
      title: [32m'Team Meeting'[39m,
      startTime: [32m'2025-10-26T12:29:08.815Z'[39m,
      endTime: [32m'2025-10-26T12:59:08.815Z'[39m,
      location: [32m'Office'[39m,
      attendees: [36m[Array][39m
    },
    {
      id: [32m'event-3'[39m,
      title: [32m'Massage Session: John Doe'[39m,
      startTime: [32m'2025-10-27T12:29:08.815Z'[39m,
      endTime: [32m'2025-10-27T13:59:08.815Z'[39m,
      location: [32m'Therapy Room'[39m,
      attendees: [36m[Array][39m,
      eventType: [32m'therapy'[39m,
      businessCategory: [32m'personal_wellness'[39m
    }
  ]
}
Events query returning: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    startTime: [32m'2025-10-25T12:29:08.815Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.815Z'[39m,
    location: [32m'Wellness Studio'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    startTime: [32m'2025-10-26T12:29:08.815Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.815Z'[39m,
    location: [32m'Office'[39m,
    attendees: [ [36m[Object][39m ]
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    startTime: [32m'2025-10-27T12:29:08.815Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.815Z'[39m,
    location: [32m'Therapy Room'[39m,
    attendees: [ [36m[Object][39m ],
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]
Mapped events: [
  {
    id: [32m'event-1'[39m,
    title: [32m'Client Session: Sarah Johnson'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-25T12:29:08.815Z'[39m,
    endTime: [32m'2025-10-25T13:29:08.815Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Wellness Studio'[39m,
    status: [1mnull[22m,
    eventType: [32m'session'[39m,
    businessCategory: [32m'client_care'[39m
  },
  {
    id: [32m'event-2'[39m,
    title: [32m'Team Meeting'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-26T12:29:08.815Z'[39m,
    endTime: [32m'2025-10-26T12:59:08.815Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Office'[39m,
    status: [1mnull[22m,
    eventType: [1mnull[22m,
    businessCategory: [1mnull[22m
  },
  {
    id: [32m'event-3'[39m,
    title: [32m'Massage Session: John Doe'[39m,
    description: [1mnull[22m,
    startTime: [32m'2025-10-27T12:29:08.815Z'[39m,
    endTime: [32m'2025-10-27T13:59:08.815Z'[39m,
    attendees: [ [36m[Object][39m ],
    location: [32m'Therapy Room'[39m,
    status: [1mnull[22m,
    eventType: [32m'therapy'[39m,
    businessCategory: [32m'personal_wellness'[39m
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
Clients query result: [
  {
    id: [32m'client-1'[39m,
    name: [32m'John Doe'[39m,
    email: [32m'john@example.com'[39m,
    totalSessions: [33m5[39m,
    lastSessionDate: [32m'2025-10-23T12:29:08.816Z'[39m,
    totalSpent: [33m500[39m,
    status: [32m'active'[39m,
    satisfaction: [33m4[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  },
  {
    id: [32m'client-2'[39m,
    name: [32m'Jane Smith'[39m,
    email: [32m'jane@example.com'[39m,
    totalSessions: [33m3[39m,
    lastSessionDate: [32m'2025-10-22T12:29:08.816Z'[39m,
    totalSpent: [33m300[39m,
    status: [32m'active'[39m,
    satisfaction: [33m5[39m,
    preferences: {
      preferredTimes: [36m[Array][39m,
      preferredServices: [36m[Array][39m,
      goals: [36m[Array][39m
    }
  }
]

stdout | src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches
Events query state: {
  status: [32m'success'[39m,
  fetchStatus: [32m'idle'[39m,
  isLoading: [33mfalse[39m,
  dataLength: [33m3[39m,
  error: [1mnull[22m
}

[90m14:29:08:887[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:888[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:889[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

[90m14:29:08:890[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:890[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:890[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:891[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:891[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:895[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:895[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:895[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:896[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:08:896[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:08:896[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:08:896[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Auto Refetch > disables auto refetch when autoRefetch is false
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

 ❯ src/hooks/__tests__/use-calendar-data.msw.test.ts (31 tests | 2 failed) 7286ms
   ✓ useCalendarData (MSW) > Calendar events query > fetches and normalizes calendar events successfully  410ms
   ✓ useCalendarData (MSW) > Calendar events query > normalizes event dates correctly  470ms
   ✓ useCalendarData (MSW) > Calendar events query > normalizes attendee data with email and name 155ms
   ✓ useCalendarData (MSW) > Calendar events query > handles events with optional fields 182ms
   ✓ useCalendarData (MSW) > Calendar events query > returns empty array when not connected  370ms
   ✓ useCalendarData (MSW) > Calendar events query > shows loading state during fetch 140ms
   ✓ useCalendarData (MSW) > Calendar events query > handles network errors gracefully 208ms
   ✓ useCalendarData (MSW) > Calendar events query > refetches events with refetchEvents 128ms
   ✓ useCalendarData (MSW) > Clients query > fetches and maps client data successfully  355ms
   ✓ useCalendarData (MSW) > Clients query > normalizes client fields with defaults 81ms
   ✓ useCalendarData (MSW) > Clients query > handles missing client fields with defaults 125ms
   ✓ useCalendarData (MSW) > Clients query > shows loading state during fetch  497ms
   ✓ useCalendarData (MSW) > Clients query > handles network errors for clients 148ms
   ✓ useCalendarData (MSW) > Clients query > refetches clients with refetchClients 268ms
   × useCalendarData (MSW) > Connection status query > fetches connection status successfully 1080ms
     → expected false to be true // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ useCalendarData (MSW) > Connection status query > shows initial disconnected state 4ms
   × useCalendarData (MSW) > Connection status query > handles disconnected status correctly 1011ms
     → expected 'api_error' to be 'token_expired' // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ useCalendarData (MSW) > Connection status query > shows loading state during fetch 62ms
   ✓ useCalendarData (MSW) > Connection status query > handles network errors for status 15ms
   ✓ useCalendarData (MSW) > Connection status query > refetches status with refetchStatus 81ms
   ✓ useCalendarData (MSW) > Convenience functions > refreshAll triggers all refetch functions 105ms
   ✓ useCalendarData (MSW) > Convenience functions > allows independent loading states  382ms
   ✓ useCalendarData (MSW) > Convenience functions > allows independent error states 33ms
   ✓ useCalendarData (MSW) > Edge cases and data normalization > handles missing event fields gracefully 140ms
   ✓ useCalendarData (MSW) > Edge cases and data normalization > handles malformed attendee data 66ms
   ✓ useCalendarData (MSW) > Edge cases and data normalization > handles various API response structures 125ms
   ✓ useCalendarData (MSW) > Edge cases and data normalization > handles null and undefined values in data 86ms
   ✓ useCalendarData (MSW) > Edge cases and data normalization > handles empty arrays in response 14ms
   ✓ useCalendarData (MSW) > Integration scenarios > loads all data successfully in parallel 269ms
   ✓ useCalendarData (MSW) > Integration scenarios > handles partial failure gracefully 66ms
   ✓ useCalendarData (MSW) > Integration scenarios > maintains consistent state across refetches 204ms
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:08:962[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:08:962[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:962[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:08:963[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:08:963[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:963[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:08:963[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:08:963[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:963[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:08:964[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:08:964[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:08:964[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:09:232[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:232[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:233[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:233[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:233[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:233[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:234[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:234[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:234[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:234[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:234[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:234[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

[90m14:29:09:260[0m [34m[fetch][0m [POST] http://localhost:3000/api/omni-momentum/projects
[90m14:29:09:260[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:260[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW intercepted: POST http://localhost:3000/api/omni-momentum/projects

[90m14:29:09:328[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:342[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:372[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:382[0m [34m[fetch][0m [PUT] http://localhost:3000/api/omni-momentum/projects/project-1
[90m14:29:09:382[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:382[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW response: POST http://localhost:3000/api/omni-momentum/projects [33m201[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW intercepted: PUT http://localhost:3000/api/omni-momentum/projects/project-1

[90m14:29:09:442[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:442[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:442[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW response: PUT http://localhost:3000/api/omni-momentum/projects/project-1 [33m200[39m

[90m14:29:09:483[0m [34m[fetch][0m [DELETE] http://localhost:3000/api/omni-momentum/projects/project-1
[90m14:29:09:483[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:483[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW intercepted: DELETE http://localhost:3000/api/omni-momentum/projects/project-1

[90m14:29:09:489[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:489[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:489[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence
MSW response: DELETE http://localhost:3000/api/omni-momentum/projects/project-1 [33m200[39m

[90m14:29:09:557[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects/project-1
[90m14:29:09:557[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:557[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:09:558[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects/project-1/tasks
[90m14:29:09:558[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:558[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useProject (MSW) > fetches project with its tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects/project-1
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects/project-1/tasks

[90m14:29:09:511[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:09:575[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:575[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:575[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:575[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:575[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:575[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useProject (MSW) > fetches project with its tasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects/project-1 [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useProject (MSW) > fetches project with its tasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects/project-1/tasks [33m200[39m

[90m14:29:09:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects/project-1
[90m14:29:09:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:762[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:09:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects/project-1/tasks
[90m14:29:09:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:762[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:09:766[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/task-1
[90m14:29:09:766[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:766[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:09:767[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks
[90m14:29:09:767[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:767[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useProject (MSW) > returns undefined while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects/project-1
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects/project-1/tasks

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTaskWithSubtasks (MSW) > fetches task with its subtasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/task-1
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks

[90m14:29:09:793[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:793[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:794[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:795[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:795[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:795[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:797[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:798[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:798[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:09:798[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:09:798[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:09:798[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTaskWithSubtasks (MSW) > fetches task with its subtasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects/project-1 [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTaskWithSubtasks (MSW) > fetches task with its subtasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects/project-1/tasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTaskWithSubtasks (MSW) > fetches task with its subtasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/task-1 [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTaskWithSubtasks (MSW) > fetches task with its subtasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks [33m200[39m

[90m14:29:09:827[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/task-1
[90m14:29:09:827[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:827[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:09:827[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks
[90m14:29:09:827[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:09:827[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTaskWithSubtasks (MSW) > returns undefined while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/task-1
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks

[90m14:29:09:928[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:09:929[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:09:929[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:09:929[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:10:138[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks?status=todo
[90m14:29:10:138[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:10:138[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > fetches and returns top 3 priority tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks?status=todo

[90m14:29:10:186[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:10:286[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:10:286[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:10:287[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:10:288[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:10:289[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:10:289[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:10:289[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:10:289[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:10:289[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > fetches and returns top 3 priority tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/task-1 [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > fetches and returns top 3 priority tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/task-1/subtasks [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > fetches and returns top 3 priority tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks?status=todo [33m200[39m

[90m14:29:10:415[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks?status=todo
[90m14:29:10:415[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:10:415[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:10:417[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks?status=todo
[90m14:29:10:417[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:10:417[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > returns undefined while loading
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks?status=todo

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > limits results to 3 tasks maximum
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks?status=todo

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > shows 'No Project' when no project is assigned
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:10:576[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:10:576[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:10:576[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:10:576[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:10:576[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:10:577[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > limits results to 3 tasks maximum
MSW response: GET http://localhost:3000/api/omni-momentum/tasks?status=todo [33m200[39m

stdout | src/hooks/__tests__/use-momentum.msw.test.ts > useTodaysFocus (MSW) > limits results to 3 tasks maximum
MSW response: GET http://localhost:3000/api/omni-momentum/tasks?status=todo [33m200[39m

[90m14:29:10:665[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:10:665[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:10:665[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:10:666[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:10:666[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:10:666[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:10:666[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:10:666[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:10:666[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:10:666[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:10:666[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:10:666[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:10:666[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:10:666[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:10:666[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:10:666[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:10:666[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:10:666[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:10:666[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:10:666[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:10:666[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:10:666[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:10:666[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:10:666[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:10:666[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:10:666[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:10:666[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:10:666[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:10:666[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:10:666[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:10:666[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:10:666[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:10:666[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:10:666[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:10:666[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:10:666[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:10:666[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:10:666[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:10:750[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:10:754[0m [34m[fetch][0m request has been handled, returning mock promise...
 ✓ src/hooks/__tests__/use-momentum.msw.test.ts (30 tests) 9072ms
   ✓ useMomentum (MSW) > Query Operations > fetches all projects  682ms
   ✓ useMomentum (MSW) > Query Operations > fetches tasks filtered by projectId  905ms
   ✓ useMomentum (MSW) > Project Operations > creates a new project successfully  874ms
   ✓ useMomentum (MSW) > Project Operations > deletes a project  312ms
   ✓ useMomentum (MSW) > Task Operations > deletes a task  500ms
   ✓ useMomentum (MSW) > Task Operations > approves a pending task  598ms
   ✓ useMomentum (MSW) > Task Operations > rejects a task without deleting  406ms
   ✓ useMomentum (MSW) > Task Operations > rejects and deletes a task  449ms
   ✓ useMomentum (MSW) > Utility Functions > provides refetchStats function  441ms
   ✓ useMomentum (MSW) > Multiple Operations > can perform create, update, and delete operations in sequence  617ms
   ✓ useTodaysFocus (MSW) > fetches and returns top 3 priority tasks  407ms
[90m14:29:10:764[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:10:764[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:10:764[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:10:764[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:11:152[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:11:152[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:152[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:11:153[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:11:153[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:153[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:11:153[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:11:153[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:153[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:11:153[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:11:153[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:153[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:11:154[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:11:154[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:154[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:11:154[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:11:154[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:154[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:11:541[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:11:541[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:11:543[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:11:684[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:11:684[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:684[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:11:684[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:11:684[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:684[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:11:685[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:11:685[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:685[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:11:685[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:11:685[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:685[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:11:685[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:11:685[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:685[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:11:685[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:11:685[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:11:685[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:11:779[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:11:779[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:11:906[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:11:906[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:11:931[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:11:979[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:84[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:84[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:87[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:87[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:87[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:265[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:12:265[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:265[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:12:266[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:12:266[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:266[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:12:266[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:12:266[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:266[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:12:266[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:12:266[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:266[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:12:266[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:12:266[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:266[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:12:267[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:12:267[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:267[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:12:392[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:12:542[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:559[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:566[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:567[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:567[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:568[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:577[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:565[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:12:593[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:12:631[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:632[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:633[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:633[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:641[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:641[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:647[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:12:647[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:647[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:12:647[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:12:647[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:647[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:12:648[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:12:648[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:648[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:12:648[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:12:648[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:648[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:12:648[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:12:648[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:648[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:12:649[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:12:649[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:12:649[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:12:679[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:12:680[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:12:680[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:12:680[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:12:741[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:741[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:778[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:819[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:819[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:865[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:12:865[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:12:958[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:12:959[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:12:959[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:12:959[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:12:959[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:12:959[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:12:959[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:12:959[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:12:959[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:12:959[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:12:959[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:12:959[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:12:961[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:12:961[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:12:961[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:12:961[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:12:961[0m [34m[xhr][0m set global instance! xhr
[90m14:29:12:962[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:12:962[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:12:962[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:12:962[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:12:962[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:12:962[0m [34m[fetch][0m set global instance! fetch
[90m14:29:12:962[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:12:962[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:12:962[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:12:962[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:12:962[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:12:962[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:12:962[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:12:962[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:12:962[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:12:962[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:12:962[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:12:962[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:12:962[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:12:962[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:12:962[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:12:962[0m [34m[websocket][0m set global instance! websocket
[90m14:29:12:971[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:12:998[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:12:998[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:12:998[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:12:998[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:13:51[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:13:51[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:13:51[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:51[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:13:52[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:13:52[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:13:52[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:13:52[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:52[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:13:52[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:13:52[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:13:52[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:13:52[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:13:52[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:52[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:13:52[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:13:52[0m [34m[xhr][0m set global instance! xhr
[90m14:29:13:52[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:13:52[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:13:52[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:13:52[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:13:52[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:52[0m [34m[fetch][0m set global instance! fetch
[90m14:29:13:52[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:13:52[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:13:52[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:13:52[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:13:52[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:13:52[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:13:52[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:13:52[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:13:52[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:13:52[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:13:52[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:13:52[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:13:52[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:13:53[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:13:53[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:53[0m [34m[websocket][0m set global instance! websocket
[90m14:29:13:92[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:195[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:195[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:195[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:195[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:131[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:13:278[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:13:326[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:13:423[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:424[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:475[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:13:480[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:13:480[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:13:480[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:13:480[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:13:480[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:13:480[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:13:481[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:13:481[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:13:481[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:13:483[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:13:483[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:13:483[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:13:483[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:13:483[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:13:483[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:13:483[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:13:483[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:13:483[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:13:483[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:13:483[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:13:483[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:13:483[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:13:483[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:13:483[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:13:483[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:13:483[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:13:483[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:13:483[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:13:483[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:13:484[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:13:484[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:13:484[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:13:484[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:13:484[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:13:484[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:13:484[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/(auth)/_components/__tests__/SignInForm.test.tsx (37 tests) 7643ms
   ✓ SignInForm > Rendering > renders all form elements  871ms
   ✓ SignInForm > Form Data Handling > calls onFormDataChange when email is changed  578ms
   ✓ SignInForm > Form Submission > calls onSubmit when Enter is pressed in email field  434ms
   ✓ SignInForm > Action Buttons > calls onMagicLink when magic link button is clicked  309ms
   ✓ SignInForm > Accessibility > supports keyboard navigation  855ms
   ✓ SignInForm > Accessibility > uses semantic button elements  759ms
   ✓ SignInForm > Edge Cases > maintains button state consistency  450ms
   ✓ SignInForm > Edge Cases > handles special characters in form inputs  901ms
[90m14:29:13:603[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:13:603[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:603[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:13:621[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:13:621[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:621[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:13:621[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:13:621[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:621[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:13:622[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:13:622[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:622[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:13:622[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:13:622[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:622[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:13:622[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:13:622[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:622[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:13:624[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:624[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:660[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:663[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:663[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:664[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:13:664[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:13:664[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:13:664[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:13:592[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:13:723[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:13:723[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:13:723[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:723[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:13:723[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:13:723[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:13:723[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:13:723[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:723[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:13:723[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:13:723[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:13:723[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:13:723[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:13:723[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:723[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:13:724[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:13:724[0m [34m[xhr][0m set global instance! xhr
[90m14:29:13:724[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:13:724[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:13:724[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:13:724[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:13:724[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:724[0m [34m[fetch][0m set global instance! fetch
[90m14:29:13:724[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:13:724[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:13:724[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:13:724[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:13:724[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:13:724[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:13:724[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:13:724[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:13:724[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:13:724[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:13:724[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:13:724[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:13:724[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:13:724[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:13:724[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:13:729[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:729[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:737[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:738[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:730[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:13:730[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:13:730[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:13:730[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:13:724[0m [34m[websocket][0m set global instance! websocket
[90m14:29:13:859[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:859[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:860[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:860[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:876[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:13:877[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:889[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:13:889[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:889[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:13:889[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:13:889[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:889[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:13:890[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:13:890[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:890[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:13:890[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:13:890[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:890[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:13:890[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:13:890[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:890[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:13:890[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:13:890[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:13:890[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:13:892[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:13:892[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:13:892[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:13:991[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:42[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:41[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:14:68[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:14:68[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:14:68[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:14:69[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:207[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:208[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:208[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:213[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:217[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:217[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:218[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:14:220[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:222[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:222[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:340[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:14:340[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:14:341[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:14:341[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:14:342[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:14:342[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:14:342[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:14:342[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:14:342[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:14:342[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:14:342[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:14:342[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:14:343[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:14:343[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:14:343[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:14:343[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:14:343[0m [34m[xhr][0m set global instance! xhr
[90m14:29:14:343[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:14:343[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:14:343[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:14:343[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:14:343[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:14:343[0m [34m[fetch][0m set global instance! fetch
[90m14:29:14:343[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:14:343[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:14:343[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:14:343[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:14:343[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:14:343[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:14:343[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:14:343[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:14:343[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:14:343[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:14:343[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:14:343[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:14:344[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:14:344[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:14:344[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:14:344[0m [34m[websocket][0m set global instance! websocket
[90m14:29:14:385[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:14:385[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:385[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:14:386[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:14:386[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:386[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:14:386[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:14:386[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:386[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:14:386[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:14:386[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:386[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:14:386[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:14:386[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:386[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:14:386[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:14:386[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:386[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:14:397[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:399[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:399[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:399[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:399[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:403[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:404[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:404[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:404[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:407[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:541[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:14:541[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:541[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:541[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:541[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:567[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:14:567[0m [34m[fetch][0m request has been handled, returning mock promise...
stderr | src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/TokenGeneratorSection.test.tsx > TokenGeneratorSection > should handle generation errors
Token generation error: Error: Failed to create onboarding token
    at [90m/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/app/(authorisedRoute)/settings/onboarding/_components/__tests__/TokenGeneratorSection.test.tsx:108:19
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
    at runTest [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runFiles [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1787:3[90m)[39m

[90m14:29:14:718[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:14:718[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:718[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:14:718[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:14:719[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:719[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:14:719[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:14:719[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:719[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:14:719[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:14:719[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:719[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:14:720[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:14:720[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:720[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:14:720[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:14:720[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:14:720[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:14:721[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:14:745[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:14:928[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:14:928[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:14:928[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:14:928[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:14:928[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:14:928[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:14:928[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:14:928[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:14:928[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:14:928[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:14:928[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:14:928[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:14:928[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:14:928[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:14:928[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:14:928[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:14:928[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:14:928[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:14:928[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:14:928[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:14:928[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:14:928[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:14:928[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:14:928[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:14:928[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:14:928[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:14:928[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:14:928[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:14:928[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:14:928[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:14:928[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:14:929[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:14:929[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:14:929[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:14:929[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:14:929[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:14:929[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/middleware.test.ts (2 tests | 2 failed) 1879ms
   × middleware: API method allow-list > allows POST on /api/sync/approve/* and sets Allow header for disallowed methods 1874ms
     → browserTracingIntegration is not a function
   × middleware: API method allow-list > allows POST on /api/sync/preview/* and rejects others with 405 0ms
     → browserTracingIntegration is not a function
[90m14:29:14:981[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:3[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:3[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:4[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:4[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:5[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:19[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:30[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:30[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:30[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:30[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:32[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:15:33[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:33[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:34[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:34[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:35[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:15:35[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:15:35[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:15:35[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:15:35[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:15:35[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:15:35[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:15:35[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:15:35[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:15:35[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:15:35[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:15:35[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:15:35[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:15:35[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:15:35[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:15:35[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:15:35[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:15:35[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:15:35[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:15:35[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:15:35[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:15:35[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:15:35[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:15:35[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:15:35[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:15:35[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:15:35[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:15:35[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:15:35[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:15:35[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:15:35[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:15:35[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:15:35[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:15:35[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:15:35[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:15:36[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:15:36[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-zones.test.tsx (4 tests) 696ms
   ✓ useZones hooks > fetches zones without stats by default  440ms
[90m14:29:15:38[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:15:38[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:38[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:15:59[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:15:59[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:59[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:15:60[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:15:60[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:60[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:15:60[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:15:60[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:60[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:15:70[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:15:70[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:70[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:15:71[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:15:71[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:71[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:15:79[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:85[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:85[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:99[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:99[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:154[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:159[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:15:159[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:15:162[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:15:162[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:15:168[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:15:169[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:15:169[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:15:169[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:15:169[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:15:169[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:15:169[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:15:169[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:15:169[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:15:169[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:15:169[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:15:169[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:15:169[0m [34m[xhr][0m set global instance! xhr
[90m14:29:15:169[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:15:169[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:15:169[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:15:169[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:15:169[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:15:169[0m [34m[fetch][0m set global instance! fetch
[90m14:29:15:169[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:15:169[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:15:169[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:15:169[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:15:169[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:15:169[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:15:169[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:15:169[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:15:169[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:15:169[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:15:169[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:15:169[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:15:169[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:15:169[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:15:169[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:15:169[0m [34m[websocket][0m set global instance! websocket
[90m14:29:15:223[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:421[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:421[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:421[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:421[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:422[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:15:428[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:432[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:433[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:433[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:436[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:448[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:15:448[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:448[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:15:448[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:15:448[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:448[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:15:448[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:15:448[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:448[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:15:449[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:15:449[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:449[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:15:449[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:15:449[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:449[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:15:449[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:15:449[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:15:449[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:15:580[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:580[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:582[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:582[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:584[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:680[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:686[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:686[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:688[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:15:689[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:691[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:717[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:849[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:15:849[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:15:849[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:15:994[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:16:114[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:16:114[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:114[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:16:115[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:16:115[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:115[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:16:118[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:16:118[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:118[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:16:119[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:16:119[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:119[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:16:119[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:16:119[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:119[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:16:119[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:16:119[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:119[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:16:128[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:16:128[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:16:128[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:16:128[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:16:138[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:139[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:140[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:166[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:166[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:167[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:171[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:177[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:16:178[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:178[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:179[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:179[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:181[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:181[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:182[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:182[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:186[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:189[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:190[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:206[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:16:206[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:206[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:16:207[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:16:207[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:207[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:16:207[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:16:207[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:207[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:16:207[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:16:207[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:207[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:16:207[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:16:207[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:207[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:16:208[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:16:208[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:208[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:16:220[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:220[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:221[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:240[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:311[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:16:311[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:16:311[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:16:311[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:16:311[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:16:311[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:16:311[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:16:311[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:16:311[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:16:311[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:311[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:311[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:16:311[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:16:311[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:16:311[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:16:311[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:16:311[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:312[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:16:312[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:312[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:16:312[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:16:312[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:16:312[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:16:312[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:16:312[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:312[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:16:312[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:312[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:16:312[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:312[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:16:312[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:16:312[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:16:312[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:16:312[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:16:312[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:312[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:312[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/tests/client.test.ts (3 tests) 2595ms
   ✓ db client lazy initialization > does not initialize pg Client on import; initializes once on first getDb() and reuses thereafter  2486ms
[90m14:29:16:397[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:397[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:487[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:487[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:488[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:16:489[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:490[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:543[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:607[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:655[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:683[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:16:683[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:16:684[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:16:684[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:16:684[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:16:684[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:16:684[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:16:684[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:16:684[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:16:684[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:684[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:684[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:16:684[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:16:684[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:16:684[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:16:684[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:16:684[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:684[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:16:684[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:684[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:16:684[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:16:684[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:16:684[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:16:684[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:16:684[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:685[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:16:685[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:685[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:16:685[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:685[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:16:685[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:16:685[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:16:685[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:16:685[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:16:685[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:16:685[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:16:685[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/TokenGeneratorSection.test.tsx (10 tests) 3782ms
   ✓ TokenGeneratorSection > should render the form with default values  560ms
   ✓ TokenGeneratorSection > should render select with default value  386ms
   ✓ TokenGeneratorSection > should handle generation errors  499ms
   ✓ TokenGeneratorSection > should render copy button when token is generated  351ms
   ✓ TokenGeneratorSection > should open link in new tab  631ms
   ✓ TokenGeneratorSection > should disable button while generating  540ms
[90m14:29:16:743[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:16:743[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:743[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:16:743[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:16:743[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:743[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:16:744[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:16:744[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:744[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:16:744[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:16:744[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:744[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:16:744[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:16:744[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:744[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:16:744[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:16:744[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:16:744[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:16:854[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:16:854[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:16:854[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:16:854[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:16:854[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:16:854[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:16:854[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:16:854[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:16:855[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:16:855[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:16:855[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:16:855[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:16:855[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:16:855[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:16:855[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:16:855[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:16:855[0m [34m[xhr][0m set global instance! xhr
[90m14:29:16:855[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:16:855[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:16:855[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:16:855[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:16:855[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:16:855[0m [34m[fetch][0m set global instance! fetch
[90m14:29:16:855[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:16:855[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:16:855[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:16:855[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:16:855[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:16:855[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:16:855[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:16:855[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:16:855[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:16:855[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:16:855[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:16:855[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:16:865[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:16:879[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:16:879[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:16:879[0m [34m[websocket][0m set global instance! websocket
[90m14:29:16:918[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:918[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:968[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:16:968[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:16:976[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:16:990[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:17:10[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:17:10[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:17:74[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:17:90[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:17:97[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:17:97[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:17:169[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:17:169[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:17:169[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:17:206[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:17:206[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:206[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:17:224[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:17:226[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:17:226[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:17:286[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:17:287[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:287[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:17:287[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:17:287[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:287[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:17:287[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:17:287[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:287[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:17:287[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:17:287[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:287[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:17:288[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:17:288[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:288[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:17:299[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:17:299[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:299[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > renders the main layout structure
MSW intercepted: GET http://localhost:3000/api/health

[90m14:29:17:361[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:17:361[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:361[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:17:420[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:17:423[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:17:423[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:423[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:17:423[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:17:423[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:17:423[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:17:423[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:429[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:17:430[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:17:430[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:17:430[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:17:430[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:17:430[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:430[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:17:430[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:17:430[0m [34m[xhr][0m set global instance! xhr
[90m14:29:17:430[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:17:430[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:17:430[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:17:430[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:17:430[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:430[0m [34m[fetch][0m set global instance! fetch
[90m14:29:17:430[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:17:431[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:17:431[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:17:431[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:17:431[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:17:431[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:17:431[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:17:432[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:17:436[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:17:436[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:17:436[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:17:436[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:17:437[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:17:437[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:17:437[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:437[0m [34m[websocket][0m set global instance! websocket
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > renders the header with sidebar trigger and breadcrumb
MSW intercepted: GET http://localhost:3000/api/health

[90m14:29:17:609[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:17:609[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:17:609[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:609[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:17:609[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:17:609[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:17:609[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:17:609[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:609[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:17:609[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:17:609[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:17:609[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:17:609[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:17:609[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:609[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:17:609[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:17:609[0m [34m[xhr][0m set global instance! xhr
[90m14:29:17:609[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:17:609[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:17:609[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:17:609[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:17:609[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:610[0m [34m[fetch][0m set global instance! fetch
[90m14:29:17:610[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:17:610[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:17:610[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:17:610[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:17:610[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:17:610[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:17:610[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:17:610[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:17:610[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:17:610[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:17:610[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:17:610[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:17:610[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:17:610[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:17:610[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:17:610[0m [34m[websocket][0m set global instance! websocket
[90m14:29:17:672[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:17:672[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:672[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:17:720[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:17:720[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:17:720[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:17:720[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:17:720[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:17:720[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:17:720[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:17:720[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:17:720[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:17:720[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:720[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:720[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:17:720[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:17:720[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:17:720[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:17:720[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:17:720[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:720[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:17:720[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:720[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:17:720[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:17:720[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:17:720[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:17:720[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:17:720[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:720[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:17:720[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:720[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:17:720[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:720[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:17:720[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:17:720[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:17:720[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:17:720[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:17:720[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:720[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:720[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/services/__tests__/health.service.test.ts (11 tests) 307ms
[90m14:29:17:764[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:17:764[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:17:764[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:17:764[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:17:764[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:17:764[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:17:764[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:17:764[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:17:764[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:17:764[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:764[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:764[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:17:764[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:17:764[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:17:764[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:17:764[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:17:764[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:764[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:17:764[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:764[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:17:764[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:17:764[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:17:764[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:17:764[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:17:764[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:764[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:17:765[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:765[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:17:765[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:765[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:17:765[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:17:765[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:17:765[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:17:765[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:17:765[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:17:765[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:17:765[0m [34m[websocket:dispose][0m destroyed the listener!
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > renders AI assistant button in header
MSW intercepted: GET http://localhost:3000/api/health

 ✓ src/components/ui/__tests__/input.test.tsx (17 tests) 2607ms
   ✓ Input (Simplified) > renders input with default props  723ms
   ✓ Input (Simplified) > handles user input  399ms
   ✓ Input (Simplified) > respects disabled state  329ms
[90m14:29:17:892[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:17:892[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:17:892[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > renders theme toggle in header
MSW intercepted: GET http://localhost:3000/api/health

[90m14:29:18:109[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:18:225[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:18:225[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:225[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:18:233[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:18:233[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:18:233[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:18:233[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:18:236[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:18:236[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:18:240[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:18:244[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:18:250[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:18:251[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:18:252[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:18:254[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:18:254[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:18:261[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:18:262[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:18:262[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:18:262[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:18:265[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:18:329[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:18:329[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:329[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:18:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:18:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:330[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:18:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:18:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:330[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:18:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:18:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:330[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:18:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:18:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:330[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:18:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:18:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:330[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > renders lightning bolt icon button in header
MSW intercepted: GET http://localhost:3000/api/health

stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > renders lightning bolt icon button in header
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:18:534[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:18:594[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:18:594[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:18:594[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > shows tooltip on hover
MSW intercepted: GET http://localhost:3000/api/health

stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > shows tooltip on hover
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:18:766[0m [34m[fetch][0m no mocked response received, performing request as-is...
stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > shows tooltip on hover
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:18:792[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:18:802[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:18:802[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:18:802[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:18:802[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:18:811[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:18:811[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:18:811[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:18:811[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:18:817[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:18:817[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:18:817[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:18:817[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:18:817[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:18:817[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:18:817[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:18:817[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:18:817[0m [34m[xhr][0m set global instance! xhr
[90m14:29:18:817[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:18:817[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:18:817[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:18:817[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:18:817[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:18:818[0m [34m[fetch][0m set global instance! fetch
[90m14:29:18:818[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:18:818[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:18:818[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:18:818[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:18:818[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:18:818[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:18:818[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:18:818[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:18:818[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:18:818[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:18:818[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:18:818[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:18:818[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:18:818[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:18:818[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:18:818[0m [34m[websocket][0m set global instance! websocket
stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > shows tooltip on hover
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:18:907[0m [34m[fetch][0m no mocked response received, performing request as-is...
stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > shows tooltip on hover
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:18:916[0m [34m[fetch][0m no mocked response received, performing request as-is...
stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > shows tooltip on hover
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:18:917[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:10[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:19:10[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:10[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:19:69[0m [34m[websocket][0m constructing the interceptor...
stderr | src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/VoiceRecorder.test.tsx > VoiceRecorder Component > should auto-stop recording after max duration
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > opens rapid note modal when clicked
MSW intercepted: GET http://localhost:3000/api/health

stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > opens rapid note modal when clicked
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:19:141[0m [34m[fetch][0m no mocked response received, performing request as-is...
stderr | src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/VoiceRecorder.test.tsx > VoiceRecorder Component > should show stop button during recording
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90m14:29:19:156[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:156[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:158[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:158[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:158[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:160[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:161[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:161[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:163[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:164[0m [34m[fetch][0m request has been handled, returning mock promise...
stderr | src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/VoiceRecorder.test.tsx > VoiceRecorder Component > should call onRecordingComplete with audio blob when stopped
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90m14:29:19:166[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:166[0m [34m[fetch][0m emitting the "response" event...
stderr | src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/VoiceRecorder.test.tsx > VoiceRecorder Component > should show visual recording indicator
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to VoiceRecorder inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90m14:29:19:162[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:19:177[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:19:177[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:19:177[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:19:177[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:19:182[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:183[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:183[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:185[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:186[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:19:186[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:19:186[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:19:186[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:19:186[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:19:186[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:19:186[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:19:186[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:19:186[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:19:186[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:186[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:186[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:19:186[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:19:186[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:19:186[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:19:186[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:19:186[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:186[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:19:186[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:186[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:19:186[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:19:186[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:19:186[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:19:186[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:19:186[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:186[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:19:186[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:186[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:19:186[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:186[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:19:186[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:19:186[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:19:186[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:19:186[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:19:186[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:186[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:186[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/VoiceRecorder.test.tsx (11 tests) 1578ms
   ✓ VoiceRecorder Component > should render with microphone button  747ms
[90m14:29:19:191[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:191[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:191[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:19:191[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:192[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:192[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:19:192[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:192[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:192[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:193[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:193[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:193[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:193[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:193[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:193[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:193[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:193[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:193[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:19:197[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:197[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:205[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:205[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:210[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:217[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:222[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:222[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:222[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:223[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:223[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:224[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:225[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:226[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:226[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:230[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:233[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:19:233[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:19:233[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:19:233[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:19:242[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:242[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:242[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:242[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:242[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:242[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:243[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:243[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:243[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:243[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:243[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:243[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:19:243[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:243[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:243[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:19:243[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:243[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:243[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:19:266[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:19:266[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:266[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > has keyboard shortcut support (Cmd+Shift+N)
MSW intercepted: GET http://localhost:3000/api/health

stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > has keyboard shortcut support (Cmd+Shift+N)
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:19:273[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:286[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:286[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:287[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:287[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:289[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:290[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:298[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:298[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:300[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:301[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:302[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:302[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:293[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:19:307[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:307[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:308[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:308[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:19:308[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:308[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > opens rapid note modal when Cmd+Shift+N is pressed
MSW intercepted: GET http://localhost:3000/api/health

stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > opens rapid note modal when Cmd+Shift+N is pressed
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:19:313[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:347[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:19:347[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:19:347[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:19:347[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:19:352[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:19:352[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:352[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:19:353[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > opens rapid note modal when Ctrl+Shift+N is pressed (Windows/Linux)
MSW intercepted: GET http://localhost:3000/api/health

stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > Rapid Note Button > opens rapid note modal when Ctrl+Shift+N is pressed (Windows/Linux)
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:19:360[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:363[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:363[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:363[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:19:363[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:363[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:363[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:19:364[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:364[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:364[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:19:364[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:364[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:364[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:364[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:364[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:364[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:364[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:364[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:364[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:366[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:366[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:367[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:367[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:369[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:371[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:378[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:19:378[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:19:378[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:19:378[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:19:378[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:19:378[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:19:378[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:19:378[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:19:378[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:19:378[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:378[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:378[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:19:378[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:19:378[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:19:378[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:19:378[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:19:378[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:378[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:19:378[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:378[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:19:378[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:19:378[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:19:378[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:19:378[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:19:378[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:378[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:19:378[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:378[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:19:378[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:378[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:19:378[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:19:378[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:19:378[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:19:378[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:19:378[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:378[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:378[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:19:378[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:19:379[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:19:379[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:379[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:19:379[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:19:379[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:19:379[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:19:379[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:379[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:19:379[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:379[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:19:379[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:19:379[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:19:379[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:379[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:19:379[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:19:379[0m [34m[xhr][0m set global instance! xhr
[90m14:29:19:379[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:379[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:19:379[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:19:379[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:19:379[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:379[0m [34m[fetch][0m set global instance! fetch
[90m14:29:19:379[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:379[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:19:379[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:379[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:379[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:379[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:379[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:379[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:379[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:379[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:379[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:379[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:19:379[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:19:379[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:19:379[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:383[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:384[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:384[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:384[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:384[0m [34m[fetch][0m emitting the "response" event...
 ✓ src/components/ui/__tests__/button.test.tsx (12 tests) 576ms
   ✓ Button (Simplified) > renders button with default props  348ms
[90m14:29:19:388[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:388[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:389[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:389[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:393[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:19:393[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:393[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > RapidNoteModal Integration > opens RapidNoteModal when rapid note button is clicked
MSW intercepted: GET http://localhost:3000/api/health

[90m14:29:19:428[0m [34m[fetch][0m request has been handled, returning mock promise...
stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > RapidNoteModal Integration > opens RapidNoteModal when rapid note button is clicked
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:19:429[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:454[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:454[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:454[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:454[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:454[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:454[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:431[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:19:454[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:454[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:454[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:455[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:455[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:455[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:19:455[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:455[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:455[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:19:455[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:455[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:455[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:19:465[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:465[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:467[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:467[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:468[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:469[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:471[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:471[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:473[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:474[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:474[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:19:474[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:474[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > RapidNoteModal Integration > handles keyboard shortcut without errors
MSW intercepted: GET http://localhost:3000/api/health

[90m14:29:19:483[0m [34m[fetch][0m [GET] http://localhost:3000/api/health
[90m14:29:19:483[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:483[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:19:484[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:19:484[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:19:484[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:19:484[0m [34m[setup-server][0m constructing the interceptor...
stdout | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > RapidNoteModal Integration > closes RapidNoteModal when close button is clicked
MSW intercepted: GET http://localhost:3000/api/health

stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > RapidNoteModal Integration > closes RapidNoteModal when close button is clicked
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:19:503[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:511[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:511[0m [34m[fetch][0m emitting the "response" event...
stderr | src/components/layout/__tests__/MainLayout.test.tsx > MainLayout > RapidNoteModal Integration > closes RapidNoteModal when close button is clicked
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/health

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

[90m14:29:19:513[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:514[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:514[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:514[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:519[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:519[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:519[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:519[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:519[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:519[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:519[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:519[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:519[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:520[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:520[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:520[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:19:520[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:520[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:520[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:19:520[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:520[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:520[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:19:524[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:525[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:525[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:527[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:537[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:542[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:544[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:549[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:549[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:550[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:550[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:551[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:553[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:554[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:555[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:555[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:584[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:584[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:584[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:584[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:584[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:584[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:601[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:601[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:601[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:601[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:601[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:601[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:19:601[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:601[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:601[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:19:601[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:601[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:601[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:19:610[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:19:610[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:19:611[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:611[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:19:611[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:19:611[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:19:611[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:19:611[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:612[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:19:612[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:612[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:19:612[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:19:612[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:19:612[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:612[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:19:612[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:19:612[0m [34m[xhr][0m set global instance! xhr
[90m14:29:19:612[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:612[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:19:612[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:19:612[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:19:612[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:612[0m [34m[fetch][0m set global instance! fetch
[90m14:29:19:612[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:612[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:19:612[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:612[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:612[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:612[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:612[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:612[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:612[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:612[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:612[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:612[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:19:612[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:19:612[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:19:612[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:612[0m [34m[websocket][0m set global instance! websocket
[90m14:29:19:632[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:645[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:645[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:649[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:649[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:653[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:662[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:665[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:665[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:666[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:668[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:669[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:669[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:681[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:681[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:681[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:681[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:681[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:681[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:681[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:681[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:681[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:682[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:682[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:682[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:19:682[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:682[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:682[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:19:682[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:682[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:682[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:19:693[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:694[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:694[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:698[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:698[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:700[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:686[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:19:701[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:701[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:702[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:703[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:19:703[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:19:703[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:19:703[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:19:703[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:19:703[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:19:703[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:19:703[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:19:703[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:19:703[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:703[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:703[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:19:703[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:19:703[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:19:703[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:19:703[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:19:703[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:703[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:19:703[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:703[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:19:704[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:19:704[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:19:704[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:19:704[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:19:704[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:704[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:704[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:19:704[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:704[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:19:704[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:704[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:19:704[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:19:704[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:19:704[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:19:704[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:19:704[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:704[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:704[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/components/layout/__tests__/MainLayout.test.tsx (13 tests) 2851ms
   ✓ MainLayout > renders the main layout structure  431ms
   ✓ MainLayout > renders the header with sidebar trigger and breadcrumb  325ms
   ✓ MainLayout > Rapid Note Button > renders lightning bolt icon button in header  410ms
   ✓ MainLayout > Rapid Note Button > shows tooltip on hover  362ms
   ✓ MainLayout > Rapid Note Button > opens rapid note modal when clicked  303ms
[90m14:29:19:719[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:19:719[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:19:719[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:719[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:19:719[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:19:719[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:19:719[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:19:719[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:720[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:19:720[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:720[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:19:720[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:19:720[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:19:720[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:720[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:19:720[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:19:720[0m [34m[xhr][0m set global instance! xhr
[90m14:29:19:720[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:720[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:19:720[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:19:720[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:19:720[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:720[0m [34m[fetch][0m set global instance! fetch
[90m14:29:19:720[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:720[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:19:720[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:720[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:720[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:720[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:720[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:720[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:720[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:720[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:720[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:720[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:19:720[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:19:720[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:19:720[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:720[0m [34m[websocket][0m set global instance! websocket
[90m14:29:19:709[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:19:743[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:19:743[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:19:743[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:19:743[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:19:751[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:751[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:751[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:752[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:752[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:756[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:19:756[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:19:756[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:756[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:19:756[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:19:756[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:19:756[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:19:756[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:756[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:19:756[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:756[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:19:756[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:19:756[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:19:756[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:756[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:19:756[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:19:756[0m [34m[xhr][0m set global instance! xhr
[90m14:29:19:756[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:756[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:19:756[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:19:756[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:19:756[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:756[0m [34m[fetch][0m set global instance! fetch
[90m14:29:19:756[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:19:756[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:19:756[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:757[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:757[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:19:757[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:757[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:757[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:19:757[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:757[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:757[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:19:757[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:19:757[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:19:757[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:19:757[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:19:761[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:761[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:761[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:762[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:762[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:19:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:762[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:19:762[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:762[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:762[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:19:763[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:763[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:763[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:19:766[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:380[0m [34m[websocket][0m set global instance! websocket
[90m14:29:19:765[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:19:770[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:19:770[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:19:770[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:19:770[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:19:770[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:19:770[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:19:770[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:19:770[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:19:770[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:770[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:770[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:19:770[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:19:770[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:19:770[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:19:770[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:19:770[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:770[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:19:770[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:770[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:19:770[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:19:770[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:19:770[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:19:770[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:19:770[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:770[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:19:770[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:770[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:19:770[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:770[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:19:770[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:19:770[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:19:770[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:19:770[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:19:770[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:19:770[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:19:770[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/(authorisedRoute)/omni-connect/_components/analytics/__tests__/AIInsightsCard.test.tsx (25 tests) 392ms
[90m14:29:19:785[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:19:785[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:19:785[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:19:785[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:19:800[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:800[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:801[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:803[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:803[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:805[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:809[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:809[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:810[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:812[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:899[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:908[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:909[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:909[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:913[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:19:937[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:942[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:19:943[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:19:943[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:998[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:19:998[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:998[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:19:998[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:19:998[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:998[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:19:998[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:19:998[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:998[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:19:999[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:19:999[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:999[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:19:999[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:19:999[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:999[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:19:999[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:19:999[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:19:999[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:20:2[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:2[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:5[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:6[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:7[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:10[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:12[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:21[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:22[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:22[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:22[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:24[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:20:27[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:29[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:29[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:29[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:72[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:20:72[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:72[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:20:149[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:20:149[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:149[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:20:149[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:20:149[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:149[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:20:150[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:20:150[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:150[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:20:150[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:20:150[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:150[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:20:150[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:20:150[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:150[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:20:158[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:159[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:159[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:165[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:20:165[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:20:165[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:165[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:20:165[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:20:165[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:20:165[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:20:165[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:166[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:20:166[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:20:166[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:20:166[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:20:166[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:20:166[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:166[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:20:166[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:20:166[0m [34m[xhr][0m set global instance! xhr
[90m14:29:20:166[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:20:166[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:20:166[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:20:166[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:20:166[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:166[0m [34m[fetch][0m set global instance! fetch
[90m14:29:20:166[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:20:166[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:20:166[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:20:166[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:20:166[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:20:166[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:20:166[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:20:166[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:20:166[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:20:166[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:20:166[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:20:166[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:20:166[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:20:166[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:20:166[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:166[0m [34m[websocket][0m set global instance! websocket
[90m14:29:20:224[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:20:224[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:20:225[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:225[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:20:225[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:20:225[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:20:225[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:20:225[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:225[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:20:225[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:20:225[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:20:225[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:20:225[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:20:225[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:225[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:20:225[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:20:225[0m [34m[xhr][0m set global instance! xhr
[90m14:29:20:225[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:20:225[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:20:225[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:20:225[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:20:225[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:225[0m [34m[fetch][0m set global instance! fetch
[90m14:29:20:225[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:20:225[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:20:225[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:20:225[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:20:225[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:20:225[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:20:225[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:20:225[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:20:225[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:20:225[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:20:225[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:20:225[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:225[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:227[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:20:231[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:20:232[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:20:232[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:20:228[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:236[0m [34m[websocket][0m set global instance! websocket
[90m14:29:20:266[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:272[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:272[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:273[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:273[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:274[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:20:275[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:275[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:276[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:276[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:309[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:20:309[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:309[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:20:309[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:20:309[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:309[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:20:310[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:20:310[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:310[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:20:310[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:20:310[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:310[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:20:310[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:20:310[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:310[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:20:310[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:20:310[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:310[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:20:314[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:316[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:316[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:318[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:318[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:337[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:342[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:20:342[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:20:342[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:20:342[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:20:342[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:20:342[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:20:342[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:20:342[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:20:342[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:20:342[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:345[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:345[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:20:345[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:20:345[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:20:345[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:20:345[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:20:345[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:346[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:20:346[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:346[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:20:346[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:20:346[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:20:346[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:20:346[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:20:346[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:346[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:20:346[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:346[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:20:346[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:346[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:20:346[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:20:346[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:20:346[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:20:346[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:20:346[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:346[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:346[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:20:348[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:20:348[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:20:348[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:20:348[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:20:348[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:20:348[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:20:348[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:20:348[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:20:348[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:20:348[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:348[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:348[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:20:348[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:20:348[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:20:348[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:20:348[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:20:348[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:348[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:20:348[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:348[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:20:348[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:20:348[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:20:348[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:20:348[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:20:348[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:348[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:20:348[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:348[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:20:349[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:349[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:20:349[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:20:349[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:20:349[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:20:349[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:20:349[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:349[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:349[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-inbox.test.tsx (3 tests) 184ms
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx (4 tests | 4 failed) 633ms
   × ContactSearchCombobox > renders with placeholder text 35ms
     → Unable to find an element with the text: Search contacts.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × ContactSearchCombobox > shows selected contact when value is provided 383ms
     → Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
    [33mdata-slot[39m=[32m"input"[39m
    [33mplaceholder[39m=[32m"Search contacts..."[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m"John Doe"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"John Doe"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × ContactSearchCombobox > calls onValueChange when contact is selected 134ms
     → Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
    [33mdata-slot[39m=[32m"input"[39m
    [33mplaceholder[39m=[32m"Search contacts..."[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m""[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × ContactSearchCombobox > handles search input changes 70ms
     → Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
    [33mdata-slot[39m=[32m"input"[39m
    [33mplaceholder[39m=[32m"Search contacts..."[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m""[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m14:29:20:500[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:582[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:582[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:595[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:595[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:600[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:20:601[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:602[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:602[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:602[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:615[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:20:615[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:615[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:20:615[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:20:615[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:615[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:20:615[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:20:615[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:615[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:20:616[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:20:616[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:616[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:20:616[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:20:616[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:616[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:20:616[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:20:616[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:616[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:20:633[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:636[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:636[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:639[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:639[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:640[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:641[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:677[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:678[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:20:682[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:20:683[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:20:704[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:20:704[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:19:757[0m [34m[websocket][0m set global instance! websocket
[90m14:29:20:818[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:20:818[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:20:818[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:20:818[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:20:818[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:20:818[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:20:818[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:20:818[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:20:818[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:20:818[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:818[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:818[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:20:818[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:20:818[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:20:818[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:20:818[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:20:818[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:818[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:20:818[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:818[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:20:818[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:20:818[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:20:818[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:20:818[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:20:818[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:820[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:20:820[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:820[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:20:820[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:820[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:20:820[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:20:820[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:20:820[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:20:820[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:20:820[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:20:822[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:20:823[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/PersonalDetailsView.test.tsx (15 tests | 1 failed) 1067ms
   ✓ PersonalDetailsView > should render basic contact information 152ms
   × PersonalDetailsView > should render wellness profile information 13ms
     → Unable to find an element with the text: vip. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold"[39m
        [36m>[39m
          [0mPersonal Details[0m
        [36m</h2>[39m
        [36m<button>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-settings h-4 w-4 mr-2"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"[39m
            [36m/>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"3"[39m
            [36m/>[39m
          [36m</svg>[39m
          [0mEdit Details[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid gap-6 md:grid-cols-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"card"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"card-header"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"flex items-center"[39m
              [33mdata-testid[39m=[32m"card-title"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-user h-5 w-5 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"7"[39m
                  [33mr[39m=[32m"4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mBasic Information[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
            [33mdata-testid[39m=[32m"card-content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-user h-4 w-4 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"12"[39m
                    [33mcy[39m=[32m"7"[39m
                    [33mr[39m=[32m"4"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium"[39m
                  [36m>[39m
                    [0mJohn Doe[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mDisplay Name[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-mail h-4 w-4 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"[39m
                  [36m/>[39m
                  [36m<rect[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mrx[39m=[32m"2"[39m
                    [33mwidth[39m=[32m"20"[39m
                    [33mx[39m=[32m"2"[39m
                    [33my[39m=[32m"4"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium"[39m
                  [36m>[39m
                    [0mjohn@example.com[0m
                  [36m</div>[39m
                  [36m<div[3...
   ✓ PersonalDetailsView > should render health information when available 83ms
   ✓ PersonalDetailsView > should render emergency contact information 113ms
   ✓ PersonalDetailsView > should render preferences and consents 131ms
   ✓ PersonalDetailsView > should render system information 59ms
   ✓ PersonalDetailsView > should call onEdit when Edit Details button is clicked 46ms
   ✓ PersonalDetailsView > should handle missing optional fields gracefully 127ms
   ✓ PersonalDetailsView > should format address correctly when available 31ms
   ✓ PersonalDetailsView > should not render health information section when healthContext is null 12ms
   ✓ PersonalDetailsView > should not render emergency contact section when both fields are null 76ms
   ✓ PersonalDetailsView > should not render preferences section when preferences is null 15ms
   ✓ PersonalDetailsView > should handle empty arrays in health context 12ms
   ✓ PersonalDetailsView > should render allergy badges with destructive variant 8ms
   ✓ PersonalDetailsView > should handle unknown date values gracefully 180ms
[90m14:29:20:781[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:20:994[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:20:994[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:994[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:20:996[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:20:996[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:20:996[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:21:2[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:21:2[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:2[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:21:22[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:21:22[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:21:22[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:21:22[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:21:26[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:21:26[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:26[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:21:49[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:21:49[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:49[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:21:51[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:21:51[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:51[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:21:76[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:112[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:112[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:154[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:154[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:156[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:219[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:219[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:220[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:263[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:323[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:21:323[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:323[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:324[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:324[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:340[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:340[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:348[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:349[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:385[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:21:385[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:21:385[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:21:385[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:21:385[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:21:385[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:21:385[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:21:385[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:21:385[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:21:385[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:385[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:385[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:21:385[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:21:385[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:21:385[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:21:385[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:21:385[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:385[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:21:385[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:385[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:21:385[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:21:385[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:21:385[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:21:385[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:21:385[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:385[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:21:385[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:385[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:21:385[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:385[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:21:385[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:21:385[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:21:385[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:21:385[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:21:385[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:385[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:385[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/(authorisedRoute)/contacts/_components/__tests__/NotesDateIndex.test.tsx (8 tests) 1161ms
   ✓ NotesDateIndex > should render date groups sorted by date descending  399ms
   ✓ NotesDateIndex > should call onDateClick with correct date when button is clicked  313ms
[90m14:29:21:400[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:21:400[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:400[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:21:400[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:21:400[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:400[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:21:401[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:21:401[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:401[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:21:401[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:21:401[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:401[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:21:402[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:21:403[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:403[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:21:403[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:21:403[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:403[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:21:453[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:453[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:460[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:21:460[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:21:460[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:21:460[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:21:460[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:21:460[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:21:460[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:21:460[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:21:460[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:21:460[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:460[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:460[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:21:460[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:21:460[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:21:460[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:21:460[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:21:460[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:460[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:21:460[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:460[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:21:460[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:21:460[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:21:460[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:21:460[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:21:460[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:460[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:21:460[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:460[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:21:460[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:460[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:21:460[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:21:460[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:21:460[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:21:460[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:21:460[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:460[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:460[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:21:496[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:513[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:513[0m [34m[fetch][0m emitting the "response" event...
stderr | src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should call onEditNote when edit button is clicked
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90m14:29:21:535[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:537[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:553[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:553[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:553[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:553[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:569[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:21:569[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:21:569[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:21:569[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:21:569[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:21:569[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:21:569[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:21:569[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:21:569[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:21:569[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:21:569[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:21:569[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:21:569[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:21:569[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:21:569[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:21:569[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:21:569[0m [34m[xhr][0m set global instance! xhr
[90m14:29:21:569[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:21:569[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:21:569[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:21:569[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:21:569[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:21:569[0m [34m[fetch][0m set global instance! fetch
[90m14:29:21:569[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:21:569[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:21:569[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:21:569[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:21:569[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:21:569[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:21:569[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:21:569[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:21:569[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:21:569[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:21:569[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:21:569[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:21:570[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:21:570[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:21:570[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
stderr | src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should navigate to note detail when note is clicked
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

stderr | src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should show load more button when hasNextPage is true
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx (11 tests | 5 failed) 1850ms
   ✓ AllNotesView > should render loading state 16ms
   ✓ AllNotesView > should render error state 10ms
   ✓ AllNotesView > should render notes when data is available 42ms
   ✓ AllNotesView > should render empty state when no notes 17ms
   × AllNotesView > should call onAddNote when Add Note button is clicked 46ms
     → Unable to find an element with the text: Add Note. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex h-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between p-6 border-b"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-message-square h-5 w-5 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold"[39m
            [36m>[39m
              [0mAll Notes[0m
            [36m</h2>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 12h14"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 5v14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mAdd a New Note[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1"[39m
          [33mdata-testid[39m=[32m"scroll-area"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-foreground mb-4"[39m
                [36m>[39m
                  [0m2024[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 2[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-20T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-1"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 1[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-15T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × AllNotesView > should call onEditNote when edit button is clicked 776ms
     → expected "spy" to be called with arguments: [ { id: 'note-1', …(8) } ][90m

Number of calls: [1m0[22m
[39m
   × AllNotesView > should call onDeleteNote when delete button is clicked 108ms
     → expected "spy" to be called with arguments: [ 'note-1' ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[32m-   "note-1",[90m
[31m+   "note-2",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   × AllNotesView > should navigate to note detail when note is clicked 406ms
     → expected "spy" to be called with arguments: [ '/contacts/contact-1/notes/note-1' ][90m

Number of calls: [1m0[22m
[39m
   × AllNotesView > should render tags for notes 5ms
     → Unable to find an element with the text: tag1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mstyle[39m=[32m""[39m
[36m>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex h-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between p-6 border-b"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-message-square h-5 w-5 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold"[39m
            [36m>[39m
              [0mAll Notes[0m
            [36m</h2>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 12h14"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 5v14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mAdd a New Note[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1"[39m
          [33mdata-testid[39m=[32m"scroll-area"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-foreground mb-4"[39m
                [36m>[39m
                  [0m2024[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 2[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-20T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-1"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 1[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-15T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ✓ AllNotesView > should show load more button when hasNextPage is true  313ms
   ✓ AllNotesView > should show loading state for next page 107ms
[90m14:29:21:643[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:21:687[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:535[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:21:733[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:744[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:744[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:21:570[0m [34m[websocket][0m set global instance! websocket
[90m14:29:21:834[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:21:834[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:21:834[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:21:834[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:21:834[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:21:834[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:21:834[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:21:834[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:21:834[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:21:834[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:834[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:834[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:21:834[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:21:834[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:21:834[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:21:834[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:21:834[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:834[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:21:834[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:834[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:21:834[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:21:834[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:21:834[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:21:834[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:21:834[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:835[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:21:835[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:835[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:21:835[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:835[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:21:835[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:21:835[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:21:835[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:21:835[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:21:835[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:21:835[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:21:835[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-momentum.test.tsx (2 tests) 289ms
[90m14:29:21:893[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:21:893[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:21:893[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:21:894[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:21:895[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:21:895[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:895[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:21:896[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:21:896[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:896[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:21:896[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:21:896[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:896[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:21:896[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:21:896[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:896[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:21:896[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:21:896[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:896[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:21:897[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:21:897[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:21:897[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:21:984[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:21:985[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:21:985[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:54[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:54[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:55[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:58[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:262[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:262[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:263[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:263[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:264[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:22:265[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:265[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:270[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:270[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:329[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:22:329[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:329[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:22:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:22:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:330[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:22:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:22:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:330[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:22:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:22:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:330[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:22:330[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:22:330[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:330[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:22:331[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:22:331[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:331[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:22:334[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:336[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:336[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:355[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:355[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:356[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:358[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:381[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:22:381[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:22:381[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:22:381[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:22:385[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:22:385[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:22:385[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:22:385[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:22:387[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:22:387[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:22:387[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:22:387[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:22:387[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:22:387[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:22:387[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:22:387[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:22:387[0m [34m[xhr][0m set global instance! xhr
[90m14:29:22:387[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:22:387[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:22:387[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:22:387[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:22:387[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:22:388[0m [34m[fetch][0m set global instance! fetch
[90m14:29:22:388[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:22:388[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:22:388[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:22:388[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:22:388[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:22:388[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:22:388[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:22:388[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:22:388[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:22:388[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:22:388[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:22:388[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:22:388[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:22:388[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:22:388[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:22:388[0m [34m[websocket][0m set global instance! websocket
[90m14:29:22:414[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:414[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:415[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:415[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:416[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:22:417[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:447[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:460[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:460[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:479[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:22:480[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:480[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:22:480[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:22:480[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:480[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:22:488[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:22:488[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:488[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:22:489[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:22:489[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:489[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:22:489[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:22:489[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:489[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:22:489[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:22:489[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:489[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:22:503[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:22:566[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:573[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:573[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:628[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:22:700[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:712[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:729[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:757[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:22:757[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:22:757[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:22:757[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:22:847[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:850[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:850[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:874[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:22:876[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:877[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:877[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:883[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:22:888[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:22:888[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:22:925[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:22:925[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:22:925[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:22:925[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:22:946[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:22:946[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:946[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:22:947[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:22:947[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:947[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:22:947[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:22:947[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:947[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:22:947[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:22:947[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:947[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:22:947[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:22:947[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:947[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:22:948[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:22:948[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:22:948[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:22:954[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:22:954[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:22:954[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:22:954[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:22:954[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:22:954[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:22:954[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:22:954[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:22:954[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:22:954[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:22:954[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:22:954[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:22:954[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:22:954[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:22:954[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:22:954[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:22:954[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:22:954[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:22:954[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:22:954[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:22:954[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:22:954[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:22:954[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:22:954[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:22:954[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:22:954[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:22:954[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:22:954[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:22:954[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:22:954[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:22:954[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:22:954[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:22:954[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:22:954[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:22:954[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:22:954[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:22:954[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-calendar-intelligence.test.ts (34 tests) 573ms
[90m14:29:23:15[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:15[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:35[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:90[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:90[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:91[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:93[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:154[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:23:155[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:155[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:156[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:156[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:158[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:158[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:159[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:159[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:253[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:23:253[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:253[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:23:253[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:23:253[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:253[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:23:254[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:23:254[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:254[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:23:254[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:23:254[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:254[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:23:254[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:23:254[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:254[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:23:254[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:23:254[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:254[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:23:314[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:315[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:315[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:329[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:329[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:330[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:332[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:337[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:337[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:337[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:337[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:357[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:23:358[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:358[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:362[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:363[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:371[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:23:371[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:371[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:23:371[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:23:371[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:371[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:23:371[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:23:371[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:371[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:23:371[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:23:371[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:371[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:23:372[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:23:372[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:372[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:23:372[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:23:372[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:372[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:23:408[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:23:450[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:451[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:451[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:502[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:502[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:503[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:506[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:523[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:528[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:530[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:530[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:592[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:23:593[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:594[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:594[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:594[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:603[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:23:603[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:603[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:23:604[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:23:604[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:604[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:23:604[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:23:604[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:604[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:23:604[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:23:604[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:604[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:23:604[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:23:604[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:604[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:23:604[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:23:604[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:23:604[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:23:612[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:23:612[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:23:612[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:23:612[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:23:659[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:663[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:663[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:616[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:23:665[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:665[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:666[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:730[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:819[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:23:862[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:863[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:23:935[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:23:936[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:23:976[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:23:976[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:24:25[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:24:26[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:24:26[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:24:118[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:24:118[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:118[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:24:119[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:24:119[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:119[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:24:119[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:24:119[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:119[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:24:119[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:24:119[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:119[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:24:119[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:24:119[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:119[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:24:120[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:24:120[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:120[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:24:136[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:24:136[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:24:137[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:24:137[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:24:307[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:24:307[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:24:307[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:24:307[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:24:439[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:24:460[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:24:460[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:24:461[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:461[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:24:461[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:24:461[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:24:461[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:24:461[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:461[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:24:461[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:24:461[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:24:461[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:24:461[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:24:461[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:461[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:24:461[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:24:461[0m [34m[xhr][0m set global instance! xhr
[90m14:29:24:461[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:24:461[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:24:461[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:24:461[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:24:461[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:461[0m [34m[fetch][0m set global instance! fetch
[90m14:29:24:461[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:24:461[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:24:461[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:24:461[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:24:461[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:24:462[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:24:462[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:24:462[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:24:462[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:24:462[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:24:462[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:24:462[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:24:462[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:24:462[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:24:462[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:583[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:24:583[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:24:583[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:24:583[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:24:462[0m [34m[websocket][0m set global instance! websocket
[90m14:29:24:641[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:24:641[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:24:641[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:24:642[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:24:642[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:24:642[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:24:642[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:24:642[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:24:642[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:24:642[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:24:642[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:24:642[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:24:642[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:24:642[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:24:642[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:24:642[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:24:642[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:24:642[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:24:642[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:24:642[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:24:642[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:24:642[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:24:642[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:24:642[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:24:642[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:24:642[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:24:642[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:24:642[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:24:642[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:24:642[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:24:642[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:24:642[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:24:642[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:24:642[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:24:642[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:24:642[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:24:642[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ packages/repo/src/__tests__/productivity.repo.test.ts (22 tests | 2 failed) 183ms
   ✓ ProductivityRepository > createProject > should create a new project 3ms
   ✓ ProductivityRepository > createProject > should throw error when insert returns no data 1ms
   ✓ ProductivityRepository > getProjects > should return projects with default filters 1ms
   ✓ ProductivityRepository > getProjects > should filter projects by zoneId 0ms
   ✓ ProductivityRepository > getProjects > should filter projects by status 4ms
   ✓ ProductivityRepository > getProject > should return project when found 1ms
   ✓ ProductivityRepository > getProject > should return null when project not found 1ms
   ✓ ProductivityRepository > updateProject > should update an existing project 1ms
   ✓ ProductivityRepository > updateProject > should not throw when project not found for update 7ms
   ✓ ProductivityRepository > deleteProject > should delete an existing project 5ms
   ✓ ProductivityRepository > deleteProject > should not throw when project not found for deletion 9ms
   × ProductivityRepository > createTask > should create a new task 5ms
     → expected "spy" to be called with arguments: [ { name: 'Test Task', …(8) } ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    {[22m
[32m-     "completedAt": null,[90m
[2m      "details": {[22m
[2m        "description": "Task description",[22m
[2m      },[22m
[2m      "dueDate": "2024-12-31",[22m
[2m      "name": "Test Task",[22m
[32m-     "parentTaskId": null,[90m
[2m      "priority": "medium",[22m
[2m      "projectId": "project-456",[22m
[2m      "status": "todo",[22m
[2m      "userId": "user-123",[22m
[31m+     "zoneUuid": undefined,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   ✓ ProductivityRepository > createTask > should throw error when insert returns no data 1ms
   × ProductivityRepository > getTasks > should return tasks with default filters 96ms
     → expected [ { id: 'task-789', …(6) } ] to deeply equal [ { id: 'task-789', …(5) } ]
   ✓ ProductivityRepository > getTasks > should filter tasks by projectId 41ms
   ✓ ProductivityRepository > getTasks > should filter tasks by status 0ms
   ✓ ProductivityRepository > getTask > should return task when found 0ms
   ✓ ProductivityRepository > getTask > should return null when task not found 0ms
   ✓ ProductivityRepository > updateTask > should update an existing task 0ms
   ✓ ProductivityRepository > updateTask > should not throw when task not found for update 0ms
   ✓ ProductivityRepository > deleteTask > should delete an existing task 0ms
   ✓ ProductivityRepository > deleteTask > should not throw when task not found for deletion 1ms
[90m14:29:24:659[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:24:813[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:24:813[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:24:820[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:24:821[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:24:821[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:24:828[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:24:835[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:24:825[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:24:843[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:24:843[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:24:843[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:24:844[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:24:844[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:24:858[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:24:858[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:24:858[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:24:858[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:24:868[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:24:873[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:24:880[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:24:880[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:24:933[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:24:933[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:24:933[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:933[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:24:933[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:24:933[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:24:933[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:24:933[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:933[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:24:933[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:24:933[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:24:933[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:24:933[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:24:933[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:933[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:24:933[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:24:933[0m [34m[xhr][0m set global instance! xhr
[90m14:29:24:933[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:24:933[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:24:933[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:24:933[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:24:933[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:933[0m [34m[fetch][0m set global instance! fetch
[90m14:29:24:933[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:24:933[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:24:933[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:24:933[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:24:933[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:24:934[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:24:934[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:24:934[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:24:934[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:24:934[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:24:934[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:24:934[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:24:934[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:24:934[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:24:934[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:24:934[0m [34m[websocket][0m set global instance! websocket
[90m14:29:24:962[0m [34m[fetch][0m [GET] http://localhost:3000/api/tags
[90m14:29:24:962[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:962[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:24:968[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:24:968[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:24:968[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
[90m14:29:25:6[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:25:7[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:25:7[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:25:7[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:25:29[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:25:29[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:25:29[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:25:101[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:25:117[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:25:117[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:25:123[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:25:123[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:25:123[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:25:127[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/zones
[90m14:29:25:127[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:25:127[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
[90m14:29:25:224[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:260[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:261[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:25:276[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:276[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:25:276[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:280[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:290[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:290[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:25:292[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:292[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:25:294[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:25:337[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:337[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:339[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:339[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:25:341[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:25:341[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:25:341[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:25:341[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:25:341[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:25:341[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:25:341[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:25:341[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:25:341[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:25:341[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:341[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:341[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:25:341[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:25:341[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:25:341[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:25:341[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:25:341[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:341[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:25:341[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:341[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:25:341[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:25:341[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:25:341[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:25:341[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:25:341[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:341[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:25:341[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:341[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:25:341[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:341[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:25:341[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:25:341[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:25:341[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:25:341[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:25:342[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:342[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:342[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:25:349[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:25:349[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:25:349[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:25:349[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:25:349[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:25:349[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:25:349[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:25:349[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:25:349[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:25:349[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:349[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:349[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:25:349[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:25:349[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:25:349[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:25:349[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:25:349[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:349[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:25:349[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:349[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:25:349[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:25:349[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:25:349[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:25:349[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:25:349[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:349[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:25:349[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:349[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:25:349[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:349[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:25:349[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:25:349[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:25:349[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:25:349[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:25:349[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:349[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:349[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:25:350[0m [34m[fetch][0m request has been handled, returning mock promise...
 ✓ src/__tests__/unit/api-routes/contacts-api.test.ts (33 tests) 409ms
[90m14:29:25:355[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:359[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:360[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:361[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:368[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:368[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:369[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:25:370[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:370[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:371[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:372[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:380[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:381[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:384[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:385[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:25:385[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:386[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:387[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:387[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:388[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:388[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:389[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:390[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:25:390[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:390[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:390[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:390[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:390[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:390[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:25:391[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:25:391[0m [34m[fetch][0m no mocked response received, performing request as-is...
[90m14:29:25:391[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > shows 'No Project' when no project is assigned
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > does not show tags section when no tags exist
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > does not show tags section when no tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > does not show subtasks section when no subtasks exist
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > does not show subtasks section when no subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > does not show subtasks section when no subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows tags when they exist in task details
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows tags when they exist in task details
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows tags when they exist in task details
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows tags when they exist in task details
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows tags when they exist in task details
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows subtasks progress bar when subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows subtasks progress bar when subtasks exist
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows subtasks progress bar when subtasks exist
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows subtasks progress bar when subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows subtasks progress bar when subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows location when set in details
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows location when set in details
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows location when set in details
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows location when set in details
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows location when set in details
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows location when set in details
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for high priority
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for high priority
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

[90m14:29:25:557[0m [34m[websocket][0m constructing the interceptor...
stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for high priority
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for high priority
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for high priority
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for medium priority
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for medium priority
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for medium priority
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for medium priority
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for medium priority
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for low priority
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for low priority
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for low priority
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for low priority
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection > displays correct priority color for low priority
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Priority Selection
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows completed state with strikethrough text
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows completed state with strikethrough text
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows completed state with strikethrough text
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows completed state with strikethrough text
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows circle filled when task is completed
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows circle filled when task is completed
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows circle filled when task is completed
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows circle filled when task is completed
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion > shows circle filled when task is completed
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Task Completion
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > expands subtasks when progress bar is clicked
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > expands subtasks when progress bar is clicked
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > expands subtasks when progress bar is clicked
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > collapses subtasks when clicked again
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > collapses subtasks when clicked again
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > collapses subtasks when clicked again
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > collapses subtasks when clicked again
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > displays selected project name
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > displays selected project name
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > displays selected project name
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > shows all available projects in dropdown
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > shows all available projects in dropdown
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > shows all available projects in dropdown
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > shows all available projects in dropdown
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows user avatar when owner is 'user'
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows user avatar when owner is 'user'
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows user avatar when owner is 'user'
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows user avatar when owner is 'user'
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows AI bot icon when owner is 'ai'
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows AI bot icon when owner is 'ai'
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows AI bot icon when owner is 'ai'
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows AI bot icon when owner is 'ai'
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows AI bot icon when owner is 'ai'
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Today' for today's date
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Today' for today's date
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Today' for today's date
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Today' for today's date
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Tomorrow' for tomorrow's date
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Tomorrow' for tomorrow's date
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Tomorrow' for tomorrow's date
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Tomorrow' for tomorrow's date
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows 'Tomorrow' for tomorrow's date
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > hides date badge when no date is set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > hides date badge when no date is set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > hides date badge when no date is set
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > hides date badge when no date is set
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > hides date badge when no date is set
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows red text for overdue tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows red text for overdue tasks
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows red text for overdue tasks
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows red text for overdue tasks
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows red text for overdue tasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows blue text for today's tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows blue text for today's tasks
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows blue text for today's tasks
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows blue text for today's tasks
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > shows blue text for today's tasks
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > has transparent background for date badge
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > has transparent background for date badge
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > has transparent background for date badge
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > has transparent background for date badge
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > has transparent background for date badge
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Date Display > has transparent background for date badge
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location when set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location when set
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location when set
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location when set
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location when set
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows people when contacts are linked
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows people when contacts are linked
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows people when contacts are linked
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows people when contacts are linked
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows people when contacts are linked
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location and people together with separator
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location and people together with separator
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location and people together with separator
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location and people together with separator
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > shows location and people together with separator
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > truncates people list after 2 contacts
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > truncates people list after 2 contacts
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > truncates people list after 2 contacts
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > truncates people list after 2 contacts
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > truncates people list after 2 contacts
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > hides row when neither location nor people are set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > hides row when neither location nor people are set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > hides row when neither location nor people are set
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > hides row when neither location nor people are set
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Location + People Row > hides row when neither location nor people are set
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows notes when set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows notes when set
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows notes when set
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows notes when set
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows notes when set
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows expand button for long notes
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows expand button for long notes
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows expand button for long notes
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows expand button for long notes
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows expand button for long notes
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > hides notes when not set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > hides notes when not set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > hides notes when not set
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > hides notes when not set
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > hides notes when not set
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > toggles notes expansion on button click
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > toggles notes expansion on button click
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > toggles notes expansion on button click
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > toggles notes expansion on button click
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > toggles notes expansion on button click
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides tags section when no tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides tags section when no tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides tags section when no tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides tags section when no tags exist
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides tags section when no tags exist
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides subtasks section when no subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides subtasks section when no subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides subtasks section when no subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides subtasks section when no subtasks exist
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides subtasks section when no subtasks exist
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides location when not set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides location when not set
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides location when not set
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides location when not set
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides location when not set
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides notes when not set
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides notes when not set
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides notes when not set
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides notes when not set
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic > hides notes when not set
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Conditional Rendering Logic
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > has proper ARIA labels for interactive elements
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > has proper ARIA labels for interactive elements
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > has proper ARIA labels for interactive elements
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > has proper ARIA labels for interactive elements
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > has proper ARIA labels for interactive elements
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > supports keyboard navigation for priority selection
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > supports keyboard navigation for priority selection
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m
MSW intercepted: GET http://localhost:3000/api/tags
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats
MSW intercepted: GET http://localhost:3000/api/omni-momentum/zones

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > supports keyboard navigation for priority selection
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > supports keyboard navigation for priority selection
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > supports keyboard navigation for priority selection
MSW response: GET http://localhost:3000/api/omni-momentum/zones [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stderr | src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx
[MSW] Warning: intercepted a request without a matching request handler:

  • GET /api/tags

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx (40 tests | 12 failed) 17735ms
   ✓ TaskCard > Minimal State (New Task) > renders minimal task card with only essential elements  873ms
   × TaskCard > Minimal State (New Task) > shows 'No Project' when no project is assigned 2033ms
     → Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r8»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r9»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "+ Add to project":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«rf»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Add this task to a project"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r9»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«rb»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«rf»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ✓ TaskCard > Minimal State (New Task) > does not show tags section when no tags exist  776ms
   ✓ TaskCard > Minimal State (New Task) > does not show subtasks section when no subtasks exist  335ms
   × TaskCard > Progressive Disclosure > shows tags when they exist in task details 502ms
     → Unable to find an element with the text: Client Care. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r10»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r11»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r13»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r17»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist 360ms
     → Unable to find an element with the text: +2 more. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r18»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r19»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1b»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1f»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × TaskCard > Progressive Disclosure > shows subtasks progress bar when subtasks exist 542ms
     → Unable to find an element with the text: 1/3 Subtasks complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1g»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r1h»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1j»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1n»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ✓ TaskCard > Progressive Disclosure > shows location when set in details  416ms
   ✓ TaskCard > Priority Selection > displays correct priority color for high priority  305ms
   ✓ TaskCard > Priority Selection > displays correct priority color for medium priority  480ms
   ✓ TaskCard > Priority Selection > displays correct priority color for low priority  380ms
   ✓ TaskCard > Task Completion > shows completed state with strikethrough text 251ms
   ✓ TaskCard > Task Completion > shows circle filled when task is completed  326ms
   × TaskCard > Subtasks Interaction > expands subtasks when progress bar is clicked 212ms
     → Unable to find an element with the text: 0/2 Subtasks complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r39»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r3a»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3c»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3g»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × TaskCard > Subtasks Interaction > collapses subtasks when clicked again 357ms
     → Unable to find an element with the text: 0/1 Subtasks complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3h»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r3i»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3k»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3o»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × TaskCard > Project Selection > displays selected project name 1053ms
     → Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r3p»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r3q»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Nurture & Reconnect":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r40»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Nurture & Reconnect"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3p»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r3q»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3s»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r40»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Nurture & Reconnect"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mNurture & Reconnect[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × TaskCard > Project Selection > shows all available projects in dropdown 897ms
     → Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r41»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r42»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "+ Add to project":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r48»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Add this task to a project"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r41»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r42»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r44»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r48»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × TaskCard > Owner Assignment > shows user avatar when owner is 'user' 36ms
     → [2mexpect([22m[31melement[39m[2m).toHaveAttribute([22m[32m[32m"src"[32m[39m[2m, [22m[32m[32m"https://example.com/avatar.jpg"[32m[39m[2m) // element.getAttribute("src") === "https://example.com/avatar.jpg"[22m

Expected the element to have attribute:
[32m  src="https://example.com/avatar.jpg"[39m
Received:
[31m  src="/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
   ✓ TaskCard > Owner Assignment > shows AI bot icon when owner is 'ai' 67ms
   ✓ TaskCard > Date Display > shows 'Today' for today's date 67ms
   ✓ TaskCard > Date Display > shows 'Tomorrow' for tomorrow's date 81ms
   ✓ TaskCard > Date Display > hides date badge when no date is set 34ms
   ✓ TaskCard > Date Display > shows red text for overdue tasks 108ms
   ✓ TaskCard > Date Display > shows blue text for today's tasks 36ms
   ✓ TaskCard > Date Display > has transparent background for date badge 63ms
   ✓ TaskCard > Location + People Row > shows location when set 102ms
   ✓ TaskCard > Location + People Row > shows people when contacts are linked 243ms
   ✓ TaskCard > Location + People Row > shows location and people together with separator 228ms
   ✓ TaskCard > Location + People Row > truncates people list after 2 contacts 41ms
   ✓ TaskCard > Location + People Row > hides row when neither location nor people are set  580ms
   ✓ TaskCard > Notes Preview > shows notes when set 223ms
   × TaskCard > Notes Preview > shows expand button for long notes 415ms
     → Unable to find an element with the text: Show more. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r80»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r81»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r83»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white/50 rounded-lg p-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-file-text w-4 h-4 text-gray-600 mt-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M10 9H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 13H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 17H8"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"w-full text-sm text-gray-700 bg-transparent border-none focus:outline-none resize-none min-h-[60px]"[39m
                [33mplaceholder[39m=[32m"Add details about this task..."[39m
                [33mrows[39m=[32m"3"[39m
              [36m>[39m
                [0mAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA[0m
              [36m</textarea>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-gray-500 mt-1"[39m
              [36m>[39m
                [0mAuto-saves as you type[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r87»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ✓ TaskCard > Notes Preview > hides notes when not set 147ms
   × TaskCard > Notes Preview > toggles notes expansion on button click 315ms
     → Unable to find an element with the text: Show more. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8g»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r8h»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8j»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white/50 rounded-lg p-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-file-text w-4 h-4 text-gray-600 mt-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M10 9H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 13H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 17H8"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"w-full text-sm text-gray-700 bg-transparent border-none focus:outline-none resize-none min-h-[60px]"[39m
                [33mplaceholder[39m=[32m"Add details about this task..."[39m
                [33mrows[39m=[32m"3"[39m
              [36m>[39m
                [0mAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA[0m
              [36m</textarea>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-gray-500 mt-1"[39m
              [36m>[39m
                [0mAuto-saves as you type[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8n»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ✓ TaskCard > Conditional Rendering Logic > hides tags section when no tags exist 218ms
   ✓ TaskCard > Conditional Rendering Logic > hides subtasks section when no subtasks exist 177ms
   ✓ TaskCard > Conditional Rendering Logic > hides location when not set 151ms
   ✓ TaskCard > Conditional Rendering Logic > hides notes when not set 75ms
   × TaskCard > Accessibility > has proper ARIA labels for interactive elements 862ms
     → Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r9o»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r9p»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "+ Add to project":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r9v»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Add this task to a project"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r9o»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r9p»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r9r»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r9v»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ✓ TaskCard > Accessibility > supports keyboard navigation for priority selection  439ms
[90m14:29:25:775[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:25:775[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:25:775[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:25:775[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:25:794[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:25:798[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:25:807[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:25:807[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:25:807[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:25:807[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:25:807[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:25:807[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:25:807[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:25:807[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:25:807[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:25:808[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:25:808[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:25:808[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:25:808[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:25:808[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:25:808[0m [34m[xhr][0m set global instance! xhr
[90m14:29:25:808[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:25:808[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:25:808[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:25:808[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:25:808[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:25:808[0m [34m[fetch][0m set global instance! fetch
[90m14:29:25:808[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:25:808[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:25:808[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:25:808[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:25:808[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:25:808[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:25:808[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:25:808[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:25:808[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:25:808[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:25:808[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:25:808[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:25:808[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:25:808[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:25:808[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:25:808[0m [34m[websocket][0m set global instance! websocket
[90m14:29:25:939[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:25:939[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:25:939[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:25:939[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:25:939[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:25:968[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:25:968[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:25:968[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:25:968[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:25:968[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:968[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:968[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:25:968[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:25:968[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:25:968[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:25:968[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:25:968[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:968[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:25:968[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:968[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:25:968[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:25:968[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:25:968[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:25:968[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:25:968[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:968[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:25:968[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:968[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:25:968[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:968[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:25:968[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:25:968[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:25:968[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:25:968[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:25:968[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:25:968[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:25:968[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/user-integrations.repo.test.ts (36 tests) 186ms
[90m14:29:26:526[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:26:526[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:26:526[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:526[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:26:527[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:26:527[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:26:527[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:26:527[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:530[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:26:530[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:530[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:26:531[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:26:531[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:26:531[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:531[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:26:533[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:26:533[0m [34m[xhr][0m set global instance! xhr
[90m14:29:26:533[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:533[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:26:533[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:26:533[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:26:533[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:535[0m [34m[fetch][0m set global instance! fetch
[90m14:29:26:535[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:535[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:26:535[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:535[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:535[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:535[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:535[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:535[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:535[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:535[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:535[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:535[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:26:535[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:26:536[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:26:536[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:536[0m [34m[websocket][0m set global instance! websocket
[90m14:29:26:544[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:26:544[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:26:544[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:544[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:26:545[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:26:545[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:26:545[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:26:545[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:545[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:26:545[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:545[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:26:545[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:26:545[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:26:545[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:545[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:26:545[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:26:545[0m [34m[xhr][0m set global instance! xhr
[90m14:29:26:545[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:545[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:26:545[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:26:545[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:26:545[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:545[0m [34m[fetch][0m set global instance! fetch
[90m14:29:26:545[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:545[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:26:545[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:545[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:545[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:545[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:545[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:545[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:545[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:545[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:545[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:545[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:26:545[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:26:545[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:26:545[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:582[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:26:582[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:26:582[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:582[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:26:583[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:26:583[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:26:583[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:26:583[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:584[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:26:584[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:584[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:26:584[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:26:584[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:26:584[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:584[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:26:584[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:26:584[0m [34m[xhr][0m set global instance! xhr
[90m14:29:26:584[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:584[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:26:584[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:26:584[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:26:584[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:584[0m [34m[fetch][0m set global instance! fetch
[90m14:29:26:584[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:584[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:26:584[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:584[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:584[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:584[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:584[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:584[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:584[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:584[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:584[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:584[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:26:584[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:26:584[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:26:584[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:584[0m [34m[websocket][0m set global instance! websocket
[90m14:29:26:749[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:26:755[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:26:755[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:26:755[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:26:755[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:26:755[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:26:755[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:26:755[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:26:755[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:26:755[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:26:755[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:755[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:755[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:26:755[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:26:755[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:26:755[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:26:755[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:26:755[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:755[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:26:755[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:755[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:26:755[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:26:755[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:26:755[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:26:755[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:26:755[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:755[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:26:755[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:755[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:26:755[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:755[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:26:755[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:26:755[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:26:755[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:26:755[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:26:755[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:755[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:755[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:26:545[0m [34m[websocket][0m set global instance! websocket
[90m14:29:26:749[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:26:756[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:26:756[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:26:756[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:26:756[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:26:756[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:26:756[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:26:756[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:26:756[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:758[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:758[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:26:758[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:26:750[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:26:750[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:26:750[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:26:750[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:26:750[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:26:750[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:26:750[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:26:750[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:26:750[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:26:750[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:750[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:750[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:26:750[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:26:750[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:26:750[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:26:750[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:26:750[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:750[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:26:750[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:750[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:26:750[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:26:750[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:26:750[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:26:750[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:26:750[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:750[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:26:750[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:750[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:26:750[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:750[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:26:750[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:26:750[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:26:750[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:26:750[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:26:750[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:750[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:750[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:26:758[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:26:761[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:26:761[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:26:761[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:761[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:26:761[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:761[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:26:761[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:26:761[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:26:762[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:26:762[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:26:762[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:762[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:26:762[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:762[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:26:762[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:762[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:26:762[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:26:762[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:26:762[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:26:762[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:26:762[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:26:762[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:26:762[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/ignored-identifiers.repo.test.ts (17 tests) 233ms
 ✓ src/app/api/onboarding/admin/tokens/__tests__/route.test.ts (8 tests) 181ms
 ✓ packages/repo/src/ai-insights.repo.test.ts (28 tests) 206ms
[90m14:29:26:838[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:26:839[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:26:839[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:839[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:26:839[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:26:839[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:26:839[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:26:839[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:839[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:26:839[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:839[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:26:839[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:26:839[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:26:839[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:839[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:26:839[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:26:839[0m [34m[xhr][0m set global instance! xhr
[90m14:29:26:839[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:839[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:26:839[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:26:839[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:26:839[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:839[0m [34m[fetch][0m set global instance! fetch
[90m14:29:26:839[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:839[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:26:839[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:839[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:839[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:839[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:839[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:840[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:840[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:840[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:840[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:840[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:26:840[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:26:840[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:26:840[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:891[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:26:891[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:26:892[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:892[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:26:892[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:26:892[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:26:892[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:26:893[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:893[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:26:893[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:893[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:26:893[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:26:893[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:26:893[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:893[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:26:893[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:26:893[0m [34m[xhr][0m set global instance! xhr
[90m14:29:26:893[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:893[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:26:893[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:26:893[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:26:893[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:893[0m [34m[fetch][0m set global instance! fetch
[90m14:29:26:893[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:26:893[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:26:893[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:893[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:893[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:26:894[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:894[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:894[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:26:894[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:894[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:894[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:26:894[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:26:894[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:26:894[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:26:894[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:26:894[0m [34m[websocket][0m set global instance! websocket
[90m14:29:27:79[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:27:79[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:27:79[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:27:79[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:27:79[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:27:79[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:27:79[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:27:79[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:27:79[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:27:79[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:79[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:79[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:27:79[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:27:79[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:27:79[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:27:79[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:27:79[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:79[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:27:79[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:79[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:27:79[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:27:79[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:27:79[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:27:79[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:27:79[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:79[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:27:79[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:79[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:27:79[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:79[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:27:79[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:27:79[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:27:79[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:27:79[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:27:79[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:79[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:79[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/contacts.repo.test.ts (25 tests) 188ms
[90m14:29:26:840[0m [34m[websocket][0m set global instance! websocket
[90m14:29:27:171[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:27:172[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:27:172[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:27:172[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:27:172[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:27:172[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:27:172[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:27:172[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:27:172[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:27:172[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:172[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:172[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:27:172[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:27:172[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:27:172[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:27:172[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:27:172[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:172[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:27:172[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:172[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:27:172[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:27:172[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:27:172[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:27:172[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:27:172[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:172[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:27:172[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:172[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:27:172[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:172[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:27:172[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:27:172[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:27:172[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:27:172[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:27:172[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:172[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:172[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/embeddings.repo.test.ts (27 tests) 355ms
[90m14:29:27:306[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:27:306[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:27:306[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:27:306[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:27:306[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:27:306[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:27:306[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:27:306[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:27:306[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:27:306[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:27:306[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:27:306[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:27:306[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:27:306[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:27:306[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:27:307[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:27:307[0m [34m[xhr][0m set global instance! xhr
[90m14:29:27:307[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:27:307[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:27:307[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:27:307[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:27:307[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:27:307[0m [34m[fetch][0m set global instance! fetch
[90m14:29:27:307[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:27:307[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:27:307[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:27:307[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:27:307[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:27:307[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:27:307[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:27:307[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:27:307[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:27:307[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:27:307[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:27:307[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:27:307[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:27:307[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:27:307[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:27:325[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:27:307[0m [34m[websocket][0m set global instance! websocket
[90m14:29:27:343[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:27:344[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:27:344[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:27:344[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:27:344[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:27:344[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:27:344[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:27:344[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:27:344[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:27:344[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:344[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:344[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:27:344[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:27:344[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:27:344[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:27:344[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:27:344[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:344[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:27:344[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:344[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:27:344[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:27:344[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:27:344[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:27:344[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:27:344[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:344[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:27:344[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:344[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:27:344[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:344[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:27:344[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:27:345[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:27:345[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:27:345[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:27:345[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:27:345[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:27:345[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/hooks/__tests__/use-calendar-connection.msw.test.ts (6 tests) 39ms
[90m14:29:27:567[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:27:568[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:27:568[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:27:568[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:27:883[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:28:146[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:28:146[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:28:147[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:28:147[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:28:948[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:29:99[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:29:99[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:29:99[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:29:99[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:29:466[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:29:466[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:29:466[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:29:466[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:29:466[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:29:466[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:29:466[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:29:466[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:29:466[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:29:466[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:466[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:466[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:29:466[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:29:466[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:29:466[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:29:466[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:29:466[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:466[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:29:466[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:466[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:29:467[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:29:467[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:29:467[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:29:467[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:29:467[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:467[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:29:467[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:467[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:29:467[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:467[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:29:467[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:29:467[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:29:467[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:29:467[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:29:467[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:467[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:467[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx (19 tests | 10 failed) 26894ms
   ✓ RapidNoteModal > Rendering > renders modal when open  1060ms
   ✓ RapidNoteModal > Rendering > does not render modal when closed 4ms
   ✓ RapidNoteModal > Rendering > renders contact search combobox 57ms
   ✓ RapidNoteModal > Rendering > renders textarea for note content 259ms
   × RapidNoteModal > Rendering > renders character counter 98ms
     → Unable to find an element with the text: 0/1200. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«re»"[39m
    [33maria-labelledby[39m=[32m"radix-«rd»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«rc»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«rd»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«re»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m0[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m/>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
   × RapidNoteModal > Rendering > renders voice recorder 915ms
     → Unable to find an element by: [data-testid="voice-recorder"]

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«rh»"[39m
    [33maria-labelledby[39m=[32m"radix-«rg»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«rf»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«rg»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«rh»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m0[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m/>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
   ✓ RapidNoteModal > Rendering > renders save and cancel buttons 236ms
   ✓ RapidNoteModal > User Interactions > calls onClose when cancel button is clicked 49ms
   ✓ RapidNoteModal > User Interactions > calls onClose when close button is clicked 129ms
   × RapidNoteModal > User Interactions > updates character counter when typing 547ms
     → Unable to find an element with the text: 11/1200. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«rt»"[39m
    [33maria-labelledby[39m=[32m"radix-«rs»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«rr»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«rs»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«rt»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m11[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m>[39m
            [0mHello world[0m
          [36m</textarea>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
   × RapidNoteModal > User Interactions > prevents saving when no contact is selected 1053ms
     → expected "spy" to not be called at all, but actually been called 1 times[90m

Received: 

[1m  1st spy call:

[22m    Array [
      Object {
        "contactId": "1",
        "content": "Test note",
        "sourceType": "typed",
      },
    ]
[39m[90m

Number of calls: [1m1[22m
[39m
   ✓ RapidNoteModal > User Interactions > prevents saving when no content is entered  468ms
   × RapidNoteModal > User Interactions > calls onSave with correct data when both contact and content are provided 1382ms
     → expected "spy" to be called with arguments: [ { contactId: '1', …(2) } ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    {[22m
[32m-     "contactId": "1",[90m
[31m+     "contactId": "11",[90m
[2m      "content": "Test note content",[22m
[2m      "sourceType": "typed",[22m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   × RapidNoteModal > Voice Recording > handles voice recording completion 482ms
     → Unable to find an element by: [data-testid="mock-record-button"]

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«r19»"[39m
    [33maria-labelledby[39m=[32m"radix-«r18»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«r17»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«r18»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«r19»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m0[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m/>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
   × RapidNoteModal > Auto-save draft functionality > saves draft to localStorage every 5 seconds while typing 10028ms
     → Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   ✓ RapidNoteModal > Auto-save draft functionality > restores draft on modal reopen with unsaved content 39ms
   × RapidNoteModal > Auto-save draft functionality > clears draft after successful save 5003ms
     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × RapidNoteModal > Auto-save draft functionality > shows restore draft prompt when draft exists 45ms
     → Unable to find an element with the text: Restore draft?. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«r1l»"[39m
    [33maria-labelledby[39m=[32m"radix-«r1k»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«r1j»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«r1k»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«r1l»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m19[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m>[39m
            [0mSaved draft content[0m
          [36m</textarea>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
   × RapidNoteModal > Character limit > enforces 1200 character limit 5035ms
     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
[90m14:29:29:499[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:29:499[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:29:499[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:499[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:29:500[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:29:500[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:29:500[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:29:500[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:500[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:29:500[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:29:500[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:29:500[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:29:500[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:29:500[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:500[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:29:500[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:29:500[0m [34m[xhr][0m set global instance! xhr
[90m14:29:29:500[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:29:500[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:29:500[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:29:500[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:29:500[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:500[0m [34m[fetch][0m set global instance! fetch
[90m14:29:29:500[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:29:500[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:29:500[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:29:500[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:29:500[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:29:500[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:29:500[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:29:500[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:29:500[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:29:500[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:29:500[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:29:500[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:29:500[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:29:500[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:29:500[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:500[0m [34m[websocket][0m set global instance! websocket
[90m14:29:29:538[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:29:538[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:29:538[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:29:538[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:29:538[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:29:538[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:29:538[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:29:538[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:29:538[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:29:538[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:538[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:538[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:29:538[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:29:538[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:29:538[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:29:538[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:29:538[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:538[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:29:538[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:538[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:29:538[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:29:538[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:29:538[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:29:538[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:29:538[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:538[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:29:538[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:538[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:29:538[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:538[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:29:538[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:29:538[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:29:538[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:29:538[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:29:538[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:538[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:538[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/__tests__/oauth-validation.test.ts (30 tests) 39ms
[90m14:29:29:711[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:29:799[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:29:825[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:29:825[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:29:825[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:825[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:29:825[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:29:825[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:29:825[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:29:825[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:825[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:29:825[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:29:825[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:29:825[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:29:825[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:29:825[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:825[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:29:825[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:29:825[0m [34m[xhr][0m set global instance! xhr
[90m14:29:29:825[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:29:825[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:29:825[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:29:825[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:29:825[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:825[0m [34m[fetch][0m set global instance! fetch
[90m14:29:29:825[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:29:825[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:29:825[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:29:825[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:29:826[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:29:826[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:29:826[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:29:826[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:29:826[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:29:826[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:29:826[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:29:826[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:29:826[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:29:826[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:29:826[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:29:865[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:29:935[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:29:826[0m [34m[websocket][0m set global instance! websocket
[90m14:29:29:945[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:29:946[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:29:946[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:29:946[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:29:946[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:29:946[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:29:946[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:29:946[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:29:946[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:29:946[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:946[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:946[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:29:946[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:29:946[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:29:946[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:29:946[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:29:946[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:946[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:29:946[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:946[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:29:946[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:29:946[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:29:946[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:29:946[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:29:946[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:946[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:29:946[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:946[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:29:946[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:946[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:29:946[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:29:946[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:29:946[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:29:946[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:29:946[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:29:946[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:29:946[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:29:952[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:29:952[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:29:953[0m [34m[setup-server][0m constructing the interceptor...
 ✓ packages/repo/src/notes.repo.test.ts (22 tests) 122ms
[90m14:29:30:37[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:30:37[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:30:37[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:30:38[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:30:318[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:30:318[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:30:318[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:30:318[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:30:397[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:30:444[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:30:445[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:30:445[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:30:445[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:30:445[0m [34m[xhr][0m set global instance! xhr
[90m14:29:30:445[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:30:445[0m [34m[fetch][0m set global instance! fetch
[90m14:29:30:445[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:30:445[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:30:446[0m [34m[websocket][0m set global instance! websocket
[90m14:29:30:475[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:30:475[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:30:475[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:30:475[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:30:475[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:30:475[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:30:475[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:30:475[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:30:475[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:30:475[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:30:475[0m [34m[websocket][0m cleared global instance! websocket
 ✓ src/app/api/onboarding/admin/generate-tokens/__tests__/route.test.ts (6 tests) 33ms
[90m14:29:30:528[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:30:536[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:30:571[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:30:571[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:30:571[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:30:571[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:30:572[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:30:572[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:30:572[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:30:572[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:30:572[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:30:572[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:30:572[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:30:572[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:30:573[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:30:573[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:30:573[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:30:573[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:30:573[0m [34m[xhr][0m set global instance! xhr
[90m14:29:30:573[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:30:573[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:30:573[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:30:573[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:30:573[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:30:573[0m [34m[fetch][0m set global instance! fetch
[90m14:29:30:573[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:30:573[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:30:573[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:30:573[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:30:573[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:30:573[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:30:573[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:30:573[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:30:573[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:30:573[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:30:573[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:30:573[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:30:573[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:30:573[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:30:573[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:30:573[0m [34m[websocket][0m set global instance! websocket
[90m14:29:30:585[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:30:623[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:30:623[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:30:623[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:30:623[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:30:623[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:30:623[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:30:623[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:30:623[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:30:623[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:30:623[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:30:623[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:30:623[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:30:623[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:30:623[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:30:623[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:30:623[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:30:623[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:30:623[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:30:623[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:30:623[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:30:623[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:30:623[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:30:623[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:30:623[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:30:623[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:30:623[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:30:623[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:30:623[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:30:623[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:30:623[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:30:623[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:30:623[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:30:623[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:30:623[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:30:623[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:30:623[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:30:623[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:30:641[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:30:642[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:30:642[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:30:642[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:30:675[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:30:675[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:30:675[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:30:675[0m [34m[setup-server][0m constructing the interceptor...
 ✓ packages/repo/src/contact-identities.repo.test.ts (22 tests) 53ms
[90m14:29:30:773[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:30:773[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:30:773[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:30:773[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:30:780[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:30:780[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:30:780[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:30:784[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:31:98[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:31:99[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:31:99[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:99[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:31:99[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:31:99[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:31:99[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:31:99[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:99[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:31:99[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:99[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:31:99[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:31:99[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:31:99[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:99[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:31:99[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:31:99[0m [34m[xhr][0m set global instance! xhr
[90m14:29:31:99[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:99[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:31:99[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:31:99[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:31:99[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:99[0m [34m[fetch][0m set global instance! fetch
[90m14:29:31:99[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:99[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:31:99[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:99[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:99[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:99[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:99[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:99[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:99[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:99[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:99[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:100[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:31:100[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:31:100[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:31:100[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:100[0m [34m[websocket][0m set global instance! websocket
[90m14:29:31:141[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:31:141[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:31:141[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:31:141[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:31:141[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:31:141[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:31:141[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:31:141[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:31:141[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:31:141[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:141[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:141[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:31:141[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:31:141[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:31:141[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:31:141[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:31:141[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:141[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:31:141[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:141[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:31:141[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:31:141[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:31:141[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:31:141[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:31:141[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:141[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:31:141[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:141[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:31:141[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:141[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:31:141[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:31:141[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:31:141[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:31:141[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:31:141[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:141[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:141[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/lib/validation/__tests__/common.test.ts (79 tests) 43ms
[90m14:29:31:184[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:31:184[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:31:184[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:184[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:31:184[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:31:184[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:31:184[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:31:184[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:184[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:31:184[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:184[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:31:184[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:31:184[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:31:184[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:184[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:31:184[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:31:184[0m [34m[xhr][0m set global instance! xhr
[90m14:29:31:184[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:184[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:31:184[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:31:184[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:31:184[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:184[0m [34m[fetch][0m set global instance! fetch
[90m14:29:31:184[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:184[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:31:185[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:185[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:185[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:185[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:185[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:185[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:185[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:185[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:185[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:185[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:31:185[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:31:185[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:31:185[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:185[0m [34m[websocket][0m set global instance! websocket
[90m14:29:31:306[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:31:320[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:31:326[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:326[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:31:326[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:31:327[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:31:327[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:31:327[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:327[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:31:327[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:327[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:31:327[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:31:327[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:31:327[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:327[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:31:327[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:31:327[0m [34m[xhr][0m set global instance! xhr
[90m14:29:31:327[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:327[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:31:327[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:31:327[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:31:327[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:327[0m [34m[fetch][0m set global instance! fetch
[90m14:29:31:327[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:327[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:31:332[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:31:333[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:31:333[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:31:333[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:31:333[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:31:333[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:31:333[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:31:333[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:31:333[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:31:333[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:333[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:333[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:31:333[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:31:333[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:31:333[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:31:333[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:31:333[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:333[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:31:333[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:333[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:31:333[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:31:333[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:31:333[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:31:333[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:31:333[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:333[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:31:333[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:333[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:31:333[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:333[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:31:333[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:31:333[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:31:333[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:31:333[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:31:333[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:333[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:333[0m [34m[websocket:dispose][0m destroyed the listener!
stderr | src/server/services/__tests__/tags.service.test.ts > TagsService > deleteTagsBulkService > should bulk delete tags
📊 Would track metrics: {
  level: [32m'info'[39m,
  category: [32m'business_logic'[39m,
  operation: [32m'tags_bulk_delete'[39m
}

[90m14:29:31:353[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:354[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:354[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:354[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:354[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:354[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:354[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:354[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:354[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:354[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:31:354[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:31:354[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:31:354[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:354[0m [34m[websocket][0m set global instance! websocket
[90m14:29:31:405[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:31:405[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:31:405[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:31:405[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:31:405[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:31:405[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:31:405[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:31:405[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:31:405[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:31:405[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:405[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:405[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:31:405[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:31:405[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:31:405[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:31:405[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:31:405[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:405[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:31:405[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:406[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:31:406[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:31:406[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:31:406[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:31:406[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:31:406[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:406[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:31:406[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:406[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:31:406[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:406[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:31:406[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:31:406[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:31:406[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:31:406[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:31:406[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:406[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:406[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/services/__tests__/tags.service.test.ts (21 tests) 150ms
 ✓ src/server/db/business-schemas/__tests__/contacts.test.ts (45 tests) 105ms
[90m14:29:31:460[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:31:460[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:31:460[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:460[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:31:460[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:31:460[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:31:460[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:31:460[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:461[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:31:461[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:461[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:31:461[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:31:461[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:31:461[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:461[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:31:461[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:31:461[0m [34m[xhr][0m set global instance! xhr
[90m14:29:31:461[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:461[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:31:461[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:31:461[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:31:461[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:461[0m [34m[fetch][0m set global instance! fetch
[90m14:29:31:461[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:461[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:31:461[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:461[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:461[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:461[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:461[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:461[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:461[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:461[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:461[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:461[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:31:461[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:31:461[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:31:461[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:461[0m [34m[websocket][0m set global instance! websocket
[90m14:29:31:472[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:31:472[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:31:472[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:31:472[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:31:472[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:31:472[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:31:472[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:31:472[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:31:472[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:31:472[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:472[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:472[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:31:472[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:31:472[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:31:472[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:31:472[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:31:472[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:472[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:31:472[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:472[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:31:472[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:31:472[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:31:472[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:31:472[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:31:472[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:472[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:31:472[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:472[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:31:472[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:472[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:31:472[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:31:472[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:31:472[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:31:472[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:31:472[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:472[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:472[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/business-schemas/__tests__/gmail.test.ts (58 tests) 13ms
[90m14:29:31:845[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:31:845[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:31:845[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:845[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:31:845[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:31:845[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:31:845[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:31:845[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:845[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:31:845[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:845[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:31:845[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:31:845[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:31:845[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:845[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:31:845[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:31:845[0m [34m[xhr][0m set global instance! xhr
[90m14:29:31:845[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:845[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:31:845[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:31:845[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:31:845[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:845[0m [34m[fetch][0m set global instance! fetch
[90m14:29:31:845[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:845[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:31:845[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:845[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:845[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:845[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:845[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:845[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:845[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:845[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:845[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:846[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:31:846[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:31:846[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:31:846[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:846[0m [34m[websocket][0m set global instance! websocket
[90m14:29:31:906[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:31:916[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:31:917[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:31:917[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:31:917[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:31:917[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:31:917[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:31:917[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:31:917[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:31:917[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:917[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:917[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:31:917[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:31:917[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:31:917[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:31:917[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:31:917[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:917[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:31:917[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:917[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:31:917[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:31:917[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:31:917[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:31:917[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:31:917[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:917[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:31:917[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:917[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:31:917[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:917[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:31:918[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:31:918[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:31:918[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:31:918[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:31:918[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:918[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:918[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/onboarding.repo.test.ts (15 tests) 74ms
[90m14:29:31:932[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:31:932[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:31:932[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:932[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:31:932[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:31:932[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:31:932[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:31:932[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:933[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:31:933[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:933[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:31:933[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:31:933[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:31:933[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:933[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:31:933[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:31:933[0m [34m[xhr][0m set global instance! xhr
[90m14:29:31:933[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:933[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:31:933[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:31:933[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:31:933[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:933[0m [34m[fetch][0m set global instance! fetch
[90m14:29:31:933[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:31:933[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:31:933[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:933[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:933[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:31:933[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:933[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:933[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:31:933[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:933[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:933[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:31:933[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:31:933[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:31:933[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:31:933[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:31:933[0m [34m[websocket][0m set global instance! websocket
[90m14:29:31:970[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:31:970[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:31:970[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:31:970[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:31:970[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:31:970[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:31:970[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:31:970[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:31:970[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:31:970[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:970[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:970[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:31:970[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:31:970[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:31:970[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:31:970[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:31:970[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:970[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:31:970[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:970[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:31:970[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:31:970[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:31:970[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:31:970[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:31:970[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:970[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:31:970[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:970[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:31:970[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:970[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:31:970[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:31:970[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:31:970[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:31:970[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:31:970[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:31:970[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:31:970[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/documents.repo.test.ts (20 tests) 39ms
[90m14:29:32:5[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:32:58[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:32:58[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:32:58[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:32:58[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:32:384[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:32:436[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:32:452[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:32:452[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:32:452[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:32:452[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:32:816[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:32:816[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:32:816[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:32:816[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:33:57[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:33:71[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:33:71[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:33:71[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:33:71[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:33:71[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:33:71[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:33:71[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:33:71[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:33:71[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:33:71[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:33:71[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:33:71[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:33:71[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:33:71[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:33:71[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:33:71[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:33:71[0m [34m[xhr][0m set global instance! xhr
[90m14:29:33:71[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:33:71[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:33:71[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:33:71[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:33:71[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:33:71[0m [34m[fetch][0m set global instance! fetch
[90m14:29:33:71[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:33:71[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:33:72[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:33:72[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:33:72[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:33:72[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:33:72[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:33:72[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:33:72[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:33:72[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:33:72[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:33:72[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:33:72[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:33:72[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:33:72[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:33:72[0m [34m[websocket][0m set global instance! websocket
[90m14:29:33:208[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:33:209[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:33:209[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:33:209[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:33:209[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:33:209[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:33:209[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:33:209[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:33:209[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:33:209[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:33:209[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:33:209[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:33:209[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:33:209[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:33:209[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:33:209[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:33:209[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:33:209[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:33:209[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:33:209[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:33:209[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:33:209[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:33:209[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:33:209[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:33:209[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:33:209[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:33:209[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:33:209[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:33:209[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:33:209[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:33:209[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:33:209[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:33:209[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:33:209[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:33:209[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:33:209[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:33:209[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/lib/validation/__tests__/jsonb.test.ts (67 tests) 139ms
[90m14:29:33:498[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:33:498[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:33:498[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:33:498[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:33:493[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:33:620[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:33:629[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:33:670[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:33:670[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:33:670[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:33:670[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:33:674[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:33:926[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:34:213[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:34:237[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:34:237[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:34:237[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:34:257[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:34:257[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:34:258[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:34:258[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:34:304[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:34:304[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:34:305[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:34:305[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:34:305[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:34:305[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:34:305[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:34:306[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:34:330[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:34:330[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:34:330[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:330[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:34:330[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:34:330[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:34:330[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:34:330[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:331[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:34:331[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:331[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:34:331[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:34:331[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:34:331[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:331[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:34:331[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:34:331[0m [34m[xhr][0m set global instance! xhr
[90m14:29:34:331[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:331[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:34:331[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:34:331[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:34:331[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:331[0m [34m[fetch][0m set global instance! fetch
[90m14:29:34:331[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:331[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:34:331[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:331[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:331[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:331[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:331[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:331[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:331[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:331[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:331[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:331[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:34:331[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:34:331[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:34:331[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:331[0m [34m[websocket][0m set global instance! websocket
[90m14:29:34:563[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:34:563[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:34:563[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:563[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:34:563[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:34:563[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:34:563[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:34:563[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:563[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:34:563[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:563[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:34:563[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:34:563[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:34:563[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:563[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:34:563[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:34:563[0m [34m[xhr][0m set global instance! xhr
[90m14:29:34:563[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:563[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:34:563[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:34:563[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:34:563[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:564[0m [34m[fetch][0m set global instance! fetch
[90m14:29:34:564[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:564[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:34:564[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:564[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:564[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:564[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:564[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:564[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:564[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:564[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:564[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:564[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:34:564[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:34:564[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:34:564[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:564[0m [34m[websocket][0m set global instance! websocket
stdout | src/__tests__/kms-service.test.ts > KMS Service > Initialization > should initialize successfully with valid AWS credentials
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Initialization > should initialize successfully with valid AWS credentials
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Initialization > should initialize successfully with valid AWS credentials
[KMS] Initialized successfully with key: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

stderr | src/__tests__/kms-service.test.ts > KMS Service > Initialization > should throw error when AWS credentials are invalid
[KMS] Initialization failed: Error: KMS access verification failed: Invalid credentials
    at KMSService.verifyAccess [90m(/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/server/lib/kms-service.ts:140:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at KMSService.initialize [90m(/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/server/lib/kms-service.ts:102:7[90m)[39m

stdout | src/__tests__/kms-service.test.ts > KMS Service > Initialization > should throw error when KMS key is not accessible
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stderr | src/__tests__/kms-service.test.ts > KMS Service > Initialization > should throw error when KMS key is not accessible
[KMS] Initialization failed: Error: KMS access verification failed: Key not found
    at KMSService.verifyAccess [90m(/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/server/lib/kms-service.ts:140:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at KMSService.initialize [90m(/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/server/lib/kms-service.ts:102:7[90m)[39m
    at [90m/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/__tests__/kms-service.test.ts:78:7
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Generation > should generate data key successfully
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Generation > should generate data key successfully
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Generation > should generate data key successfully
[KMS] Initialized successfully with key: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Generation > should throw error when data key generation fails
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Generation > should throw error when data key generation fails
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Generation > should throw error when data key generation fails
[KMS] Initialized successfully with key: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Decryption > should decrypt data key successfully
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Decryption > should decrypt data key successfully
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Decryption > should decrypt data key successfully
[KMS] Initialized successfully with key: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Decryption > should throw error when data key decryption fails
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

[90m14:29:34:642[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:34:642[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:34:642[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:34:642[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:34:642[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:34:643[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:34:643[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:34:643[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:34:643[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:34:643[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:643[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:643[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:34:643[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:34:643[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:34:643[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:34:643[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:34:643[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:643[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:34:643[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:643[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:34:643[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:34:643[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:34:643[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:34:643[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:34:643[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:643[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:34:643[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:643[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:34:643[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:643[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:34:643[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:34:643[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:34:643[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:34:643[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:34:643[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:643[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:643[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:34:648[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:34:648[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:34:648[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:34:648[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:34:648[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:34:648[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:34:648[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:34:648[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:34:648[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:34:648[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:648[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:648[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:34:648[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:34:648[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:34:648[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:34:648[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:34:648[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:648[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:34:648[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:648[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:34:648[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:34:648[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:34:648[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:34:648[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:34:648[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:648[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:34:648[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:648[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:34:648[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:648[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:34:649[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:34:649[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:34:649[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:34:649[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:34:649[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:649[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:649[0m [34m[websocket:dispose][0m destroyed the listener!
stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Decryption > should throw error when data key decryption fails
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Decryption > should throw error when data key decryption fails
[KMS] Initialized successfully with key: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Derivation > should derive key successfully
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Derivation > should derive key successfully
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Derivation > should derive key successfully
[KMS] Initialized successfully with key: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Derivation > should throw error when key derivation fails
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Derivation > should throw error when key derivation fails
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Key Derivation > should throw error when key derivation fails
[KMS] Initialized successfully with key: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

stdout | src/__tests__/kms-service.test.ts > KMS Service > Status and Availability > should return correct status when available
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Status and Availability > should return correct status when available
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

stdout | src/__tests__/kms-service.test.ts > KMS Service > Status and Availability > should check availability correctly
[KMS] Authenticated as: arn:aws:iam::123456789012:user/test-user

stdout | src/__tests__/kms-service.test.ts > KMS Service > Status and Availability > should check availability correctly
[KMS] Key verified: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012 (Enabled)

 ❯ src/server/services/transcription.service.test.ts (5 tests | 2 failed) 319ms
   ✓ transcription.service (1.5.1) > sends multipart/form-data with file, model, language, and response_format 194ms
   ✓ transcription.service (1.5.1) > mocks Whisper API and returns successful transcription text (1.5.2) 2ms
   ✓ transcription.service (1.5.1) > retries on network failure with exponential backoff (1.5.6) 60ms
   × transcription.service (1.5.1) > returns BAD_REQUEST AppError on invalid audio format (1.5.8) 51ms
     → expected undefined to be 400 // Object.is equality
   × transcription.service (1.5.1) > returns SERVICE_UNAVAILABLE AppError on upstream failure (1.5.9) 6ms
     → expected undefined to be 503 // Object.is equality
 ✓ src/__tests__/kms-service.test.ts (13 tests) 81ms
[90m14:29:34:769[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:34:770[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:34:770[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:770[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:34:770[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:34:770[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:34:770[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:34:770[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:770[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:34:770[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:770[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:34:770[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:34:771[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:34:771[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:771[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:34:771[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:34:771[0m [34m[xhr][0m set global instance! xhr
[90m14:29:34:771[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:771[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:34:771[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:34:771[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:34:771[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:771[0m [34m[fetch][0m set global instance! fetch
[90m14:29:34:771[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:34:771[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:34:771[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:771[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:771[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:34:771[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:771[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:771[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:34:771[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:771[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:771[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:34:771[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:34:771[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:34:771[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:34:771[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:34:771[0m [34m[websocket][0m set global instance! websocket
[90m14:29:34:785[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:34:785[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:34:785[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:34:785[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:34:785[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:34:785[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:34:785[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:34:785[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:34:785[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:34:785[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:785[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:785[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:34:785[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:34:785[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:34:785[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:34:785[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:34:785[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:785[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:34:785[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:785[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:34:785[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:34:785[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:34:785[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:34:785[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:34:785[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:785[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:34:785[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:785[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:34:785[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:785[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:34:785[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:34:785[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:34:785[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:34:785[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:34:785[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:34:785[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:34:785[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/business-schemas/__tests__/calendar.test.ts (41 tests) 18ms
[90m14:29:34:878[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:35:29[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:35:29[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:35:29[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:29[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:35:30[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:35:30[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:35:30[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:35:30[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:30[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:35:30[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:35:30[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:35:30[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:35:30[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:35:30[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:30[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:35:30[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:35:30[0m [34m[xhr][0m set global instance! xhr
[90m14:29:35:30[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:35:30[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:35:30[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:35:30[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:35:30[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:30[0m [34m[fetch][0m set global instance! fetch
[90m14:29:35:30[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:35:30[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:35:30[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:35:30[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:35:30[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:35:30[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:35:30[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:35:30[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:35:30[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:35:30[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:35:30[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:35:30[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:35:30[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:35:30[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:35:30[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:30[0m [34m[websocket][0m set global instance! websocket
[90m14:29:35:65[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:35:65[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:35:65[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:35:65[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:35:65[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:35:65[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:35:65[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:35:65[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:35:65[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:35:65[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:35:65[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:35:65[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:35:65[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:35:65[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:35:65[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:35:65[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:35:65[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:35:66[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:35:66[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:35:66[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:35:66[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:35:66[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:35:66[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:35:66[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:35:66[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:35:66[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:35:66[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:35:66[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:35:66[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:35:66[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:35:66[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:35:66[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:35:66[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:35:66[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:35:66[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:35:66[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:35:66[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/server/services/__tests__/tasks.service.test.ts (16 tests | 4 failed) 44ms
   × TasksService > createTaskService > creates a task with normalized details and default fields 12ms
     → expected "spy" to be called with arguments: [ 'user-1', { name: 'Test', …(7) } ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "user-1",[22m
[2m    {[22m
[32m-     "completedAt": null,[90m
[2m      "details": {},[22m
[2m      "dueDate": null,[22m
[2m      "name": "Test",[22m
[32m-     "parentTaskId": null,[90m
[2m      "priority": "medium",[22m
[2m      "projectId": null,[22m
[2m      "status": "todo",[22m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   × TasksService > createTaskService > validates parent task existence 1ms
     → promise resolved "undefined" instead of rejecting
   × TasksService > createTaskService > passes through provided fields and formats dueDate 1ms
     → expected "spy" to be called with arguments: [ 'user-1', ObjectContaining{…} ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "user-1",[22m
[32m-   ObjectContaining {[90m
[31m+   {[90m
[2m      "details": {[22m
[2m        "k": "v",[22m
[2m      },[22m
[2m      "dueDate": "2024-01-02",[22m
[32m-     "parentTaskId": "parent",[90m
[31m+     "name": "Child",[90m
[2m      "priority": "high",[22m
[2m      "projectId": "project-1",[22m
[2m      "status": "in_progress",[22m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   ✓ TasksService > getTaskService > delegates to repo.getTask 0ms
   ✓ TasksService > listTasksService > delegates to repo.getTasks with filters 0ms
   ✓ TasksService > updateTaskService > sanitizes details via sanitizeJsonb and returns updated entity 0ms
   ✓ TasksService > updateTaskService > filters out undefined fields 0ms
   ✓ TasksService > deleteTaskService > delegates to repo.deleteTask 0ms
   ✓ TasksService > getTaskStatsService > returns repo.getTaskStats response 0ms
   × TasksService > approval workflow > getPendingApprovalTasksService filters by status 0ms
     → expected "spy" to be called with arguments: [ 'user-1', …(1) ][90m

Number of calls: [1m0[22m
[39m
   ✓ TasksService > approval workflow > approveTaskService sets status to todo 0ms
   ✓ TasksService > approval workflow > rejectTaskService sets status to canceled 11ms
   ✓ TasksService > project tasks and subtasks > getProjectTasksService validates project and lists tasks 2ms
   ✓ TasksService > project tasks and subtasks > getProjectTasksService throws when project is missing 3ms
   ✓ TasksService > project tasks and subtasks > getSubtasksService validates parent and returns subtasks 1ms
   ✓ TasksService > project tasks and subtasks > getSubtasksService throws when parent is missing 0ms
[90m14:29:35:151[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:35:338[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:35:338[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:35:338[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:35:338[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:35:437[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:35:437[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:35:437[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:35:438[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:35:834[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:35:834[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:35:834[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:834[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:35:834[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:35:834[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:35:834[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:35:834[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:834[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:35:834[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:35:834[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:35:834[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:35:834[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:35:834[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:834[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:35:834[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:35:834[0m [34m[xhr][0m set global instance! xhr
[90m14:29:35:834[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:35:834[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:35:834[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:35:834[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:35:834[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:872[0m [34m[fetch][0m set global instance! fetch
[90m14:29:35:872[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:35:872[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:35:872[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:35:872[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:35:872[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:35:872[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:35:872[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:35:872[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:35:872[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:35:872[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:35:872[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:35:873[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:35:873[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:35:873[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:35:873[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:35:873[0m [34m[websocket][0m set global instance! websocket
[90m14:29:36:75[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:36:75[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:36:75[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:36:75[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:36:75[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:36:75[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:36:75[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:36:75[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:36:75[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:36:75[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:75[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:75[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:36:75[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:36:75[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:36:75[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:36:75[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:36:75[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:75[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:36:75[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:75[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:36:75[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:36:75[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:36:75[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:36:75[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:36:75[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:75[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:36:75[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:75[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:36:75[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:75[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:36:75[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:36:75[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:36:75[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:36:75[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:36:75[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:75[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:75[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/server/db/business-schemas/__tests__/notes.test.ts (37 tests | 5 failed) 242ms
   ✓ Notes Business Schemas > NoteSourceTypeSchema > should validate typed source 80ms
   ✓ Notes Business Schemas > NoteSourceTypeSchema > should validate voice source 0ms
   ✓ Notes Business Schemas > NoteSourceTypeSchema > should validate upload source 1ms
   ✓ Notes Business Schemas > NoteSourceTypeSchema > should reject invalid source type 21ms
   × Notes Business Schemas > CreateNoteBodySchema > should validate minimal note with plain text 5ms
     → [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
   ✓ Notes Business Schemas > CreateNoteBodySchema > should validate note with all fields 1ms
   ✓ Notes Business Schemas > CreateNoteBodySchema > should require contentPlain 0ms
   ✓ Notes Business Schemas > CreateNoteBodySchema > should reject empty contentPlain 0ms
   × Notes Business Schemas > CreateNoteBodySchema > should validate TipTap JSON structure in contentRich 0ms
     → [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
   ✓ Notes Business Schemas > CreateNoteBodySchema > should validate UUID format for contactId 0ms
   × Notes Business Schemas > CreateNoteBodySchema > should validate UUID format for goalIds 1ms
     → expected [Function] to not throw an error but '[\n  {\n    "expected": "string",\n  …' was thrown
   × Notes Business Schemas > CreateNoteBodySchema > should default sourceType to typed 4ms
     → [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
   × Notes Business Schemas > CreateNoteBodySchema > should validate all sourceType options 0ms
     → [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
   ✓ Notes Business Schemas > UpdateNoteBodySchema > should validate with all fields optional 0ms
   ✓ Notes Business Schemas > UpdateNoteBodySchema > should validate partial updates 0ms
   ✓ Notes Business Schemas > UpdateNoteBodySchema > should validate updating contentRich 0ms
   ✓ Notes Business Schemas > UpdateNoteBodySchema > should validate updating goalIds 0ms
   ✓ Notes Business Schemas > UpdateNoteBodySchema > should reject empty contentPlain if provided 0ms
   ✓ Notes Business Schemas > UpdateNoteBodySchema > should validate UUID format for goalIds 0ms
   ✓ Notes Business Schemas > UpdateNoteBodySchema > should validate multiple field updates 0ms
   ✓ Notes Business Schemas > NotesListResponseSchema > should validate empty notes list 0ms
   ✓ Notes Business Schemas > NotesListResponseSchema > should validate notes list with items 0ms
   ✓ Notes Business Schemas > NotesListResponseSchema > should require notes array 0ms
   ✓ Notes Business Schemas > NotesListResponseSchema > should require total field 0ms
   ✓ Notes Business Schemas > NotesListResponseSchema > should reject non-array notes 0ms
   ✓ Notes Business Schemas > NotesListResponseSchema > should reject non-number total 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should validate with defaults 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should validate with all parameters 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should validate UUID format for contactId 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should enforce minimum limit 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should enforce maximum limit 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should accept boundary limit values 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should enforce minimum offset 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should accept zero offset 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should coerce string numbers to integers 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should validate empty search string 0ms
   ✓ Notes Business Schemas > GetNotesQuerySchema > should validate search with special characters 0ms
[90m14:29:36:258[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:36:258[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:36:258[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:258[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:36:258[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:36:258[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:36:258[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:36:258[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:258[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:36:258[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:36:258[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:36:258[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:36:258[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:36:258[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:258[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:36:258[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:36:258[0m [34m[xhr][0m set global instance! xhr
[90m14:29:36:258[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:36:258[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:36:258[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:36:258[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:36:258[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:259[0m [34m[fetch][0m set global instance! fetch
[90m14:29:36:259[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:36:259[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:36:259[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:36:259[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:36:259[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:36:259[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:36:259[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:36:259[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:36:259[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:36:259[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:36:259[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:36:259[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:36:259[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:36:259[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:36:259[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:259[0m [34m[websocket][0m set global instance! websocket
[90m14:29:36:288[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:36:288[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:36:288[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:36:288[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:36:288[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:36:288[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:36:288[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:36:288[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:36:288[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:36:288[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:288[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:288[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:36:288[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:36:288[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:36:288[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:36:288[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:36:288[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:288[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:36:288[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:288[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:36:288[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:36:288[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:36:288[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:36:288[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:36:288[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:288[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:36:288[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:288[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:36:288[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:288[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:36:288[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:36:288[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:36:288[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:36:288[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:36:288[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:288[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:288[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:36:307[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:36:307[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:36:307[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:307[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:36:307[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:36:307[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:36:307[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:36:307[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:307[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:36:307[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:36:307[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:36:307[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:36:307[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:36:307[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:307[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:36:307[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:36:307[0m [34m[xhr][0m set global instance! xhr
[90m14:29:36:307[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:36:307[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:36:307[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:36:307[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:36:307[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:308[0m [34m[fetch][0m set global instance! fetch
[90m14:29:36:308[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:36:308[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:36:308[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:36:308[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:36:308[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:36:308[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:36:308[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:36:308[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:36:308[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:36:308[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:36:308[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:36:308[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:36:308[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:36:308[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:36:308[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:36:308[0m [34m[websocket][0m set global instance! websocket
 ✓ packages/repo/src/__tests__/tags.repo.test.ts (17 tests) 32ms
[90m14:29:36:413[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:36:413[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:36:413[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:36:413[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:36:413[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:36:413[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:36:413[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:36:413[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:36:413[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:36:413[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:413[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:413[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:36:413[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:36:413[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:36:413[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:36:413[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:36:413[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:413[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:36:413[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:413[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:36:413[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:36:413[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:36:413[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:36:413[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:36:413[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:413[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:36:413[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:413[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:36:413[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:413[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:36:413[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:36:413[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:36:413[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:36:413[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:36:413[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:36:413[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:36:413[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/testing/src/__tests__/factories.test.ts (12 tests) 122ms
[90m14:29:37:1[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:37:2[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:37:2[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:3[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:37:3[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:37:3[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:37:3[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:37:3[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:3[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:37:3[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:3[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:37:3[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:37:4[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:37:4[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:4[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:37:4[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:37:4[0m [34m[xhr][0m set global instance! xhr
[90m14:29:37:4[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:4[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:37:4[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:37:4[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:37:4[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:5[0m [34m[fetch][0m set global instance! fetch
[90m14:29:37:5[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:5[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:37:5[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:5[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:5[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:5[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:5[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:5[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:5[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:5[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:5[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:5[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:37:5[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:37:5[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:37:5[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:5[0m [34m[websocket][0m set global instance! websocket
[90m14:29:37:153[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:37:153[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:37:153[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:37:153[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:37:153[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:37:153[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:37:153[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:37:153[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:37:153[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:37:153[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:153[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:153[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:37:153[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:37:153[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:37:153[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:37:153[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:37:154[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:154[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:37:154[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:154[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:37:154[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:37:154[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:37:154[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:37:154[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:37:154[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:154[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:37:154[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:154[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:37:154[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:154[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:37:154[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:37:154[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:37:154[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:37:154[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:37:154[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:154[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:154[0m [34m[websocket:dispose][0m destroyed the listener!
stderr | src/server/services/__tests__/google-integration.service.test.ts > GoogleIntegrationService > getStatusService > should handle refresh failures gracefully
🔴 ERROR Failed to refresh Google integrations during status check
Context: {
  operation: [32m'google_integration.refresh'[39m,
  additionalData: { userId: [32m'test-user-123'[39m }
}
Error: Error: Refresh failed
    at [90m/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/server/services/__tests__/google-integration.service.test.ts:241:9
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
    at runTest [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
Stack: Error: Refresh failed
    at /Users/peterjamesblizzard/projects/app_omnicrm/src/server/services/__tests__/google-integration.service.test.ts:241:9
    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
📊 Would track metrics: {
  level: [32m'error'[39m,
  category: [32m'api'[39m,
  operation: [32m'google_integration.refresh'[39m
}

stderr | src/server/services/__tests__/google-integration.service.test.ts > GoogleIntegrationService > getStatusService > should set autoRefreshed to false when refresh fails
🔴 ERROR Failed to refresh Google integrations during status check
Context: {
  operation: [32m'google_integration.refresh'[39m,
  additionalData: { userId: [32m'test-user-123'[39m }
}
Error: Error: Refresh failed
    at [90m/Users/peterjamesblizzard/projects/app_omnicrm/[39msrc/server/services/__tests__/google-integration.service.test.ts:389:9
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
    at runTest [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///Users/peterjamesblizzard/projects/app_omnicrm/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
Stack: Error: Refresh failed
    at /Users/peterjamesblizzard/projects/app_omnicrm/src/server/services/__tests__/google-integration.service.test.ts:389:9
    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
📊 Would track metrics: {
  level: [32m'error'[39m,
  category: [32m'api'[39m,
  operation: [32m'google_integration.refresh'[39m
}

 ❯ src/server/services/__tests__/google-integration.service.test.ts (18 tests | 2 failed) 154ms
   ✓ GoogleIntegrationService > upsertIntegrationService > should upsert Gmail integration with tokens 7ms
   ✓ GoogleIntegrationService > upsertIntegrationService > should upsert Calendar integration with tokens 1ms
   ✓ GoogleIntegrationService > upsertIntegrationService > should handle null refreshToken 5ms
   ✓ GoogleIntegrationService > upsertIntegrationService > should throw AppError on repository failure 1ms
   ✓ GoogleIntegrationService > getStatusService > should return connected status for valid integrations 2ms
   ✓ GoogleIntegrationService > getStatusService > should return disconnected for missing integrations 1ms
   ✓ GoogleIntegrationService > getStatusService > should return disconnected for expired tokens 0ms
   ✓ GoogleIntegrationService > getStatusService > should return disconnected when accessToken is missing 0ms
   ✓ GoogleIntegrationService > getStatusService > should consider token valid when expiryDate is null 0ms
   ✓ GoogleIntegrationService > getStatusService > should attempt token refresh when autoRefresh is true and tokens expired 1ms
   ✓ GoogleIntegrationService > getStatusService > should not refresh when autoRefresh is false 1ms
   ✓ GoogleIntegrationService > getStatusService > should handle refresh failures gracefully 3ms
   ✓ GoogleIntegrationService > getStatusService > should default autoRefresh to true 1ms
   ✓ GoogleIntegrationService > getStatusService > should handle partial integrations 0ms
   × GoogleIntegrationService > getStatusService > should set autoRefreshed to true only for services that were refreshed 51ms
     → expected true to be false // Object.is equality
   × GoogleIntegrationService > getStatusService > should set autoRefreshed to false when no refresh is needed 71ms
     → expected "getGoogleClients" to not be called at all, but actually been called 1 times[90m

Received: 

[1m  1st getGoogleClients call:

[22m    Array [
      "test-user-123",
    ]
[39m[90m

Number of calls: [1m1[22m
[39m
   ✓ GoogleIntegrationService > getStatusService > should set autoRefreshed to true for both services when both are expired 1ms
   ✓ GoogleIntegrationService > getStatusService > should set autoRefreshed to false when refresh fails 2ms
[90m14:29:37:188[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:37:188[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:37:188[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:189[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:37:189[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:37:189[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:37:189[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:37:189[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:189[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:37:189[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:189[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:37:189[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:37:189[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:37:189[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:189[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:37:189[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:37:189[0m [34m[xhr][0m set global instance! xhr
[90m14:29:37:189[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:189[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:37:189[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:37:189[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:37:189[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:189[0m [34m[fetch][0m set global instance! fetch
[90m14:29:37:189[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:189[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:37:189[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:189[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:189[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:189[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:189[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:189[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:189[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:189[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:189[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:189[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:37:189[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:37:189[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:37:189[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:190[0m [34m[websocket][0m set global instance! websocket
[90m14:29:37:198[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:37:198[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:37:198[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:37:198[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:37:198[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:37:198[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:37:198[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:37:198[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:37:198[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:37:198[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:198[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:198[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:37:198[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:37:198[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:37:198[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:37:198[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:37:198[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:198[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:37:198[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:198[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:37:198[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:37:198[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:37:198[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:37:198[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:37:198[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:198[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:37:198[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:198[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:37:198[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:198[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:37:198[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:37:198[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:37:198[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:37:198[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:37:198[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:198[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:198[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/omni-momentum/projects/__tests__/route.test.ts (6 tests) 12ms
[90m14:29:37:339[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:37:339[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:37:339[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:339[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:37:341[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:37:341[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:37:341[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:37:341[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:341[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:37:342[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:342[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:37:342[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:37:342[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:37:342[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:346[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:37:346[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:37:346[0m [34m[xhr][0m set global instance! xhr
[90m14:29:37:346[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:346[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:37:346[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:37:346[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:37:346[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:346[0m [34m[fetch][0m set global instance! fetch
[90m14:29:37:346[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:37:346[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:37:346[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:346[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:346[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:37:346[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:346[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:346[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:37:346[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:346[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:346[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:37:346[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:37:346[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:37:346[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:37:346[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:37:346[0m [34m[websocket][0m set global instance! websocket
[90m14:29:37:385[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:37:385[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:37:385[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:37:385[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:37:385[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:37:385[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:37:385[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:37:385[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:37:385[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:37:385[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:385[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:385[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:37:385[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:37:385[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:37:385[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:37:385[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:37:385[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:385[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:37:385[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:385[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:37:385[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:37:385[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:37:385[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:37:385[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:37:385[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:385[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:37:385[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:385[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:37:385[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:385[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:37:385[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:37:385[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:37:385[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:37:385[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:37:385[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:37:385[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:37:385[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/contacts/__tests__/route.test.ts (6 tests) 75ms
[90m14:29:37:510[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:37:794[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:37:794[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:37:794[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:37:802[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:38:299[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:38:376[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:38:674[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:38:674[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:38:674[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:38:675[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:38:513[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:38:683[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:38:761[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:38:761[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:38:761[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:38:762[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:38:799[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:38:799[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:38:799[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:799[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:38:800[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:38:800[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:38:800[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:38:800[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:800[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:38:800[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:800[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:38:800[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:38:801[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:38:801[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:801[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:38:801[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:38:801[0m [34m[xhr][0m set global instance! xhr
[90m14:29:38:801[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:801[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:38:801[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:38:801[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:38:801[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:801[0m [34m[fetch][0m set global instance! fetch
[90m14:29:38:801[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:801[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:38:801[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:801[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:801[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:801[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:801[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:801[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:801[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:801[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:801[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:801[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:38:801[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:38:801[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:38:801[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:802[0m [34m[websocket][0m set global instance! websocket
stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Error Logging Integration > should capture errors in Sentry when logging error level
{"level":"error","message":"Test error message","timestamp":"2025-10-24T12:29:38.803Z","context":{"operation":"test_operation","endpoint":"/api/test","userId":"test-user-123"},"error":{"name":"Error","message":"Test error","stack":"Error: Test error\n    at /Users/peterjamesblizzard/projects/app_omnicrm/src/__tests__/sentry-integration.test.ts:25:21\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"}}

stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Error Logging Integration > should capture fatal errors in Sentry
{"level":"fatal","message":"Fatal error message","timestamp":"2025-10-24T12:29:38.808Z","context":{"operation":"critical_operation","userId":"test-user-123"},"error":{"name":"Error","message":"Fatal error","stack":"Error: Fatal error\n    at /Users/peterjamesblizzard/projects/app_omnicrm/src/__tests__/sentry-integration.test.ts:44:21\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"}}

[90m14:29:38:811[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:38:811[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:38:811[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:811[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:38:812[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:38:812[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:38:812[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:38:812[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:812[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:38:812[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:812[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:38:812[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:38:812[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:38:812[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:812[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:38:812[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:38:812[0m [34m[xhr][0m set global instance! xhr
[90m14:29:38:812[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:812[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:38:812[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:38:812[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:38:812[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:812[0m [34m[fetch][0m set global instance! fetch
[90m14:29:38:812[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:812[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:38:812[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:812[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:812[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:812[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:812[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:812[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:812[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:812[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:812[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:812[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:38:812[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:38:812[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:38:812[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:812[0m [34m[websocket][0m set global instance! websocket
[90m14:29:38:821[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:38:821[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:38:821[0m [34m[fetch][0m constructing the interceptor...
stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Error Logging Integration > should capture error messages without error objects
{"level":"error","message":"Error message without error object","timestamp":"2025-10-24T12:29:38.809Z","context":{"operation":"test_operation","endpoint":"/api/test"}}

[90m14:29:38:821[0m [34m[setup-server][0m constructing the interceptor...
stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Warning Logging Integration > should capture warnings in Sentry
{"level":"warn","message":"Warning message","timestamp":"2025-10-24T12:29:38.821Z","context":{"operation":"warning_operation","endpoint":"/api/warning"}}

[90m14:29:38:824[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:38:824[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:38:824[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:38:824[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:38:824[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:38:824[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:38:824[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:38:824[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:38:824[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:38:824[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:824[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:824[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:38:824[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:38:824[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:38:824[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:38:824[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:38:824[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:824[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:38:824[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:824[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:38:824[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:38:824[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:38:824[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:38:824[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:38:824[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:824[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:38:824[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:824[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:38:824[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:824[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:38:824[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:38:824[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:38:824[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:38:824[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:38:824[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:824[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:824[0m [34m[websocket:dispose][0m destroyed the listener!
stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Info and Debug Logging > should add breadcrumbs for info messages
{"level":"info","message":"Info message","timestamp":"2025-10-24T12:29:38.825Z","context":{"operation":"info_operation","userId":"test-user-123"}}

stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Info and Debug Logging > should add breadcrumbs for debug messages
{"level":"debug","message":"Debug message","timestamp":"2025-10-24T12:29:38.825Z","context":{"operation":"debug_operation"}}

stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > API Request/Response Logging > should add breadcrumbs for API requests
{"level":"info","message":"GET /api/contacts","timestamp":"2025-10-24T12:29:38.826Z","context":{"operation":"api_request","endpoint":"/api/contacts","userId":"test-user-123","method":"GET"}}

 ✓ src/app/api/tags/remove/__tests__/route.test.ts (4 tests) 14ms
stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > API Request/Response Logging > should capture API errors in Sentry
{"level":"error","message":"GET /api/contacts - 500 (1000ms)","timestamp":"2025-10-24T12:29:38.826Z","context":{"operation":"api_response","endpoint":"/api/contacts","userId":"test-user-123","method":"GET","duration":1000,"statusCode":500},"error":{"name":"Error","message":"API error","stack":"Error: API error\n    at /Users/peterjamesblizzard/projects/app_omnicrm/src/__tests__/sentry-integration.test.ts:142:21\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"}}

stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Database Operation Logging > should add breadcrumbs for database operations
{"level":"info","message":"Database INSERT on contacts","timestamp":"2025-10-24T12:29:38.827Z","context":{"operation":"database","table":"contacts","userId":"test-user-123"}}

stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Authentication Event Logging > should add breadcrumbs for auth events
{"level":"info","message":"Auth event: login","timestamp":"2025-10-24T12:29:38.827Z","context":{"operation":"authentication","event":"login","userId":"test-user-123"}}

stdout | src/__tests__/sentry-integration.test.ts > Sentry Integration > Security Event Logging > should capture security events in Sentry
{"level":"warn","message":"Security event: suspicious_activity","timestamp":"2025-10-24T12:29:38.827Z","context":{"operation":"security","event":"suspicious_activity","userId":"test-user-123"}}

[90m14:29:38:828[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:38:828[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:38:828[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:38:828[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:38:828[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:38:828[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:38:828[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:38:828[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:38:828[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:38:828[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:828[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:828[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:38:828[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:38:828[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:38:828[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:38:828[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:38:828[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:828[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:38:828[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:828[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:38:828[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:38:828[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:38:828[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:38:828[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:38:828[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:828[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:38:828[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:828[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:38:828[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:828[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:38:828[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:38:828[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:38:828[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:38:828[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:38:828[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:828[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:828[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/__tests__/sentry-integration.test.ts (11 tests) 29ms
[90m14:29:38:841[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:38:841[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:38:841[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:38:841[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:38:940[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:38:941[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:38:941[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:941[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:38:941[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:38:941[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:38:941[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:38:941[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:942[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:38:942[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:942[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:38:942[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:38:942[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:38:942[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:942[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:38:942[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:38:942[0m [34m[xhr][0m set global instance! xhr
[90m14:29:38:942[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:942[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:38:942[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:38:942[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:38:942[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:943[0m [34m[fetch][0m set global instance! fetch
[90m14:29:38:943[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:943[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:38:943[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:943[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:943[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:943[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:943[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:943[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:943[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:943[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:943[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:943[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:38:945[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:38:946[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:38:946[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:946[0m [34m[websocket][0m set global instance! websocket
[90m14:29:38:947[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:38:947[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:38:947[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:948[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:38:948[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:38:948[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:38:948[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:38:948[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:948[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:38:948[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:948[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:38:948[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:38:948[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:38:948[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:948[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:38:948[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:38:948[0m [34m[xhr][0m set global instance! xhr
[90m14:29:38:948[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:948[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:38:948[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:38:948[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:38:948[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:948[0m [34m[fetch][0m set global instance! fetch
[90m14:29:38:948[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:38:948[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:38:948[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:948[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:948[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:38:948[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:948[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:948[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:38:948[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:948[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:948[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:38:948[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:38:948[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:38:948[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:38:948[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:38:948[0m [34m[websocket][0m set global instance! websocket
[90m14:29:38:955[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:38:955[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:38:955[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:38:955[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:38:955[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:38:955[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:38:955[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:38:955[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:38:955[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:38:955[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:955[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:956[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:38:956[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:38:956[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:38:956[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:38:956[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:38:956[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:956[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:38:956[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:956[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:38:956[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:38:956[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:38:956[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:38:956[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:38:956[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:956[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:38:956[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:956[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:38:956[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:956[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:38:956[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:38:956[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:38:956[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:38:956[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:38:956[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:956[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:956[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/tags/stats/__tests__/route.test.ts (3 tests) 9ms
[90m14:29:38:986[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:38:986[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:38:986[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:38:986[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:38:986[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:38:986[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:38:986[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:38:986[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:38:986[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:38:986[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:986[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:986[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:38:986[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:38:986[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:38:986[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:38:986[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:38:986[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:986[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:38:986[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:986[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:38:986[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:38:986[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:38:986[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:38:986[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:38:986[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:986[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:38:986[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:986[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:38:986[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:986[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:38:986[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:38:986[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:38:986[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:38:986[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:38:986[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:38:986[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:38:986[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/tags/[id]/__tests__/route.test.ts (4 tests) 47ms
[90m14:29:39:32[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:39:48[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:39:49[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:39:49[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:39:49[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:39:49[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:39:49[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:39:49[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:39:49[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:39:51[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:39:52[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:39:52[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:39:52[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:39:52[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:39:52[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:39:52[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:39:52[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:39:52[0m [34m[xhr][0m set global instance! xhr
[90m14:29:39:52[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:39:52[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:39:52[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:39:52[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:39:52[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:39:52[0m [34m[fetch][0m set global instance! fetch
[90m14:29:39:52[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:39:52[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:39:52[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:39:52[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:39:52[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:39:52[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:39:52[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:39:52[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:39:52[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:39:52[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:39:52[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:39:52[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:39:52[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:39:52[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:39:52[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:39:52[0m [34m[websocket][0m set global instance! websocket
[90m14:29:39:108[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:39:108[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:39:108[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:39:108[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:39:108[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:39:108[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:39:108[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:39:108[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:39:108[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:39:108[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:39:108[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:39:108[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:39:108[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:39:108[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:39:108[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:39:108[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:39:108[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:39:108[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:39:108[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:39:108[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:39:108[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:39:108[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:39:108[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:39:108[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:39:108[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:39:108[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:39:108[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:39:108[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:39:108[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:39:108[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:39:108[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:39:108[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:39:108[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:39:108[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:39:108[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:39:108[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:39:108[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/services/__tests__/notes.service.test.ts (18 tests) 60ms
[90m14:29:39:117[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:39:138[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:39:138[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:39:138[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:39:139[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:39:174[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:39:174[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:39:174[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:39:175[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:39:425[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:39:595[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:39:596[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:39:596[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:39:596[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:39:755[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:39:841[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:39:841[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:39:841[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:39:842[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:39:839[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:39:995[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:40:255[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:40:255[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:40:255[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:256[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:40:256[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:40:256[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:40:256[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:40:256[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:256[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:40:256[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:256[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:40:256[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:40:256[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:40:256[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:256[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:40:256[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:40:256[0m [34m[xhr][0m set global instance! xhr
[90m14:29:40:256[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:256[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:40:256[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:40:256[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:40:256[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:256[0m [34m[fetch][0m set global instance! fetch
[90m14:29:40:256[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:256[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:40:256[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:256[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:256[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:256[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:256[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:256[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:256[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:256[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:256[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:256[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:40:256[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:40:256[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:40:256[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:260[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:40:260[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:40:256[0m [34m[websocket][0m set global instance! websocket
[90m14:29:40:263[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:40:263[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:40:263[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:40:263[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:40:263[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:40:263[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:40:263[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:40:263[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:40:263[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:40:263[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:263[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:263[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:40:263[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:40:263[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:40:263[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:40:263[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:40:263[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:263[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:40:263[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:263[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:40:263[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:40:263[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:40:263[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:40:263[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:40:263[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:263[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:40:263[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:263[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:40:263[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:263[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:40:263[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:40:263[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:40:263[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:40:263[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:40:263[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:263[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:263[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/tags/bulk-delete/__tests__/route.test.ts (3 tests) 128ms
[90m14:29:40:263[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:40:273[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:40:417[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:40:418[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:40:418[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:418[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:40:418[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:40:418[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:40:418[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:40:418[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:418[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:40:418[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:418[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:40:418[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:40:418[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:40:418[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:418[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:40:418[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:40:418[0m [34m[xhr][0m set global instance! xhr
[90m14:29:40:418[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:418[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:40:418[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:40:418[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:40:418[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:418[0m [34m[fetch][0m set global instance! fetch
[90m14:29:40:418[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:418[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:40:418[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:418[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:418[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:418[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:418[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:418[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:418[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:418[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:418[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:418[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:40:419[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:40:419[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:40:419[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:419[0m [34m[websocket][0m set global instance! websocket
[90m14:29:40:427[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:40:427[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:40:427[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:40:428[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:40:428[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:40:428[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:40:428[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:40:428[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:40:428[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:40:428[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:428[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:428[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:40:428[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:40:428[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:40:428[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:40:428[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:40:428[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:428[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:40:428[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:428[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:40:428[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:40:428[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:40:428[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:40:428[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:40:428[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:428[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:40:428[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:428[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:40:428[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:428[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:40:428[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:40:428[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:40:428[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:40:428[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:40:428[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:428[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:428[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:40:459[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:40:459[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:40:459[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:40:459[0m [34m[setup-server][0m constructing the interceptor...
 ✓ src/server/db/business-schemas/__tests__/storage.test.ts (22 tests) 11ms
[90m14:29:40:497[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:40:570[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:40:573[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:40:573[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:574[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:40:574[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:40:574[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:40:574[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:40:574[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:575[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:40:575[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:575[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:40:575[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:40:575[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:40:576[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:576[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:40:576[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:40:576[0m [34m[xhr][0m set global instance! xhr
[90m14:29:40:576[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:576[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:40:576[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:40:576[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:40:576[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:576[0m [34m[fetch][0m set global instance! fetch
[90m14:29:40:576[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:576[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:40:576[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:576[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:576[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:576[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:576[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:576[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:576[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:576[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:576[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:576[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:40:576[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:40:576[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:40:576[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:574[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:40:576[0m [34m[websocket][0m set global instance! websocket
[90m14:29:40:780[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:40:780[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:40:780[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:40:780[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:40:780[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:40:780[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:40:780[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:40:780[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:40:780[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:40:780[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:780[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:780[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:40:780[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:40:780[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:40:780[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:40:780[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:40:780[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:780[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:40:780[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:780[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:40:780[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:40:780[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:40:780[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:40:780[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:40:780[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:780[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:40:780[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:780[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:40:780[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:780[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:40:780[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:40:780[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:40:780[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:40:780[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:40:780[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:780[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:780[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:40:834[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:40:834[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:40:834[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:834[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:40:834[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:40:834[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:40:834[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:40:834[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:834[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:40:835[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:835[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:40:835[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:40:835[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:40:835[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:835[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:40:835[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:40:835[0m [34m[xhr][0m set global instance! xhr
[90m14:29:40:835[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:835[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:40:835[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:40:835[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:40:835[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:835[0m [34m[fetch][0m set global instance! fetch
[90m14:29:40:835[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:40:835[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:40:835[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:835[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:835[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:40:835[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:835[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:835[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:40:835[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:835[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:835[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:40:835[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:40:835[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:40:835[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:40:835[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:40:835[0m [34m[websocket][0m set global instance! websocket
[90m14:29:40:844[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:40:844[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:40:844[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:40:844[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:40:844[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:40:844[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:40:844[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:40:844[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:40:844[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:40:844[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:844[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:844[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:40:844[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:40:844[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:40:844[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:40:844[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:40:844[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:844[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:40:844[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:844[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:40:844[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:40:844[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:40:844[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:40:844[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:40:844[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:40:844[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:40:844[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:844[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:40:844[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:844[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:40:844[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:40:844[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:40:844[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:40:844[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:40:844[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
 ✓ src/server/db/business-schemas/__tests__/interactions.test.ts (22 tests) 210ms
[90m14:29:40:844[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:40:904[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/tags/apply/__tests__/route.test.ts (4 tests) 72ms
[90m14:29:41:64[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:41:140[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:41:140[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:41:140[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:41:141[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:41:155[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:41:155[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:41:155[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:41:155[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:41:204[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:41:204[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:41:204[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:41:205[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:41:267[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:41:328[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:41:569[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:41:569[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:41:574[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:575[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:41:575[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:41:575[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:41:575[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:41:575[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:575[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:41:577[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:577[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:41:577[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:41:577[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:41:577[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:577[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:41:578[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:41:578[0m [34m[xhr][0m set global instance! xhr
[90m14:29:41:578[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:578[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:41:578[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:41:578[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:41:578[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:578[0m [34m[fetch][0m set global instance! fetch
[90m14:29:41:578[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:578[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:41:578[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:578[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:578[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:578[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:578[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:578[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:578[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:578[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:578[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:578[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:41:578[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:41:578[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:41:578[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:578[0m [34m[websocket][0m set global instance! websocket
[90m14:29:41:629[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:41:629[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:41:629[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:41:630[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:41:684[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:41:684[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:41:684[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:41:684[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:41:684[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:41:684[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:41:684[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:41:684[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:41:684[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:41:684[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:684[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:684[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:41:684[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:41:684[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:41:684[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:41:684[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:41:684[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:684[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:41:684[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:684[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:41:684[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:41:684[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:41:684[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:41:684[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:41:684[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:684[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:41:684[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:684[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:41:684[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:684[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:41:684[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:41:684[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:41:684[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:41:684[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:41:684[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:684[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:684[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/notes/paginated/__tests__/route.test.ts (6 tests) 117ms
[90m14:29:41:709[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:41:709[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:41:710[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:41:710[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:41:772[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:41:772[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:41:772[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:772[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:41:773[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:41:773[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:41:773[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:41:773[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:773[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:41:773[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:773[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:41:773[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:41:773[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:41:774[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:774[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:41:774[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:41:774[0m [34m[xhr][0m set global instance! xhr
[90m14:29:41:774[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:774[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:41:774[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:41:774[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:41:774[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:774[0m [34m[fetch][0m set global instance! fetch
[90m14:29:41:774[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:774[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:41:774[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:775[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:775[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:775[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:775[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:775[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:775[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:775[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:775[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:775[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:41:775[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:41:775[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:41:775[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:775[0m [34m[websocket][0m set global instance! websocket
[90m14:29:41:786[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:41:786[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:41:786[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:41:786[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:41:786[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:41:786[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:41:786[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:41:786[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:41:786[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:41:786[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:786[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:786[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:41:786[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:41:786[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:41:786[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:41:786[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:41:786[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:786[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:41:786[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:786[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:41:786[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:41:786[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:41:786[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:41:786[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:41:786[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:786[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:41:786[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:786[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:41:786[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:786[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:41:786[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:41:786[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:41:786[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:41:786[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:41:786[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:41:786[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:41:786[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/business-schemas/__tests__/jobs.test.ts (22 tests) 16ms
[90m14:29:41:963[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:41:964[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:41:964[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:964[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:41:966[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:41:966[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:41:966[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:41:966[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:967[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:41:967[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:967[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:41:967[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:41:967[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:41:967[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:967[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:41:967[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:41:967[0m [34m[xhr][0m set global instance! xhr
[90m14:29:41:967[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:967[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:41:967[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:41:967[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:41:967[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:967[0m [34m[fetch][0m set global instance! fetch
[90m14:29:41:967[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:967[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:41:968[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:968[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:968[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:968[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:968[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:968[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:968[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:968[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:968[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:968[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:41:968[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:41:968[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:41:968[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:968[0m [34m[websocket][0m set global instance! websocket
[90m14:29:41:974[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:41:974[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:41:974[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:974[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:41:975[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:41:975[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:41:975[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:41:975[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:975[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:41:975[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:975[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:41:975[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:41:975[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:41:975[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:975[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:41:975[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:41:975[0m [34m[xhr][0m set global instance! xhr
[90m14:29:41:975[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:975[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:41:975[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:41:975[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:41:975[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:975[0m [34m[fetch][0m set global instance! fetch
[90m14:29:41:975[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:41:975[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:41:975[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:975[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:975[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:41:975[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:975[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:975[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:41:975[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:975[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:975[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:41:975[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:41:975[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:41:975[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:41:975[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:41:975[0m [34m[websocket][0m set global instance! websocket
[90m14:29:42:24[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:42:24[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:42:24[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:42:24[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:42:24[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:42:24[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:42:24[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:42:24[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:42:24[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:42:24[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:24[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:24[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:42:24[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:42:24[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:42:24[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:42:24[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:42:24[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:24[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:42:24[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:24[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:42:24[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:42:24[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:42:24[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:42:24[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:42:24[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:24[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:42:24[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:24[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:42:24[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:24[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:42:24[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:42:24[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:42:24[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:42:24[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:42:24[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:24[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:24[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/business-schemas/__tests__/admin.test.ts (28 tests) 62ms
[90m14:29:42:262[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:42:262[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:42:262[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:42:266[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:42:266[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:42:266[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:42:266[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:42:266[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:42:266[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:42:266[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:266[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:266[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:42:266[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:42:266[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:42:266[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:42:266[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:42:266[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:266[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:42:266[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:266[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:42:266[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:42:266[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:42:266[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:42:266[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:42:266[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:266[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:42:266[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:266[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:42:266[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:267[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:42:267[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:42:267[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:42:267[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:42:267[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:42:267[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:267[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:267[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/services/__tests__/zones.service.test.ts (18 tests) 340ms
[90m14:29:42:538[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:42:538[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:42:538[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:42:538[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:42:541[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:42:541[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:42:541[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:42:541[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:42:542[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:42:555[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:42:555[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:42:555[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:42:555[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:42:555[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:42:555[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:42:565[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:42:565[0m [34m[xhr][0m set global instance! xhr
[90m14:29:42:565[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:42:565[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:42:565[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:42:565[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:42:565[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:42:565[0m [34m[fetch][0m set global instance! fetch
[90m14:29:42:565[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:42:565[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:42:565[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:42:565[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:42:565[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:42:565[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:42:565[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:42:565[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:42:565[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:42:565[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:42:565[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:42:566[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:42:566[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:42:566[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:42:566[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:42:566[0m [34m[websocket][0m set global instance! websocket
[90m14:29:42:680[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:42:680[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:42:680[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:42:680[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:42:680[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:42:680[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:42:680[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:42:680[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:42:680[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:42:680[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:680[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:680[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:42:680[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:42:680[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:42:680[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:42:680[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:42:680[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:680[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:42:680[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:680[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:42:680[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:42:680[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:42:680[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:42:680[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:42:680[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:680[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:42:680[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:680[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:42:680[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:680[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:42:680[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:42:680[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:42:680[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:42:680[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:42:680[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:42:680[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:42:680[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/db-ping/__tests__/route.test.ts (4 tests) 142ms
[90m14:29:43:209[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:43:209[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:43:209[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:43:209[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:43:209[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:43:209[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:43:209[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:43:209[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:43:210[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:43:210[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:43:210[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:43:210[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:43:210[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:43:210[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:43:210[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:43:210[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:43:210[0m [34m[xhr][0m set global instance! xhr
[90m14:29:43:210[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:43:210[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:43:210[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:43:210[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:43:210[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:43:210[0m [34m[fetch][0m set global instance! fetch
[90m14:29:43:210[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:43:210[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:43:210[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:43:210[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:43:210[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:43:210[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:43:210[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:43:210[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:43:210[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:43:210[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:43:210[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:43:210[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:43:210[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:43:210[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:43:210[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:43:210[0m [34m[websocket][0m set global instance! websocket
[90m14:29:43:377[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:43:483[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:43:483[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:43:483[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:43:483[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:43:483[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:43:483[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:43:483[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:43:483[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:43:483[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:43:483[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:43:483[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:43:483[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:43:483[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:43:483[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:43:483[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:43:483[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:43:483[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:43:483[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:43:483[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:43:483[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:43:483[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:43:483[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:43:483[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:43:483[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:43:483[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:43:483[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:43:483[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:43:483[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:43:483[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:43:483[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:43:483[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:43:483[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:43:483[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:43:483[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:43:483[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:43:483[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:43:483[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/services/__tests__/interactions.service.test.ts (15 tests) 275ms
[90m14:29:43:653[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:43:656[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:43:656[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:43:672[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:43:867[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:44:23[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:44:24[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:44:24[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:44:24[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:44:24[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:44:25[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:44:25[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:44:25[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:44:25[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:44:25[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:44:25[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:44:25[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:44:25[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:44:25[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:44:25[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:44:25[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:44:25[0m [34m[xhr][0m set global instance! xhr
[90m14:29:44:25[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:44:25[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:44:25[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:44:25[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:44:25[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:44:25[0m [34m[fetch][0m set global instance! fetch
[90m14:29:44:25[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:44:25[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:44:25[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:44:25[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:44:25[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:44:25[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:44:25[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:44:25[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:44:25[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:44:25[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:44:25[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:44:25[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:44:25[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:44:25[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:44:25[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:44:25[0m [34m[websocket][0m set global instance! websocket
[90m14:29:44:95[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:44:95[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:44:95[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:44:95[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:44:95[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:44:95[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:44:95[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:44:95[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:44:95[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:44:95[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:44:95[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:44:95[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:44:95[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:44:95[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:44:95[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:44:95[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:44:95[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:44:95[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:44:95[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:44:95[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:44:95[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:44:95[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:44:95[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:44:95[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:44:95[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:44:95[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:44:95[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:44:96[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:44:96[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:44:96[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:44:96[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:44:96[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:44:96[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:44:96[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:44:96[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:44:96[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:44:96[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/omni-momentum/tasks/__tests__/route.test.ts (6 tests) 73ms
[90m14:29:44:204[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:44:298[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:44:298[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:44:298[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:44:298[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:44:670[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:44:671[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:44:671[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:44:671[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:44:912[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:45:12[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:45:145[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:45:215[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:45:215[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:45:215[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:45:215[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:45:299[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:45:299[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:45:299[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:45:300[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:45:308[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:45:309[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:45:309[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:309[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:45:309[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:45:310[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:45:310[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:45:310[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:310[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:45:310[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:310[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:45:310[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:45:310[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:45:310[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:310[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:45:310[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:45:310[0m [34m[xhr][0m set global instance! xhr
[90m14:29:45:310[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:310[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:45:310[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:45:310[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:45:310[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:311[0m [34m[fetch][0m set global instance! fetch
[90m14:29:45:311[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:311[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:45:311[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:311[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:311[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:311[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:311[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:311[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:311[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:311[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:311[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:311[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:45:311[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:45:311[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:45:311[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:311[0m [34m[websocket][0m set global instance! websocket
[90m14:29:45:323[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:45:323[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:45:323[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:45:323[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:45:323[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:45:323[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:45:323[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:45:323[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:45:323[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:45:323[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:323[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:323[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:45:323[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:45:323[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:45:323[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:45:323[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:45:323[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:323[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:45:323[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:323[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:45:323[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:45:323[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:45:323[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:45:323[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:45:323[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:323[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:45:323[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:323[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:45:323[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:323[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:45:323[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:45:323[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:45:323[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:45:323[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:45:323[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:323[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:323[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/tags/__tests__/route.test.ts (3 tests) 16ms
[90m14:29:45:326[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:45:326[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:45:327[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:45:327[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:45:337[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:45:352[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:45:396[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:45:397[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:45:397[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:45:397[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:45:434[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:45:434[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:45:434[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:45:434[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:45:455[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:45:455[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:45:455[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:456[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:45:456[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:45:456[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:45:456[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:45:456[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:457[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:45:457[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:457[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:45:457[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:45:457[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:45:457[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:457[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:45:457[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:45:457[0m [34m[xhr][0m set global instance! xhr
[90m14:29:45:457[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:457[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:45:457[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:45:457[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:45:457[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:457[0m [34m[fetch][0m set global instance! fetch
[90m14:29:45:457[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:457[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:45:457[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:458[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:458[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:458[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:458[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:458[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:458[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:458[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:458[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:458[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:45:458[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:45:458[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:45:458[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:458[0m [34m[websocket][0m set global instance! websocket
[90m14:29:45:472[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:45:472[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:45:473[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:473[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:45:473[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:45:473[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:45:473[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:45:473[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:473[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:45:473[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:473[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:45:473[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:45:473[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:45:473[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:473[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:45:473[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:45:474[0m [34m[xhr][0m set global instance! xhr
[90m14:29:45:474[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:474[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:45:474[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:45:474[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:45:474[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:474[0m [34m[fetch][0m set global instance! fetch
[90m14:29:45:474[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:474[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:45:474[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:474[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:474[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:474[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:474[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:474[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:474[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:474[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:474[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:474[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:45:474[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:45:474[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:45:474[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:474[0m [34m[websocket][0m set global instance! websocket
[90m14:29:45:460[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:45:517[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:45:518[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:45:518[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:45:518[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:45:518[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:45:518[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:45:518[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:45:518[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:45:518[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:45:518[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:518[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:518[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:45:518[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:45:518[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:45:518[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:45:518[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:45:518[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:518[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:45:518[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:518[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:45:518[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:45:518[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:45:518[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:45:518[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:45:518[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:518[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:45:518[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:518[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:45:518[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:518[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:45:518[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:45:518[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:45:518[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:45:518[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:45:518[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:519[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:519[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/__tests__/error-sanitizer.test.ts (23 tests) 65ms
[90m14:29:45:530[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:45:530[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:45:530[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:45:530[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:45:530[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:45:530[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:45:530[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:45:530[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:45:530[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:45:530[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:530[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:530[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:45:530[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:45:530[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:45:530[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:45:531[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:45:531[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:531[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:45:531[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:531[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:45:531[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:45:531[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:45:531[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:45:531[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:45:531[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:531[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:45:531[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:531[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:45:531[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:531[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:45:531[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:45:531[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:45:531[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:45:531[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:45:531[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:531[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:531[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/business-schemas/__tests__/contact-identities.test.ts (22 tests) 60ms
[90m14:29:45:539[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:45:539[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:45:539[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:45:539[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:45:622[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:45:622[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:45:622[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:622[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:45:622[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:45:622[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:45:622[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:45:622[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:622[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:45:622[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:622[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:45:622[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:45:622[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:45:622[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:622[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:45:622[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:45:622[0m [34m[xhr][0m set global instance! xhr
[90m14:29:45:622[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:622[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:45:622[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:45:622[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:45:622[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:622[0m [34m[fetch][0m set global instance! fetch
[90m14:29:45:622[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:622[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:45:622[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:622[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:622[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:622[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:623[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:623[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:623[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:623[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:623[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:623[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:45:623[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:45:623[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:45:623[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:623[0m [34m[websocket][0m set global instance! websocket
[90m14:29:45:628[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:45:628[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:45:628[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:45:628[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:45:628[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:45:628[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:45:628[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:45:628[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:45:628[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:45:628[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:628[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:628[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:45:628[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:45:628[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:45:628[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:45:628[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:45:628[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:628[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:45:628[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:628[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:45:628[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:45:628[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:45:628[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:45:628[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:45:628[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:628[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:45:628[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:628[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:45:628[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:628[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:45:628[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:45:628[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:45:628[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:45:628[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:45:628[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:628[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:628[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/business-schemas/__tests__/health.test.ts (12 tests) 7ms
[90m14:29:45:704[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:45:704[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:45:704[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:704[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:45:704[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:45:704[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:45:704[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:45:704[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:704[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:45:705[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:705[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:45:705[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:45:705[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:45:705[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:705[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:45:705[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:45:705[0m [34m[xhr][0m set global instance! xhr
[90m14:29:45:705[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:705[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:45:705[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:45:705[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:45:705[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:705[0m [34m[fetch][0m set global instance! fetch
[90m14:29:45:705[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:705[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:45:705[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:705[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:705[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:705[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:705[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:705[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:705[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:705[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:705[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:705[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:45:705[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:45:705[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:45:705[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:705[0m [34m[websocket][0m set global instance! websocket
[90m14:29:45:710[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:45:710[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:45:710[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:45:710[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:45:710[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:45:710[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:45:710[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:45:710[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:45:710[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:45:710[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:711[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:711[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:45:711[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:45:711[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:45:711[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:45:711[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:45:711[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:711[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:45:711[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:711[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:45:711[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:45:711[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:45:711[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:45:711[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:45:711[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:711[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:45:711[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:711[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:45:711[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:711[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:45:711[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:45:711[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:45:711[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:45:711[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:45:711[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:711[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:711[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/__tests__/auth-user.repo.test.ts (10 tests) 12ms
[90m14:29:45:827[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:45:827[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:45:827[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:827[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:45:828[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:45:828[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:45:828[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:45:828[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:828[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:45:828[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:828[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:45:828[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:45:828[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:45:828[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:828[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:45:828[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:45:828[0m [34m[xhr][0m set global instance! xhr
[90m14:29:45:828[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:828[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:45:828[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:45:828[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:45:828[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:828[0m [34m[fetch][0m set global instance! fetch
[90m14:29:45:828[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:45:828[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:45:828[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:828[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:828[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:45:828[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:828[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:828[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:45:828[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:828[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:828[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:45:828[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:45:828[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:45:828[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:45:828[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:45:828[0m [34m[websocket][0m set global instance! websocket
[90m14:29:45:829[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:45:829[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:45:829[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:45:829[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:45:829[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:45:829[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:45:829[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:45:829[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:45:829[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:45:829[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:829[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:829[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:45:829[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:45:829[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:45:829[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:45:829[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:45:829[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:829[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:45:829[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:829[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:45:829[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:45:829[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:45:829[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:45:829[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:45:829[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:829[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:45:829[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:829[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:45:829[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:829[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:45:829[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:45:829[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:45:829[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:45:829[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:45:829[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:45:829[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:45:829[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.transcription.test.tsx (1 test | 1 failed) 238ms
   × RapidNoteModal transcription progress (1.5.11) > shows a progress indicator while transcribing 234ms
     → No QueryClient set, use QueryClientProvider to set one
[90m14:29:46:592[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:46:777[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:46:807[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:46:808[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:46:808[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:46:808[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:46:808[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:46:808[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:46:808[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:46:808[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:46:808[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:46:808[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:46:808[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:46:808[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:46:808[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:46:808[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:46:808[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:46:808[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:46:808[0m [34m[xhr][0m set global instance! xhr
[90m14:29:46:808[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:46:808[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:46:808[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:46:808[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:46:808[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:46:808[0m [34m[fetch][0m set global instance! fetch
[90m14:29:46:808[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:46:808[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:46:808[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:46:809[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:46:809[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:46:809[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:46:823[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:46:823[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:46:844[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:46:851[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:46:855[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:46:855[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:46:856[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:46:856[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:46:856[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:46:856[0m [34m[websocket][0m set global instance! websocket
[90m14:29:46:961[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:46:961[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:46:961[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:46:961[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:46:961[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:46:961[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:46:961[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:46:961[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:46:961[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:46:961[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:46:961[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:46:961[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:46:961[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:46:961[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:46:961[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:46:961[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:46:961[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:46:961[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:46:961[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:46:961[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:46:961[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:46:961[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:46:961[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:46:961[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:46:961[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:46:961[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:46:961[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:46:961[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:46:961[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:46:961[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:46:961[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:46:961[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:46:961[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:46:961[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:46:961[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:46:961[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:46:961[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/server/services/__tests__/projects.service.test.ts (6 tests | 2 failed) 155ms
   × ProjectsService > createProjectService normalizes details and sets defaults 13ms
     → expected "spy" to be called with arguments: [ 'user-1', …(1) ][90m

Received: 

[1m  1st spy call:

[22m[33m@@ -3,8 +3,8 @@[90m
[2m    {[22m
[2m      "details": {},[22m
[2m      "dueDate": null,[22m
[2m      "name": "P",[22m
[2m      "status": "active",[22m
[32m-     "zoneId": null,[90m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   × ProjectsService > createProjectService respects provided fields 2ms
     → expected "spy" to be called with arguments: [ 'user-1', ObjectContaining{…} ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "user-1",[22m
[32m-   ObjectContaining {[90m
[31m+   {[90m
[2m      "details": {[22m
[2m        "a": 1,[22m
[2m      },[22m
[2m      "dueDate": "2024-02-01T00:00:00.000Z",[22m
[31m+     "name": "P",[90m
[2m      "status": "completed",[22m
[32m-     "zoneId": 5,[90m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   ✓ ProjectsService > getProjectService delegates 0ms
   ✓ ProjectsService > listProjectsService delegates with filters 0ms
   ✓ ProjectsService > updateProjectService sanitizes details and filters undefined 27ms
   ✓ ProjectsService > deleteProjectService delegates 63ms
[90m14:29:46:983[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:46:983[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:46:983[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:46:983[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:47:123[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:47:124[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:47:124[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:47:124[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:47:722[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:47:948[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:47:947[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:48:11[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:48:65[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:48:70[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:48:70[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:48:70[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:48:197[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:48:197[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:48:197[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:48:197[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:48:289[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:48:290[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:48:290[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:290[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:48:290[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:48:290[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:48:290[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:48:290[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:290[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:48:290[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:290[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:48:290[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:48:290[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:48:290[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:290[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:48:290[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:48:290[0m [34m[xhr][0m set global instance! xhr
[90m14:29:48:290[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:290[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:48:290[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:48:290[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:48:290[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:290[0m [34m[fetch][0m set global instance! fetch
[90m14:29:48:290[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:290[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:48:290[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:290[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:290[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:290[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:290[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:290[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:290[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:290[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:290[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:291[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:48:292[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:48:292[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:48:292[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:326[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:48:326[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:48:326[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:48:326[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:48:339[0m [34m[websocket][0m set global instance! websocket
stdout | src/app/api/health/__tests__/route.test.ts > /api/health API Route > GET /api/health > should handle service errors gracefully
{"level":"error","message":"Public GET handler error","timestamp":"2025-10-24T12:29:48.381Z","context":{"operation":"public_get_handler","endpoint":"unknown"},"error":{"name":"Error","message":"Health check failed","stack":"Error: Health check failed\n    at /Users/peterjamesblizzard/projects/app_omnicrm/src/app/api/health/__tests__/route.test.ts:37:9\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/peterjamesblizzard/projects/app_omnicrm/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"}}

[90m14:29:48:387[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:48:387[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:48:387[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:48:387[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:48:387[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:48:387[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:48:387[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:48:387[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:48:387[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:48:387[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:387[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:387[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:48:387[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:48:387[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:48:387[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:48:387[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:48:387[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:387[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:48:387[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:387[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:48:387[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:48:387[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:48:387[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:48:387[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:48:387[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:387[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:48:387[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:387[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:48:387[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:387[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:48:387[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:48:387[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:48:387[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:48:387[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:48:387[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:387[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:387[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/app/api/health/__tests__/route.test.ts (3 tests) 132ms
[90m14:29:48:461[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:48:461[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:48:461[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:461[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:48:462[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:48:462[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:48:462[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:48:462[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:462[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:48:462[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:462[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:48:462[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:48:462[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:48:462[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:462[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:48:462[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:48:462[0m [34m[xhr][0m set global instance! xhr
[90m14:29:48:462[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:462[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:48:462[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:48:462[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:48:462[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:462[0m [34m[fetch][0m set global instance! fetch
[90m14:29:48:462[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:462[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:48:462[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:462[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:462[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:462[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:462[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:462[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:462[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:462[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:462[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:462[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:48:462[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:48:463[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:48:463[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:463[0m [34m[websocket][0m set global instance! websocket
[90m14:29:48:466[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:48:466[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:48:466[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:48:466[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:48:466[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:48:466[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:48:466[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:48:466[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:48:466[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:48:466[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:466[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:466[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:48:466[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:48:466[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:48:466[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:48:466[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:48:466[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:466[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:48:466[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:466[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:48:466[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:48:466[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:48:466[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:48:466[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:48:466[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:466[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:48:466[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:466[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:48:466[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:466[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:48:466[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:48:466[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:48:466[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:48:466[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:48:466[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:467[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:467[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/lib/__tests__/utils.test.ts (5 tests) 6ms
[90m14:29:48:494[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:48:559[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:48:559[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:48:560[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:48:560[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:48:705[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:48:705[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:48:705[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:48:706[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:48:796[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:48:796[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:48:796[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:796[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:48:796[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:48:796[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:48:796[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:48:796[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:797[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:48:797[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:797[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:48:797[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:48:797[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:48:797[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:797[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:48:797[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:48:797[0m [34m[xhr][0m set global instance! xhr
[90m14:29:48:797[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:797[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:48:797[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:48:797[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:48:797[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:797[0m [34m[fetch][0m set global instance! fetch
[90m14:29:48:797[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:797[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:48:797[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:797[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:797[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:797[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:797[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:797[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:797[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:797[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:797[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:797[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:48:797[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:48:797[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:48:797[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:797[0m [34m[websocket][0m set global instance! websocket
[90m14:29:48:802[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:48:802[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:48:802[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:48:802[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:48:802[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:48:802[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:48:802[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:48:802[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:48:802[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:48:802[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:802[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:802[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:48:802[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:48:802[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:48:802[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:48:802[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:48:802[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:802[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:48:802[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:802[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:48:802[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:48:802[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:48:802[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:48:802[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:48:802[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:802[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:48:802[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:802[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:48:802[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:802[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:48:802[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:48:802[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:48:802[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:48:802[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:48:802[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:48:802[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:48:802[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/db/business-schemas/__tests__/task-filters.test.ts (18 tests) 6ms
[90m14:29:48:925[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:48:926[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:48:930[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:934[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:48:938[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:48:938[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:48:938[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:48:938[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:938[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:48:938[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:938[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:48:938[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:48:938[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:48:938[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:938[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:48:938[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:48:938[0m [34m[xhr][0m set global instance! xhr
[90m14:29:48:938[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:938[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:48:938[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:48:938[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:48:938[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:938[0m [34m[fetch][0m set global instance! fetch
[90m14:29:48:938[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:48:938[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:48:938[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:938[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:938[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:48:938[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:938[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:938[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:48:938[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:938[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:938[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:48:938[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:48:938[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:48:938[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:48:938[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:48:939[0m [34m[websocket][0m set global instance! websocket
[90m14:29:49:0[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:49:0[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:49:0[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:49:0[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:49:0[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:49:0[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:49:0[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:49:0[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:49:0[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:49:0[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:0[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:0[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:49:0[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:49:0[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:49:0[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:49:0[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:49:0[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:1[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:49:1[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:1[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:49:1[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:49:1[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:49:1[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:49:1[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:49:1[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:1[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:49:1[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:1[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:49:1[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:1[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:49:1[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:49:1[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:49:1[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:49:1[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:49:1[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:1[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:1[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/__tests__/integration/queue-manager.test.ts (7 tests) 91ms
[90m14:29:49:241[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:49:241[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:49:241[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:241[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:49:242[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:49:243[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:49:243[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:49:243[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:244[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:49:244[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:245[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:49:246[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:49:246[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:49:246[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:246[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:49:246[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:49:246[0m [34m[xhr][0m set global instance! xhr
[90m14:29:49:246[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:246[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:49:246[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:49:246[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:49:246[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:246[0m [34m[fetch][0m set global instance! fetch
[90m14:29:49:246[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:246[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:49:246[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:247[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:247[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:247[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:247[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:247[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:247[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:247[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:247[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:248[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:49:248[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:49:248[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:49:248[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:248[0m [34m[websocket][0m set global instance! websocket
[90m14:29:49:251[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:49:251[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:49:251[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:49:251[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:49:251[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:49:251[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:49:251[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:49:251[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:49:251[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:49:251[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:251[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:251[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:49:251[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:49:251[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:49:251[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:49:251[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:49:251[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:251[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:49:251[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:251[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:49:251[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:49:251[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:49:251[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:49:251[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:49:251[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:251[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:49:251[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:251[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:49:251[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:251[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:49:251[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:49:251[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:49:251[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:49:251[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:49:251[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:251[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:251[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/ai/_tests_/guardrails.test.ts (6 tests) 14ms
[90m14:29:49:246[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:49:263[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:49:263[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:49:263[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:263[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:49:264[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:49:264[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:49:264[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:49:264[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:264[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:49:264[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:264[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:49:264[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:49:264[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:49:264[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:264[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:49:264[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:49:264[0m [34m[xhr][0m set global instance! xhr
[90m14:29:49:264[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:264[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:49:264[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:49:264[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:49:264[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:264[0m [34m[fetch][0m set global instance! fetch
[90m14:29:49:264[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:264[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:49:264[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:264[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:264[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:264[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:264[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:264[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:264[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:264[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:264[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:264[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:49:264[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:49:264[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:49:264[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:265[0m [34m[websocket][0m set global instance! websocket
[90m14:29:49:273[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:49:273[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:49:273[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:49:273[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:49:273[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:49:273[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:49:273[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:49:273[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:49:273[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:49:273[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:273[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:273[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:49:273[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:49:273[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:49:273[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:49:273[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:49:273[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:273[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:49:273[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:273[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:49:273[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:49:273[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:49:273[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:49:273[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:49:273[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:273[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:49:273[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:273[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:49:273[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:273[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:49:273[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:49:273[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:49:273[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:49:273[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:49:273[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:273[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:273[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/__tests__/health.repo.test.ts (6 tests) 11ms
[90m14:29:49:286[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:49:286[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:49:286[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:286[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:49:286[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:49:286[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:49:286[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:49:286[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:286[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:49:286[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:286[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:49:286[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:49:287[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:49:287[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:287[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:49:287[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:49:287[0m [34m[xhr][0m set global instance! xhr
[90m14:29:49:287[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:287[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:49:287[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:49:287[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:49:287[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:287[0m [34m[fetch][0m set global instance! fetch
[90m14:29:49:287[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:287[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:49:287[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:287[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:287[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:287[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:287[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:287[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:287[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:287[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:287[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:287[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:49:287[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:49:287[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:49:287[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:287[0m [34m[websocket][0m set global instance! websocket
[90m14:29:49:300[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:49:300[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:49:300[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:49:300[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:49:300[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:49:300[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:49:300[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:49:300[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:49:300[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:49:300[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:300[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:300[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:49:300[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:49:300[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:49:300[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:49:300[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:49:300[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:300[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:49:300[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:300[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:49:301[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:49:301[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:49:301[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:49:301[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:49:301[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:301[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:49:301[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:301[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:49:301[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:301[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:49:301[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:49:301[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:49:301[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:49:301[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:49:301[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:301[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:301[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ packages/repo/src/__tests__/notes-pagination.repo.test.ts (5 tests) 15ms
[90m14:29:49:490[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:49:490[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:49:490[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:49:491[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:49:671[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:49:671[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:49:672[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:672[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:49:672[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:49:672[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:49:672[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:49:672[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:672[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:49:672[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:672[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:49:672[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:49:672[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:49:672[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:672[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:49:672[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:49:672[0m [34m[xhr][0m set global instance! xhr
[90m14:29:49:672[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:672[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:49:672[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:49:672[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:49:672[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:49:673[0m [34m[fetch][0m set global instance! fetch
[90m14:29:49:673[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:49:673[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:49:673[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:673[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:673[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:49:673[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:673[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:673[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:49:673[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:673[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:673[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:49:673[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:49:673[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:49:673[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:49:673[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
 ✓ src/server/services/__tests__/notes-pagination.service.test.ts (5 tests) 6ms
[90m14:29:49:673[0m [34m[websocket][0m set global instance! websocket
[90m14:29:49:676[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:49:676[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:49:676[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:49:676[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:49:676[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:49:676[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:49:676[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:49:676[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:49:676[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:49:676[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:676[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:676[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:49:676[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:49:676[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:49:676[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:49:676[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:49:676[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:676[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:49:676[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:676[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:49:676[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:49:676[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:49:676[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:49:676[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:49:676[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:676[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:49:676[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:676[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:49:676[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:676[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:49:676[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:49:676[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:49:676[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:49:676[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:49:676[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:49:676[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:49:676[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:50:204[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:50:204[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:50:204[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:204[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:50:204[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:50:204[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:50:204[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:50:204[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:204[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:50:204[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:204[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:50:204[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:50:204[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:50:204[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:204[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:50:204[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:50:204[0m [34m[xhr][0m set global instance! xhr
[90m14:29:50:204[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:204[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:50:204[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:50:204[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:50:204[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:204[0m [34m[fetch][0m set global instance! fetch
[90m14:29:50:204[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:204[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:50:204[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:205[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:205[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:205[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:205[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:205[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:205[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:205[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:205[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:205[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:50:205[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:50:205[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:50:205[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:205[0m [34m[websocket][0m set global instance! websocket
[90m14:29:50:209[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:50:209[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:50:209[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:50:209[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:50:209[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:50:209[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:50:209[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:50:209[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:50:209[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:50:209[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:209[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:209[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:50:209[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:50:209[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:50:209[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:50:209[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:50:209[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:209[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:50:209[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:209[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:50:209[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:50:209[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:50:209[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:50:209[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:50:209[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:209[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:50:209[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:209[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:50:209[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:209[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:50:209[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:50:209[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:50:209[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:50:209[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:50:209[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:209[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:209[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/server/jobs/_tests_/runner_enqueue.test.ts (2 tests) 6ms
[90m14:29:50:230[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:50:389[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:50:640[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:50:640[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:50:640[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:50:640[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:50:649[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:50:651[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:50:651[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:651[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:50:652[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:50:652[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:50:652[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:50:652[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:652[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:50:652[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:652[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:50:652[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:50:652[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:50:652[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:652[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:50:652[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:50:652[0m [34m[xhr][0m set global instance! xhr
[90m14:29:50:652[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:652[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:50:652[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:50:652[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:50:652[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:652[0m [34m[fetch][0m set global instance! fetch
[90m14:29:50:652[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:652[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:50:652[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:652[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:652[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:652[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:652[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:652[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:653[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:653[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:653[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:653[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:50:653[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:50:653[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:50:653[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:653[0m [34m[websocket][0m set global instance! websocket
[90m14:29:50:672[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:50:708[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:50:708[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:50:708[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:50:708[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:50:755[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:50:755[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:50:755[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:755[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:50:755[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:50:755[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:50:755[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:50:755[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:756[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:50:756[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:756[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:50:756[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:50:756[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:50:756[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:756[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:50:756[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:50:756[0m [34m[xhr][0m set global instance! xhr
[90m14:29:50:756[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:756[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:50:756[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:50:756[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:50:756[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:50:756[0m [34m[fetch][0m set global instance! fetch
[90m14:29:50:756[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:50:756[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:50:756[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:756[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:756[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:50:756[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:756[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:756[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:50:756[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:756[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:756[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:50:756[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:50:756[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:50:756[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:50:757[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
 ✓ src/lib/__tests__/encoding.test.ts (5 tests) 5ms
[90m14:29:50:757[0m [34m[websocket][0m set global instance! websocket
[90m14:29:50:758[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:50:758[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:50:759[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:50:759[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:50:759[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:50:759[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:50:759[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:50:759[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:50:759[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:50:759[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:759[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:759[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:50:759[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:50:759[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:50:759[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:50:759[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:50:759[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:759[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:50:759[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:759[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:50:759[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:50:759[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:50:759[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:50:759[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:50:759[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:759[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:50:759[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:759[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:50:759[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:759[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:50:759[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:50:759[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:50:759[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:50:759[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:50:759[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:50:759[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:50:759[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:50:846[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:50:847[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:50:847[0m [34m[fetch][0m emitting the "request" event for 1 listener(s)...
[90m14:29:50:853[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:50:853[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:50:853[0m [34m[fetch][0m emitting the "request" event for 2 listener(s)...
[90m14:29:50:854[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:50:854[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:50:854[0m [34m[fetch][0m emitting the "request" event for 3 listener(s)...
[90m14:29:50:854[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:50:855[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:50:855[0m [34m[fetch][0m emitting the "request" event for 4 listener(s)...
[90m14:29:51:150[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:51:150[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:51:150[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:51:151[0m [34m[setup-server][0m constructing the interceptor...
stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders all required sections in correct layout order
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:51:384[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:51:384[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:384[0m [34m[fetch][0m emitting the "request" event for 5 listener(s)...
[90m14:29:51:385[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:51:385[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:385[0m [34m[fetch][0m emitting the "request" event for 6 listener(s)...
[90m14:29:51:390[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:51:390[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:390[0m [34m[fetch][0m emitting the "request" event for 7 listener(s)...
[90m14:29:51:410[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:51:410[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:51:411[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:411[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:51:411[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:51:411[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:51:411[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:51:411[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:411[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:51:411[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:411[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:51:411[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:51:411[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:51:411[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:411[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:51:411[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:51:411[0m [34m[xhr][0m set global instance! xhr
[90m14:29:51:411[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:411[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:51:411[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:51:411[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:51:411[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:411[0m [34m[fetch][0m set global instance! fetch
[90m14:29:51:412[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:412[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:51:412[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:412[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:412[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:412[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:412[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:412[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:412[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:412[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:412[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:412[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:51:412[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:51:412[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:51:412[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:412[0m [34m[websocket][0m set global instance! websocket
{"level":30,"time":"2025-10-24T12:29:51.414Z","app":"omnicrm","env":"test","route":"/api/health","reqId":"test","message":"health ping"}
 ✓ src/app/__tests__/health.test.tsx (2 tests) 4ms
[90m14:29:51:420[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:51:420[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:420[0m [34m[fetch][0m emitting the "request" event for 8 listener(s)...
stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders top row with three cards (Daily Pulse, Habit Trackers, Magic Inbox)
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:51:494[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:51:512[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:51:512[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:512[0m [34m[fetch][0m emitting the "request" event for 9 listener(s)...
[90m14:29:51:512[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:51:512[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:512[0m [34m[fetch][0m emitting the "request" event for 10 listener(s)...
[90m14:29:51:513[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:51:513[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:513[0m [34m[fetch][0m emitting the "request" event for 11 listener(s)...
[90m14:29:51:497[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:51:516[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:51:516[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:516[0m [34m[fetch][0m emitting the "request" event for 12 listener(s)...
stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders Today's Focus and Wellness Quote in second row with 3/4 and 1/4 split
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

[90m14:29:51:536[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:51:536[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:51:536[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:51:536[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:51:540[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:51:540[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:51:540[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:51:540[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:51:553[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:51:553[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:553[0m [34m[fetch][0m emitting the "request" event for 13 listener(s)...
[90m14:29:51:554[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:51:554[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:554[0m [34m[fetch][0m emitting the "request" event for 14 listener(s)...
[90m14:29:51:555[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:51:555[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:555[0m [34m[fetch][0m emitting the "request" event for 15 listener(s)...
[90m14:29:51:555[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:51:555[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:555[0m [34m[fetch][0m emitting the "request" event for 16 listener(s)...
[90m14:29:51:549[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:51:583[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:583[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:598[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:51:598[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:598[0m [34m[fetch][0m emitting the "request" event for 16 listener(s)...
[90m14:29:51:598[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:51:598[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:598[0m [34m[fetch][0m emitting the "request" event for 17 listener(s)...
[90m14:29:51:599[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:51:599[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:51:599[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:599[0m [34m[fetch][0m emitting the "request" event for 18 listener(s)...
[90m14:29:51:599[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:51:599[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:51:599[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:51:599[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:51:599[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:599[0m [34m[fetch][0m emitting the "request" event for 19 listener(s)...
[90m14:29:51:606[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:630[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:630[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:633[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:634[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:634[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:638[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:638[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:643[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:51:643[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:51:643[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:643[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:51:643[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:51:643[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:51:643[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:51:643[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:643[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:51:643[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:643[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:51:643[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:51:643[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:51:643[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:643[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:51:643[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:51:643[0m [34m[xhr][0m set global instance! xhr
[90m14:29:51:643[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:643[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:51:643[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:51:643[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:51:643[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:643[0m [34m[fetch][0m set global instance! fetch
[90m14:29:51:643[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:643[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:51:644[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:644[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:644[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:644[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:644[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:644[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:644[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:644[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:644[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:644[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:51:644[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:51:644[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:51:644[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:644[0m [34m[websocket][0m set global instance! websocket
[90m14:29:51:644[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:51:644[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:644[0m [34m[fetch][0m emitting the "request" event for 16 listener(s)...
[90m14:29:51:645[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:51:645[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:645[0m [34m[fetch][0m emitting the "request" event for 17 listener(s)...
[90m14:29:51:645[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:51:645[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:645[0m [34m[fetch][0m emitting the "request" event for 18 listener(s)...
[90m14:29:51:645[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:51:645[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:645[0m [34m[fetch][0m emitting the "request" event for 19 listener(s)...
[90m14:29:51:648[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:51:648[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:51:648[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:51:648[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:51:648[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:51:648[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:51:648[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:51:648[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:51:648[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:51:648[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:648[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:648[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:51:648[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:51:648[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:51:648[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:51:648[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:51:648[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:648[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:51:648[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:648[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:51:648[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:51:648[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:51:648[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:51:648[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:51:648[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:648[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:51:648[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:648[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:51:648[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:648[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:51:648[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:51:648[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:51:648[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:51:648[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:51:648[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:648[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:648[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:51:649[0m [34m[fetch][0m request has been handled, returning mock promise...
 ❯ packages/repo/src/schema-canaries.test.ts (4 tests | 2 failed | 1 skipped) 6ms
   × Schema Drift Detection - OmniClient/Contact > Database Schema > contacts table must have all critical business fields 3ms
     → expected [ Array(20) ] to include 'tags'
   ✓ Schema Drift Detection - OmniClient/Contact > TypeScript Types > Contact type must have nullable confidenceScore 0ms
   ↓ Schema Drift Detection - OmniClient/Contact > Adapter Integration > should preserve critical fields in toContact adapter
   × Schema Drift Detection - OmniClient/Contact > Adapter Integration > should preserve critical fields in API response builder 1ms
     → expected { id: 'test-id', …(18) } to have property "tags"
[90m14:29:51:652[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:661[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:662[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:663[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:663[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:665[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:665[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:665[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:668[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:668[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:668[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:672[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/projects
[90m14:29:51:672[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:672[0m [34m[fetch][0m emitting the "request" event for 16 listener(s)...
[90m14:29:51:672[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks
[90m14:29:51:672[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:672[0m [34m[fetch][0m emitting the "request" event for 17 listener(s)...
[90m14:29:51:672[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/tasks/pending-approval
[90m14:29:51:672[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:672[0m [34m[fetch][0m emitting the "request" event for 18 listener(s)...
[90m14:29:51:672[0m [34m[fetch][0m [GET] http://localhost:3000/api/omni-momentum/stats
[90m14:29:51:672[0m [34m[fetch][0m awaiting for the mocked response...
[90m14:29:51:672[0m [34m[fetch][0m emitting the "request" event for 19 listener(s)...
[90m14:29:51:675[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:677[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:671[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:51:685[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:685[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:689[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:689[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:691[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:691[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:691[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:693[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:693[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:693[0m [34m[fetch][0m emitting the "response" event...
[90m14:29:51:695[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:695[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:51:695[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:51:695[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:51:695[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:51:695[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:51:695[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:51:695[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:51:695[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:51:695[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:51:695[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:695[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:695[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:51:695[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:51:695[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:51:695[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:51:695[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:51:695[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:695[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:51:695[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:695[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:51:695[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:51:695[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:51:695[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:51:695[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:51:695[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:695[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:51:695[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:695[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:51:695[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:695[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:51:695[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:51:695[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:51:695[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:51:695[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:51:695[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:695[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:695[0m [34m[websocket:dispose][0m destroyed the listener!
[90m14:29:51:697[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:688[0m [34m[websocket][0m constructing the interceptor...
[90m14:29:51:707[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:51:707[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:51:707[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:51:708[0m [34m[setup-server][0m constructing the interceptor...
[90m14:29:51:708[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:711[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:711[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:713[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:713[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:714[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:715[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:719[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:723[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:51:724[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:51:724[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:724[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:51:724[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:51:724[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:51:724[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:51:724[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:724[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:51:724[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:724[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:51:724[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:51:724[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:51:724[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:724[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:51:724[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:51:724[0m [34m[xhr][0m set global instance! xhr
[90m14:29:51:724[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:724[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:51:724[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:51:724[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:51:724[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:724[0m [34m[fetch][0m set global instance! fetch
[90m14:29:51:724[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:51:724[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:51:725[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:725[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:725[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:51:725[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:725[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:725[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:51:725[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:725[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:725[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:51:725[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:51:725[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:51:725[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:51:725[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:51:725[0m [34m[websocket][0m set global instance! websocket
[90m14:29:51:729[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:51:729[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:51:729[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:51:729[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:51:729[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:51:729[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:51:729[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:51:729[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:51:729[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:51:729[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:729[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:729[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:51:729[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:51:729[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:51:729[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:51:729[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:51:729[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:729[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:51:729[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:729[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:51:729[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:51:729[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:51:729[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:51:729[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:51:729[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:729[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:51:729[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:729[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:51:729[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:729[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:51:729[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:51:729[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:51:729[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:51:729[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:51:729[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:51:729[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:51:729[0m [34m[websocket:dispose][0m destroyed the listener!
 ✓ src/lib/__tests__/pii-detector-client.test.ts (11 tests) 6ms
[90m14:29:51:734[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:735[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:735[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:737[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:737[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:738[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:738[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:745[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:747[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:748[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:748[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:748[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:748[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:753[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:753[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:754[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:763[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:764[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:764[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:764[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:764[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:764[0m [34m[fetch][0m request has been handled, returning mock promise...
[90m14:29:51:764[0m [34m[fetch][0m received mocked response! {"rawResponse":{}}
[90m14:29:51:764[0m [34m[fetch][0m request has been handled, returning mock promise...
stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders Zone Status in third row (full width)
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders Actions List in bottom row (full width)
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders Actions List in bottom row (full width)
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > has proper spacing between rows
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > has proper spacing between rows
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders responsively with single column on mobile
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders responsively with single column on mobile
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m
MSW intercepted: GET http://localhost:3000/api/omni-momentum/projects
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks
MSW intercepted: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval
MSW intercepted: GET http://localhost:3000/api/omni-momentum/stats

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage
MSW response: GET http://localhost:3000/api/omni-momentum/tasks [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage
MSW response: GET http://localhost:3000/api/omni-momentum/stats [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage
MSW response: GET http://localhost:3000/api/omni-momentum/tasks/pending-approval [33m200[39m

stdout | src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx
MSW response: GET http://localhost:3000/api/omni-momentum/projects [33m200[39m

 ❯ src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx (7 tests | 2 failed) 1053ms
   ✓ OmniMomentumPage > renders all required sections in correct layout order  506ms
   ✓ OmniMomentumPage > renders top row with three cards (Daily Pulse, Habit Trackers, Magic Inbox) 283ms
   × OmniMomentumPage > renders Today's Focus and Wellness Quote in second row with 3/4 and 1/4 split 34ms
     → expected 'lg:col-span-1' to contain 'lg:col-span-3'
   × OmniMomentumPage > renders Zone Status in third row (full width) 28ms
     → [2mexpect([22m[31mreceived[39m[2m).toBeInTheDocument()[22m

[31mreceived[39m value must be an HTMLElement or an SVGElement.
Received has type:  Null
Received has value: [31mnull[39m
   ✓ OmniMomentumPage > renders Actions List in bottom row (full width) 44ms
   ✓ OmniMomentumPage > has proper spacing between rows 25ms
   ✓ OmniMomentumPage > renders responsively with single column on mobile 18ms
[90m14:29:51:781[0m [34m[client-request-interceptor][0m constructing the interceptor...
[90m14:29:51:781[0m [34m[xhr][0m constructing the interceptor...
[90m14:29:51:782[0m [34m[fetch][0m constructing the interceptor...
[90m14:29:51:782[0m [34m[setup-server][0m constructing the interceptor...
 ↓ src/__tests__/integration/omni-contacts-repository.test.ts (4 tests | 4 skipped)
 ↓ src/__tests__/integration/job-processing.test.ts (11 tests | 11 skipped)
[90m14:29:52:103[0m [34m[setup-server:apply][0m applying the interceptor...
[90m14:29:52:103[0m [34m[setup-server][0m retrieved global instance: undefined
[90m14:29:52:103[0m [34m[setup-server:apply][0m no running instance found, setting up a new instance...
[90m14:29:52:103[0m [34m[setup-server:setup][0m applying all 3 interceptors...
[90m14:29:52:103[0m [34m[setup-server:setup][0m applying "_ClientRequestInterceptor" interceptor...
[90m14:29:52:103[0m [34m[client-request-interceptor:apply][0m applying the interceptor...
[90m14:29:52:103[0m [34m[client-request-interceptor][0m retrieved global instance: undefined
[90m14:29:52:103[0m [34m[client-request-interceptor:apply][0m no running instance found, setting up a new instance...
[90m14:29:52:104[0m [34m[client-request-interceptor][0m set global instance! client-request-interceptor
[90m14:29:52:104[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:52:104[0m [34m[setup-server:setup][0m applying "_XMLHttpRequestInterceptor" interceptor...
[90m14:29:52:104[0m [34m[xhr:apply][0m applying the interceptor...
[90m14:29:52:104[0m [34m[xhr][0m retrieved global instance: undefined
[90m14:29:52:104[0m [34m[xhr:apply][0m no running instance found, setting up a new instance...
[90m14:29:52:104[0m [34m[xhr:setup][0m patching "XMLHttpRequest" module...
[90m14:29:52:104[0m [34m[xhr:setup][0m native "XMLHttpRequest" module patched! XMLHttpRequest
[90m14:29:52:104[0m [34m[xhr][0m set global instance! xhr
[90m14:29:52:104[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:52:104[0m [34m[setup-server:setup][0m applying "_FetchInterceptor" interceptor...
[90m14:29:52:104[0m [34m[fetch:apply][0m applying the interceptor...
[90m14:29:52:104[0m [34m[fetch][0m retrieved global instance: undefined
[90m14:29:52:104[0m [34m[fetch:apply][0m no running instance found, setting up a new instance...
[90m14:29:52:104[0m [34m[fetch][0m set global instance! fetch
[90m14:29:52:104[0m [34m[setup-server:setup][0m adding interceptor dispose subscription
[90m14:29:52:104[0m [34m[setup-server][0m set global instance! setup-server
[90m14:29:52:104[0m [34m[client-request-interceptor:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:52:104[0m [34m[xhr:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:52:104[0m [34m[fetch:on][0m adding "request" event listener: async ({ request, requestId, controller }) => {
        const response = await handleRequest(
          request,
          requestId,
          this.handlersController.currentHandlers().filter(isHandlerKind("RequestHandler")),
          this.resolvedOptions,
          this.emitter,
          {
            onPassthroughResponse(request2) {
              const acceptHeader = request2.headers.get("accept");
              if (acceptHeader) {
                const nextAcceptHeader = acceptHeader.replace(
                  /(,\s+)?msw\/passthrough/,
                  ""
                );
                if (nextAcceptHeader) {
                  request2.headers.set("accept", nextAcceptHeader);
                } else {
                  request2.headers.delete("accept");
                }
              }
            }
          }
        );
        if (response) {
          controller.respondWith(response);
        }
        return;
      }
[90m14:29:52:104[0m [34m[client-request-interceptor:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:52:104[0m [34m[xhr:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:52:104[0m [34m[fetch:on][0m adding "unhandledException" event listener: ({ error }) => {
      if (error instanceof InternalError) {
        throw error;
      }
    }
[90m14:29:52:104[0m [34m[client-request-interceptor:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:52:104[0m [34m[xhr:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:52:104[0m [34m[fetch:on][0m adding "response" event listener: ({ response, isMockedResponse, request, requestId }) => {
        this.emitter.emit(
          isMockedResponse ? "response:mocked" : "response:bypass",
          {
            response,
            request,
            requestId
          }
        );
      }
[90m14:29:52:104[0m [34m[websocket:on][0m adding "connection" event listener: async (connection) => {
    const handlers = options.getHandlers().filter(isHandlerKind("EventHandler"));
    if (handlers.length > 0) {
      options?.onMockedConnection(connection);
      await Promise.all(
        handlers.map((handler) => {
          return handler.run(connection);
        })
      );
      return;
    }
    const request = new Request(connection.client.url, {
      headers: {
        upgrade: "websocket",
        connection: "upgrade"
      }
    });
    await onUnhandledRequest(
      request,
      options.getUnhandledRequestStrategy()
    ).catch((error) => {
      const errorEvent = new Event("error");
      Object.defineProperty(errorEvent, "cause", {
        enumerable: true,
        configurable: false,
        value: error
      });
      connection.client.socket.dispatchEvent(errorEvent);
    });
    options?.onPassthroughConnection(connection);
    connection.server.connect();
  }
[90m14:29:52:104[0m [34m[websocket:apply][0m applying the interceptor...
[90m14:29:52:104[0m [34m[websocket][0m retrieved global instance: undefined
[90m14:29:52:104[0m [34m[websocket:apply][0m no running instance found, setting up a new instance...
[90m14:29:52:104[0m [34m[websocket][0m set global instance! websocket
[90m14:29:52:218[0m [34m[setup-server:dispose][0m disposing the interceptor...
[90m14:29:52:218[0m [34m[setup-server][0m retrieved global instance: BatchInterceptor
[90m14:29:52:218[0m [34m[setup-server][0m cleared global instance! setup-server
[90m14:29:52:218[0m [34m[setup-server:dispose][0m global symbol deleted: undefined
[90m14:29:52:218[0m [34m[setup-server:dispose][0m disposing of 3 subscriptions...
[90m14:29:52:218[0m [34m[client-request-interceptor:dispose][0m disposing the interceptor...
[90m14:29:52:218[0m [34m[client-request-interceptor][0m retrieved global instance: _ClientRequestInterceptor
[90m14:29:52:218[0m [34m[client-request-interceptor][0m cleared global instance! client-request-interceptor
[90m14:29:52:218[0m [34m[client-request-interceptor:dispose][0m global symbol deleted: undefined
[90m14:29:52:218[0m [34m[client-request-interceptor:dispose][0m disposing of 1 subscriptions...
[90m14:29:52:218[0m [34m[client-request-interceptor:dispose][0m disposed of all subscriptions! 0
[90m14:29:52:218[0m [34m[client-request-interceptor:dispose][0m destroyed the listener!
[90m14:29:52:218[0m [34m[xhr:dispose][0m disposing the interceptor...
[90m14:29:52:218[0m [34m[xhr][0m retrieved global instance: _XMLHttpRequestInterceptor
[90m14:29:52:218[0m [34m[xhr][0m cleared global instance! xhr
[90m14:29:52:218[0m [34m[xhr:dispose][0m global symbol deleted: undefined
[90m14:29:52:218[0m [34m[xhr:dispose][0m disposing of 1 subscriptions...
[90m14:29:52:218[0m [34m[xhr:setup][0m native "XMLHttpRequest" module restored! XMLHttpRequest
[90m14:29:52:218[0m [34m[xhr:dispose][0m disposed of all subscriptions! 0
[90m14:29:52:218[0m [34m[xhr:dispose][0m destroyed the listener!
[90m14:29:52:218[0m [34m[fetch:dispose][0m disposing the interceptor...
[90m14:29:52:218[0m [34m[fetch][0m retrieved global instance: _FetchInterceptor
[90m14:29:52:218[0m [34m[fetch][0m cleared global instance! fetch
[90m14:29:52:218[0m [34m[fetch:dispose][0m global symbol deleted: undefined
[90m14:29:52:218[0m [34m[fetch:dispose][0m disposing of 1 subscriptions...
[90m14:29:52:218[0m [34m[fetch][0m restored native "globalThis.fetch"! fetch
[90m14:29:52:218[0m [34m[fetch:dispose][0m disposed of all subscriptions! 0
[90m14:29:52:218[0m [34m[fetch:dispose][0m destroyed the listener!
[90m14:29:52:218[0m [34m[setup-server:dispose][0m disposed of all subscriptions! 0
[90m14:29:52:218[0m [34m[setup-server:dispose][0m destroyed the listener!
[90m14:29:52:218[0m [34m[websocket:dispose][0m disposing the interceptor...
[90m14:29:52:218[0m [34m[websocket][0m retrieved global instance: _WebSocketInterceptor
[90m14:29:52:218[0m [34m[websocket][0m cleared global instance! websocket
[90m14:29:52:218[0m [34m[websocket:dispose][0m global symbol deleted: undefined
[90m14:29:52:218[0m [34m[websocket:dispose][0m disposing of 1 subscriptions...
[90m14:29:52:218[0m [34m[websocket:dispose][0m disposed of all subscriptions! 0
[90m14:29:52:218[0m [34m[websocket:dispose][0m destroyed the listener!
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.pii.test.tsx (3 tests | 3 failed) 115ms
   × RapidNoteModal PII Detection (1.6) > shows amber warning banner when PII is detected (1.6.5) 93ms
     → No QueryClient set, use QueryClientProvider to set one
   × RapidNoteModal PII Detection (1.6) > hides warning banner when PII is removed (1.6.5) 9ms
     → No QueryClient set, use QueryClientProvider to set one
   × RapidNoteModal PII Detection (1.6) > shows red toast after server-side redaction (1.6.7) 10ms
     → No QueryClient set, use QueryClientProvider to set one
 ↓ src/__tests__/integration/api-routes/contacts-workflow.test.ts (9 tests | 9 skipped)

⎯⎯⎯⎯⎯⎯ Failed Tests 66 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/middleware.test.ts > middleware: API method allow-list > allows POST on /api/sync/approve/* and sets Allow header for disallowed methods
 FAIL  src/middleware.test.ts > middleware: API method allow-list > allows POST on /api/sync/preview/* and rejects others with 405
TypeError: browserTracingIntegration is not a function
 ❯ initSentry src/lib/sentry.ts:103:18
    101|         },
    102|         integrations: [
    103|           Sentry.browserTracingIntegration(),
       |                  ^
    104|           Sentry.replayIntegration({
    105|             maskAllText: false,
 ❯ src/middleware.ts:8:1
 ❯ loadMiddleware src/middleware.test.ts:6:15
 ❯ src/middleware.test.ts:23:24

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/66]⎯

 FAIL  packages/repo/src/schema-canaries.test.ts > Schema Drift Detection - OmniClient/Contact > Database Schema > contacts table must have all critical business fields
AssertionError: expected [ Array(20) ] to include 'tags'
 ❯ packages/repo/src/schema-canaries.test.ts:34:30
     32| 
     33|       requiredFields.forEach((field) => {
     34|         expect(actualFields).toContain(field);
       |                              ^
     35|       });
     36|     });
 ❯ packages/repo/src/schema-canaries.test.ts:33:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/66]⎯

 FAIL  packages/repo/src/schema-canaries.test.ts > Schema Drift Detection - OmniClient/Contact > Adapter Integration > should preserve critical fields in API response builder
AssertionError: expected { id: 'test-id', …(18) } to have property "tags"
 ❯ packages/repo/src/schema-canaries.test.ts:124:24
    122|       // Critical assertions
    123|       expect(response).toHaveProperty("lifecycleStage");
    124|       expect(response).toHaveProperty("tags");
       |                        ^
    125|       expect(response).toHaveProperty("confidenceScore");
    126|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/66]⎯

 FAIL  src/server/services/transcription.service.test.ts > transcription.service (1.5.1) > returns BAD_REQUEST AppError on invalid audio format (1.5.8)
AssertionError: expected undefined to be 400 // Object.is equality

[32m- Expected:[39m 
400

[31m+ Received:[39m 
undefined

 ❯ src/server/services/transcription.service.test.ts:171:24
    169|       expect(err).toBeInstanceOf(AppError);
    170|       const e = err as AppError & { status?: number; code?: string };
    171|       expect(e.status).toBe(400);
       |                        ^
    172|       // Message propagated from service safe text
    173|       expect(String(e.message)).toContain("Invalid audio format");
 ❯ src/server/services/transcription.service.test.ts:166:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/66]⎯

 FAIL  src/server/services/transcription.service.test.ts > transcription.service (1.5.1) > returns SERVICE_UNAVAILABLE AppError on upstream failure (1.5.9)
AssertionError: expected undefined to be 503 // Object.is equality

[32m- Expected:[39m 
503

[31m+ Received:[39m 
undefined

 ❯ src/server/services/transcription.service.test.ts:192:24
    190|       expect(err).toBeInstanceOf(AppError);
    191|       const e = err as AppError & { status?: number; code?: string };
    192|       expect(e.status).toBe(503);
       |                        ^
    193|       expect(String(e.message)).toMatch(/Transcription failed|Upstream…
    194|       return true;
 ❯ src/server/services/transcription.service.test.ts:187:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/66]⎯

 FAIL  src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > fetches connection status successfully
AssertionError: expected false to be true // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ src/hooks/__tests__/use-calendar-data.msw.test.ts:288:61
    286|         expect(result.current.isClientsLoading).toBe(false);
    287|         expect(result.current.isStatusLoading).toBe(false);
    288|         expect(result.current.connectionStatus.isConnected).toBe(true);
       |                                                             ^
    289|       });
    290| 
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/66]⎯

 FAIL  src/hooks/__tests__/use-calendar-data.msw.test.ts > useCalendarData (MSW) > Connection status query > handles disconnected status correctly
AssertionError: expected 'api_error' to be 'token_expired' // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m

Expected: [32m"token_expired"[39m
Received: [31m"api_error"[39m

 ❯ src/hooks/__tests__/use-calendar-data.msw.test.ts:323:56
    321|       await waitFor(() => {
    322|         expect(result.current.isStatusLoading).toBe(false);
    323|         expect(result.current.connectionStatus.reason).toBe("token_exp…
       |                                                        ^
    324|       });
    325| 
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/66]⎯

 FAIL  packages/repo/src/__tests__/productivity.repo.test.ts > ProductivityRepository > createTask > should create a new task
AssertionError: expected "spy" to be called with arguments: [ { name: 'Test Task', …(8) } ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    {[22m
[32m-     "completedAt": null,[90m
[2m      "details": {[22m
[2m        "description": "Task description",[22m
[2m      },[22m
[2m      "dueDate": "2024-12-31",[22m
[2m      "name": "Test Task",[22m
[32m-     "parentTaskId": null,[90m
[2m      "priority": "medium",[22m
[2m      "projectId": "project-456",[22m
[2m      "status": "todo",[22m
[2m      "userId": "user-123",[22m
[31m+     "zoneUuid": undefined,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ packages/repo/src/__tests__/productivity.repo.test.ts:236:29
    234|       expect(result).toEqual(mockCreatedTask);
    235|       expect(mockDb.insert).toHaveBeenCalled();
    236|       expect(mockDb.values).toHaveBeenCalledWith({ ...taskData, userId…
       |                             ^
    237|     });
    238| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/66]⎯

 FAIL  packages/repo/src/__tests__/productivity.repo.test.ts > ProductivityRepository > getTasks > should return tasks with default filters
AssertionError: expected [ { id: 'task-789', …(6) } ] to deeply equal [ { id: 'task-789', …(5) } ]

[32m- Expected[39m
[31m+ Received[39m

[33m@@ -2,9 +2,10 @@[39m
[2m    {[22m
[2m      "createdAt": 2025-10-24T12:29:24.550Z,[22m
[2m      "id": "task-789",[22m
[2m      "name": "Test Task",[22m
[2m      "status": "todo",[22m
[31m+     "tags": [],[39m
[2m      "updatedAt": 2025-10-24T12:29:24.550Z,[22m
[2m      "userId": "user-123",[22m
[2m    },[22m
[2m  ][22m

 ❯ packages/repo/src/__tests__/productivity.repo.test.ts:281:22
    279|       const result = await repo.getTasks(mockUserId);
    280| 
    281|       expect(result).toEqual(mockTasks);
       |                      ^
    282|       expect(mockDb.select).toHaveBeenCalled();
    283|       expect(mockDb.from).toHaveBeenCalled();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/66]⎯

 FAIL  src/app/api/db-ping/route.test.ts > /api/db-ping > returns 200 when db.execute succeeds
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/app/api/db-ping/route.test.ts:13:3
     11|   });
     12| 
     13|   it("returns 200 when db.execute succeeds", async () => {
       |   ^
     14|     const mockSql = vi.fn().mockResolvedValue([{ "?column?": 1 }]);
     15|     mockSql.end = vi.fn().mockResolvedValue(undefined);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/66]⎯

 FAIL  src/server/services/__tests__/google-integration.service.test.ts > GoogleIntegrationService > getStatusService > should set autoRefreshed to true only for services that were refreshed
AssertionError: expected true to be false // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- false[39m
[31m+ true[39m

 ❯ src/server/services/__tests__/google-integration.service.test.ts:320:45
    318| 
    319|       expect(result.gmail.autoRefreshed).toBe(true);
    320|       expect(result.calendar.autoRefreshed).toBe(false);
       |                                             ^
    321|     });
    322| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/66]⎯

 FAIL  src/server/services/__tests__/google-integration.service.test.ts > GoogleIntegrationService > getStatusService > should set autoRefreshed to false when no refresh is needed
AssertionError: expected "getGoogleClients" to not be called at all, but actually been called 1 times[90m

Received: 

[1m  1st getGoogleClients call:

[22m    Array [
      "test-user-123",
    ]
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/server/services/__tests__/google-integration.service.test.ts:339:49
    337|       const result = await getStatusService(mockUserId, { autoRefresh:…
    338| 
    339|       expect(googleClient.getGoogleClients).not.toHaveBeenCalled();
       |                                                 ^
    340|       expect(result.gmail.autoRefreshed).toBe(false);
    341|       expect(result.calendar.autoRefreshed).toBe(false);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/66]⎯

 FAIL  src/server/services/__tests__/projects.service.test.ts > ProjectsService > createProjectService normalizes details and sets defaults
AssertionError: expected "spy" to be called with arguments: [ 'user-1', …(1) ][90m

Received: 

[1m  1st spy call:

[22m[33m@@ -3,8 +3,8 @@[90m
[2m    {[22m
[2m      "details": {},[22m
[2m      "dueDate": null,[22m
[2m      "name": "P",[22m
[2m      "status": "active",[22m
[32m-     "zoneId": null,[90m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/server/services/__tests__/projects.service.test.ts:39:36
     37|     const result = await createProjectService(userId, { name: "P", det…
     38| 
     39|     expect(mockRepo.createProject).toHaveBeenCalledWith(userId, {
       |                                    ^
     40|       name: "P",
     41|       zoneId: null,

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/66]⎯

 FAIL  src/server/services/__tests__/projects.service.test.ts > ProjectsService > createProjectService respects provided fields
AssertionError: expected "spy" to be called with arguments: [ 'user-1', ObjectContaining{…} ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "user-1",[22m
[32m-   ObjectContaining {[90m
[31m+   {[90m
[2m      "details": {[22m
[2m        "a": 1,[22m
[2m      },[22m
[2m      "dueDate": "2024-02-01T00:00:00.000Z",[22m
[31m+     "name": "P",[90m
[2m      "status": "completed",[22m
[32m-     "zoneId": 5,[90m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/server/services/__tests__/projects.service.test.ts:62:36
     60|     });
     61| 
     62|     expect(mockRepo.createProject).toHaveBeenCalledWith(
       |                                    ^
     63|       userId,
     64|       expect.objectContaining({

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/66]⎯

 FAIL  src/server/services/__tests__/tasks.service.test.ts > TasksService > createTaskService > creates a task with normalized details and default fields
AssertionError: expected "spy" to be called with arguments: [ 'user-1', { name: 'Test', …(7) } ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "user-1",[22m
[2m    {[22m
[32m-     "completedAt": null,[90m
[2m      "details": {},[22m
[2m      "dueDate": null,[22m
[2m      "name": "Test",[22m
[32m-     "parentTaskId": null,[90m
[2m      "priority": "medium",[22m
[2m      "projectId": null,[22m
[2m      "status": "todo",[22m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/server/services/__tests__/tasks.service.test.ts:63:35
     61|       const result = await createTaskService(userId, { name: "Test", d…
     62| 
     63|       expect(mockRepo.createTask).toHaveBeenCalledWith(userId, {
       |                                   ^
     64|         name: "Test",
     65|         projectId: null,

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/66]⎯

 FAIL  src/server/services/__tests__/tasks.service.test.ts > TasksService > createTaskService > validates parent task existence
AssertionError: promise resolved "undefined" instead of rejecting

[32m- Expected:[39m 
Error {
  "message": "rejected promise",
}

[31m+ Received:[39m 
undefined

 ❯ src/server/services/__tests__/tasks.service.test.ts:81:7
     79|       await expect(
     80|         createTaskService(userId, { name: "Child", parentTaskId: "miss…
     81|       ).rejects.toThrow(/Parent task not found/);
       |       ^
     82|       expect(mockRepo.createTask).not.toHaveBeenCalled();
     83|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/66]⎯

 FAIL  src/server/services/__tests__/tasks.service.test.ts > TasksService > createTaskService > passes through provided fields and formats dueDate
AssertionError: expected "spy" to be called with arguments: [ 'user-1', ObjectContaining{…} ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "user-1",[22m
[32m-   ObjectContaining {[90m
[31m+   {[90m
[2m      "details": {[22m
[2m        "k": "v",[22m
[2m      },[22m
[2m      "dueDate": "2024-01-02",[22m
[32m-     "parentTaskId": "parent",[90m
[31m+     "name": "Child",[90m
[2m      "priority": "high",[22m
[2m      "projectId": "project-1",[22m
[2m      "status": "in_progress",[22m
[31m+     "zoneUuid": null,[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/server/services/__tests__/tasks.service.test.ts:101:35
     99|       });
    100| 
    101|       expect(mockRepo.createTask).toHaveBeenCalledWith(userId, expect.…
       |                                   ^
    102|         projectId,
    103|         parentTaskId: "parent",

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/66]⎯

 FAIL  src/server/services/__tests__/tasks.service.test.ts > TasksService > approval workflow > getPendingApprovalTasksService filters by status
AssertionError: expected "spy" to be called with arguments: [ 'user-1', …(1) ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/server/services/__tests__/tasks.service.test.ts:184:33
    182|       mockRepo.getTasks.mockResolvedValue([{ id: "p" }] as any);
    183|       const result = await getPendingApprovalTasksService(userId);
    184|       expect(mockRepo.getTasks).toHaveBeenCalledWith(userId, { status:…
       |                                 ^
    185|       expect(result).toEqual({ tasks: [{ id: "p" }], total: 1 });
    186|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders Today's Focus and Wellness Quote in second row with 3/4 and 1/4 split
AssertionError: expected 'lg:col-span-1' to contain 'lg:col-span-3'

Expected: [32m"lg:col-span-[7m3[27m"[39m
Received: [31m"lg:col-span-[7m1[27m"[39m

 ❯ src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx:93:35
     91|     const secondChild = secondRow?.children[1];
     92| 
     93|     expect(firstChild?.className).toContain("lg:col-span-3");
       |                                   ^
     94|     expect(secondChild?.className).toContain("lg:col-span-1");
     95|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx > OmniMomentumPage > renders Zone Status in third row (full width)
Error: [2mexpect([22m[31mreceived[39m[2m).toBeInTheDocument()[22m

[31mreceived[39m value must be an HTMLElement or an SVGElement.
Received has type:  Null
Received has value: [31mnull[39m
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/OmniMomentumPage.test.tsx:105:33
    103|     // Check that Zone Status is in a full-width container
    104|     const zoneStatusContainer = zoneStatus.closest(".w-full");
    105|     expect(zoneStatusContainer).toBeInTheDocument();
       |                                 ^
    106|   });
    107| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Minimal State (New Task) > shows 'No Project' when no project is assigned
TestingLibraryElementError: Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r8»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r9»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "+ Add to project":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«rf»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Add this task to a project"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r9»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«rb»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«rf»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:106:29
    104|       render(<TaskCard task={task} />, { wrapper: createWrapper() });
    105| 
    106|       const select = screen.getByRole("combobox");
       |                             ^
    107|       expect(select).toHaveValue(""); // Empty select value
    108|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows tags when they exist in task details
TestingLibraryElementError: Unable to find an element with the text: Client Care. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r10»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r11»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r13»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r17»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:137:21
    135|       render(<TaskCard task={task} />, { wrapper: createWrapper() });
    136| 
    137|       expect(screen.getByText("Client Care")).toBeInTheDocument();
       |                     ^
    138|       expect(screen.getByText("Outreach")).toBeInTheDocument();
    139|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows '+X more' when more than 3 tags exist
TestingLibraryElementError: Unable to find an element with the text: +2 more. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r18»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r19»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1b»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1f»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:155:21
    153|       render(<TaskCard task={task} />, { wrapper: createWrapper() });
    154| 
    155|       expect(screen.getByText("+2 more")).toBeInTheDocument();
       |                     ^
    156|     });
    157| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Progressive Disclosure > shows subtasks progress bar when subtasks exist
TestingLibraryElementError: Unable to find an element with the text: 1/3 Subtasks complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1g»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r1h»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1j»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r1n»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:170:21
    168|       render(<TaskCard task={task} />, { wrapper: createWrapper() });
    169| 
    170|       expect(screen.getByText("1/3 Subtasks complete")).toBeInTheDocum…
       |                     ^
    171|     });
    172| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > expands subtasks when progress bar is clicked
TestingLibraryElementError: Unable to find an element with the text: 0/2 Subtasks complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r39»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r3a»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3c»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3g»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:243:34
    241|       render(<TaskCard task={task} />, { wrapper: createWrapper() });
    242| 
    243|       const progressBar = screen.getByText("0/2 Subtasks complete");
       |                                  ^
    244|       fireEvent.click(progressBar);
    245| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Subtasks Interaction > collapses subtasks when clicked again
TestingLibraryElementError: Unable to find an element with the text: 0/1 Subtasks complete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3h»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r3i»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3k»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3o»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:260:34
    258|       render(<TaskCard task={task} />, { wrapper: createWrapper() });
    259| 
    260|       const progressBar = screen.getByText("0/1 Subtasks complete");
       |                                  ^
    261| 
    262|       // Expand

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > displays selected project name
TestingLibraryElementError: Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r3p»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r3q»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Nurture & Reconnect":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r40»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Nurture & Reconnect"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3p»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r3q»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r3s»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r40»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Nurture & Reconnect"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mNurture & Reconnect[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:283:29
    281|       render(<TaskCard task={task} projects={[project]} />, { wrapper:…
    282| 
    283|       const select = screen.getByRole("combobox");
       |                             ^
    284|       expect(select).toHaveValue("project-1");
    285|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Project Selection > shows all available projects in dropdown
TestingLibraryElementError: Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r41»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r42»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "+ Add to project":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r48»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Add this task to a project"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r41»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r42»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r44»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r48»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:296:29
    294|       render(<TaskCard task={task} projects={projects} />, { wrapper: …
    295| 
    296|       const select = screen.getByRole("combobox");
       |                             ^
    297|       expect(select).toBeInTheDocument();
    298|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Owner Assignment > shows user avatar when owner is 'user'
Error: [2mexpect([22m[31melement[39m[2m).toHaveAttribute([22m[32m[32m"src"[32m[39m[2m, [22m[32m[32m"https://example.com/avatar.jpg"[32m[39m[2m) // element.getAttribute("src") === "https://example.com/avatar.jpg"[22m

Expected the element to have attribute:
[32m  src="https://example.com/avatar.jpg"[39m
Received:
[31m  src="/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:310:22
    308|       const avatar = screen.getByAltText("User avatar");
    309|       expect(avatar).toBeInTheDocument();
    310|       expect(avatar).toHaveAttribute("src", "https://example.com/avata…
       |                      ^
    311|     });
    312| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > shows expand button for long notes
TestingLibraryElementError: Unable to find an element with the text: Show more. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r80»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r81»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r83»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white/50 rounded-lg p-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-file-text w-4 h-4 text-gray-600 mt-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M10 9H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 13H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 17H8"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"w-full text-sm text-gray-700 bg-transparent border-none focus:outline-none resize-none min-h-[60px]"[39m
                [33mplaceholder[39m=[32m"Add details about this task..."[39m
                [33mrows[39m=[32m"3"[39m
              [36m>[39m
                [0mAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA[0m
              [36m</textarea>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-gray-500 mt-1"[39m
              [36m>[39m
                [0mAuto-saves as you type[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r87»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:485:21
    483|       render(<TaskCard task={task} />, { wrapper: createWrapper() });
    484| 
    485|       expect(screen.getByText("Show more")).toBeInTheDocument();
       |                     ^
    486|     });
    487| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Notes Preview > toggles notes expansion on button click
TestingLibraryElementError: Unable to find an element with the text: Show more. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8g»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r8h»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8j»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-white/50 rounded-lg p-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-start gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-file-text w-4 h-4 text-gray-600 mt-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M10 9H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 13H8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 17H8"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 min-w-0"[39m
            [36m>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"w-full text-sm text-gray-700 bg-transparent border-none focus:outline-none resize-none min-h-[60px]"[39m
                [33mplaceholder[39m=[32m"Add details about this task..."[39m
                [33mrows[39m=[32m"3"[39m
              [36m>[39m
                [0mAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA[0m
              [36m</textarea>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-gray-500 mt-1"[39m
              [36m>[39m
                [0mAuto-saves as you type[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r8n»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:506:37
    504|       const { container } = render(<TaskCard task={task} />, { wrapper…
    505| 
    506|       const showMoreButton = screen.getByText("Show more");
       |                                     ^
    507|       fireEvent.click(showMoreButton);
    508| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/66]⎯

 FAIL  src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx > TaskCard > Accessibility > has proper ARIA labels for interactive elements
TestingLibraryElementError: Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  button:

  Name "":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r9o»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Toggle task completion":
  [36m<button[39m
    [33maria-label[39m=[32m"Toggle task completion"[39m
    [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
  [36m/>[39m

  Name "":
  [36m<button[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"menu"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
    [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mid[39m=[32m"radix-«r9p»"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "+ Add to project":
  [36m<button[39m
    [33maria-controls[39m=[32m"radix-«r9v»"[39m
    [33maria-expanded[39m=[32m"false"[39m
    [33maria-haspopup[39m=[32m"dialog"[39m
    [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
    [33mdata-slot[39m=[32m"popover-trigger"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtitle[39m=[32m"Add this task to a project"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "User avatar":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
    [33mtitle[39m=[32m"Assigned to me"[39m
  [36m/>[39m

  Name "Voice input":
  [36m<button[39m
    [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
    [33mtitle[39m=[32m"Voice input"[39m
  [36m/>[39m

  --------------------------------------------------
  heading:

  Name "Test Task":
  [36m<h3[39m
    [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
  [36m/>[39m

  --------------------------------------------------
  img:

  Name "User avatar":
  [36m<img[39m
    [33malt[39m=[32m"User avatar"[39m
    [33mclass[39m=[32m"object-cover"[39m
    [33mdata-nimg[39m=[32m"fill"[39m
    [33mdecoding[39m=[32m"async"[39m
    [33mloading[39m=[32m"lazy"[39m
    [33msizes[39m=[32m"32px"[39m
    [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
    [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
    [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"w-full max-w-md bg-gradient-to-br from-teal-100 via-emerald-50 to-cyan-100 rounded-2xl shadow-lg overflow-hidden relative"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex justify-between items-start p-4 pb-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r9o»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-orange-500 fill-orange-500 hover:scale-110 transition-transform"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-flag w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Toggle task completion"[39m
            [33mclass[39m=[32m"transition-all text-gray-400 hover:text-green-500"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle w-5 h-5"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"menu"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:text-accent-foreground dark:hover:bg-accent/50 gap-1.5 has-[>svg]:px-2.5 h-8 w-8 p-0 hover:bg-white/50 rounded-full"[39m
            [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mid[39m=[32m"radix-«r9p»"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-ellipsis w-5 h-5 text-gray-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"19"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"5"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"1"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r9r»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"hidden"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtype[39m=[32m"button"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m>[39m
        [36m<h3[39m
          [33mclass[39m=[32m"text-xl font-semibold leading-tight text-gray-900"[39m
        [36m>[39m
          [0mTest Task[0m
        [36m</h3>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-3"[39m
      [36m/>[39m
      [36m<div[39m
        [33mclass[39m=[32m"px-4 pb-4 pt-2 flex items-center justify-between gap-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-w-0"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"radix-«r9v»"[39m
            [33maria-expanded[39m=[32m"false"[39m
            [33maria-haspopup[39m=[32m"dialog"[39m
            [33mclass[39m=[32m"text-sm text-gray-600 font-medium truncate hover:text-gray-900 transition-colors text-left w-full"[39m
            [33mdata-slot[39m=[32m"popover-trigger"[39m
            [33mdata-state[39m=[32m"closed"[39m
            [33mtitle[39m=[32m"Add this task to a project"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0m+ Add to project[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full flex items-center justify-center transition-colors bg-white/60 text-gray-700"[39m
            [33mtitle[39m=[32m"Assigned to me"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"relative block w-full h-full rounded-full overflow-hidden"[39m
            [36m>[39m
              [36m<img[39m
                [33malt[39m=[32m"User avatar"[39m
                [33mclass[39m=[32m"object-cover"[39m
                [33mdata-nimg[39m=[32m"fill"[39m
                [33mdecoding[39m=[32m"async"[39m
                [33mloading[39m=[32m"lazy"[39m
                [33msizes[39m=[32m"32px"[39m
                [33msrc[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75"[39m
                [33msrcset[39m=[32m"/_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=16&q=75 16w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=32&q=75 32w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=48&q=75 48w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=64&q=75 64w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=96&q=75 96w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=128&q=75 128w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=256&q=75 256w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=384&q=75 384w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=640&q=75 640w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=750&q=75 750w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=828&q=75 828w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1080&q=75 1080w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1200&q=75 1200w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=1920&q=75 1920w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=2048&q=75 2048w, /_next/image?url=https%3A%2F%2Fexample.com%2Favatar.jpg&w=3840&q=75 3840w"[39m
                [33mstyle[39m=[32m"position: absolute; height: 100%; width: 100%; left: 0px; top: 0px; right: 0px; bottom: 0px; color: transparent;"[39m
              [36m/>[39m
            [36m</span>[39m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"w-8 h-8 rounded-full bg-white/60 flex items-center justify-center hover:bg-white/80 transition-colors"[39m
            [33mtitle[39m=[32m"Voice input"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic w-4 h-4 text-gray-700"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/omni-momentum/_components/TaskCard.test.tsx:558:21
    556| 
    557|       expect(screen.getByRole("button", { name: /voice input/i })).toB…
    558|       expect(screen.getByRole("combobox")).toBeInTheDocument();
       |                     ^
    559|     });
    560| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/66]⎯

 FAIL  src/server/db/business-schemas/__tests__/notes.test.ts > Notes Business Schemas > CreateNoteBodySchema > should validate minimal note with plain text
ZodError: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
 ❯ src/server/db/business-schemas/__tests__/notes.test.ts:47:43
     45|       };
     46| 
     47|       const result = CreateNoteBodySchema.parse(input);
       |                                           ^
     48| 
     49|       expect(result.contentPlain).toBe("This is a test note");

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/66]⎯

 FAIL  src/server/db/business-schemas/__tests__/notes.test.ts > Notes Business Schemas > CreateNoteBodySchema > should validate TipTap JSON structure in contentRich
ZodError: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
 ❯ src/server/db/business-schemas/__tests__/notes.test.ts:100:43
     98|       };
     99| 
    100|       const result = CreateNoteBodySchema.parse(input);
       |                                           ^
    101|       expect(result.contentRich).toBeDefined();
    102|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/66]⎯

 FAIL  src/server/db/business-schemas/__tests__/notes.test.ts > Notes Business Schemas > CreateNoteBodySchema > should validate UUID format for goalIds
AssertionError: expected [Function] to not throw an error but '[\n  {\n    "expected": "string",\n  …' was thrown

[32m- Expected:[39m 
undefined

[31m+ Received:[39m 
"[
  {
    \"expected\": \"string\",
    \"code\": \"invalid_type\",
    \"path\": [
      \"contactId\"
    ],
    \"message\": \"Invalid input: expected string, received undefined\"
  }
]"

 ❯ src/server/db/business-schemas/__tests__/notes.test.ts:130:64
    128|       };
    129| 
    130|       expect(() => CreateNoteBodySchema.parse(validInput)).not.toThrow…
       |                                                                ^
    131| 
    132|       const invalidInput = {

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/66]⎯

 FAIL  src/server/db/business-schemas/__tests__/notes.test.ts > Notes Business Schemas > CreateNoteBodySchema > should default sourceType to typed
ZodError: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
 ❯ src/server/db/business-schemas/__tests__/notes.test.ts:142:43
    140|     it("should default sourceType to typed", () => {
    141|       const input = { contentPlain: "Test note" };
    142|       const result = CreateNoteBodySchema.parse(input);
       |                                           ^
    143|       expect(result.sourceType).toBe("typed");
    144|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/66]⎯

 FAIL  src/server/db/business-schemas/__tests__/notes.test.ts > Notes Business Schemas > CreateNoteBodySchema > should validate all sourceType options
ZodError: [
  {
    "expected": "string",
    "code": "invalid_type",
    "path": [
      "contactId"
    ],
    "message": "Invalid input: expected string, received undefined"
  }
]
 ❯ src/server/db/business-schemas/__tests__/notes.test.ts:150:45
    148| 
    149|       sources.forEach((source) => {
    150|         const result = CreateNoteBodySchema.parse({
       |                                             ^
    151|           contentPlain: "Test",
    152|           sourceType: source,
 ❯ src/server/db/business-schemas/__tests__/notes.test.ts:149:15

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should call onAddNote when Add Note button is clicked
TestingLibraryElementError: Unable to find an element with the text: Add Note. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex h-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between p-6 border-b"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-message-square h-5 w-5 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold"[39m
            [36m>[39m
              [0mAll Notes[0m
            [36m</h2>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 12h14"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 5v14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mAdd a New Note[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1"[39m
          [33mdata-testid[39m=[32m"scroll-area"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-foreground mb-4"[39m
                [36m>[39m
                  [0m2024[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 2[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-20T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-1"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 1[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-15T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx:296:30
    294|     );
    295| 
    296|     const addButton = screen.getByText("Add Note");
       |                              ^
    297|     fireEvent.click(addButton);
    298| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should call onEditNote when edit button is clicked
AssertionError: expected "spy" to be called with arguments: [ { id: 'note-1', …(8) } ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx:341:30
    339|     if (editButton) {
    340|       fireEvent.click(editButton);
    341|       expect(mockOnEditNote).toHaveBeenCalledWith(mockNotes[0]);
       |                              ^
    342|     } else {
    343|       // If button not found, the test should fail

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should call onDeleteNote when delete button is clicked
AssertionError: expected "spy" to be called with arguments: [ 'note-1' ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[32m-   "note-1",[90m
[31m+   "note-2",[90m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx:387:32
    385|     if (deleteButton) {
    386|       fireEvent.click(deleteButton);
    387|       expect(mockOnDeleteNote).toHaveBeenCalledWith("note-1");
       |                                ^
    388|     } else {
    389|       // If button not found, the test should fail

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should navigate to note detail when note is clicked
AssertionError: expected "spy" to be called with arguments: [ '/contacts/contact-1/notes/note-1' ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx:432:22
    430|     }
    431| 
    432|     expect(mockPush).toHaveBeenCalledWith("/contacts/contact-1/notes/n…
       |                      ^
    433|   });
    434| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx > AllNotesView > should render tags for notes
TestingLibraryElementError: Unable to find an element with the text: tag1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mstyle[39m=[32m""[39m
[36m>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex h-full"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between p-6 border-b"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-message-square h-5 w-5 mr-2"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold"[39m
            [36m>[39m
              [0mAll Notes[0m
            [36m</h2>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<button>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M5 12h14"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M12 5v14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mAdd a New Note[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1"[39m
          [33mdata-testid[39m=[32m"scroll-area"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-foreground mb-4"[39m
                [36m>[39m
                  [0m2024[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 2[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-20T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"group relative py-3 px-0 hover:bg-muted/30 transition-colors cursor-pointer border-b border-border/50 last:border-b-0"[39m
                    [33mid[39m=[32m"note-note-1"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-start justify-between"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex-1 pr-4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-sm text-foreground leading-relaxed prose prose-sm max-w-none"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"whitespace-pre-wrap"[39m
                          [36m>[39m
                            [0mTest note 1[0m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 flex-shrink-0"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                        [36m>[39m
                          [0m2024-01-15T00:00:00.000Z[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"[39m
                        [36m>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-square-pen h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                          [36m<button[39m
                            [33mclass[39m=[32m"h-6 w-6 p-0 text-destructive hover:text-destructive"[39m
                            [33mvariant[39m=[32m"ghost"[39m
                          [36m>[39m
                            [36m<svg[39m
                              [33maria-hidden[39m=[32m"true"[39m
                              [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                              [33mfill[39m=[32m"none"[39m
                              [33mheight[39m=[32m"24"[39m
                              [33mstroke[39m=[32m"currentColor"[39m
                              [33mstroke-linecap[39m=[32m"round"[39m
                              [33mstroke-linejoin[39m=[32m"round"[39m
                              [33mstroke-width[39m=[32m"2"[39m
                              [33mviewBox[39m=[32m"0 0 24 24"[39m
                              [33mwidth[39m=[32m"24"[39m
                              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                            [36m>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M10 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M14 11v6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M3 6h18"[39m
                              [36m/>[39m
                              [36m<path[39m
                                [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                              [36m/>[39m
                            [36m</svg>[39m
                          [36m</button>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/AllNotesView.test.tsx:468:19
    466|     );
    467| 
    468|     expect(screen.getByText("tag1")).toBeInTheDocument();
       |                   ^
    469|     expect(screen.getByText("tag2")).toBeInTheDocument();
    470|     expect(screen.getByText("tag3")).toBeInTheDocument();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/_components/__tests__/PersonalDetailsView.test.tsx > PersonalDetailsView > should render wellness profile information
TestingLibraryElementError: Unable to find an element with the text: vip. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex items-center justify-between"[39m
      [36m>[39m
        [36m<h2[39m
          [33mclass[39m=[32m"text-2xl font-bold"[39m
        [36m>[39m
          [0mPersonal Details[0m
        [36m</h2>[39m
        [36m<button>[39m
          [36m<svg[39m
            [33maria-hidden[39m=[32m"true"[39m
            [33mclass[39m=[32m"lucide lucide-settings h-4 w-4 mr-2"[39m
            [33mfill[39m=[32m"none"[39m
            [33mheight[39m=[32m"24"[39m
            [33mstroke[39m=[32m"currentColor"[39m
            [33mstroke-linecap[39m=[32m"round"[39m
            [33mstroke-linejoin[39m=[32m"round"[39m
            [33mstroke-width[39m=[32m"2"[39m
            [33mviewBox[39m=[32m"0 0 24 24"[39m
            [33mwidth[39m=[32m"24"[39m
            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
          [36m>[39m
            [36m<path[39m
              [33md[39m=[32m"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"[39m
            [36m/>[39m
            [36m<circle[39m
              [33mcx[39m=[32m"12"[39m
              [33mcy[39m=[32m"12"[39m
              [33mr[39m=[32m"3"[39m
            [36m/>[39m
          [36m</svg>[39m
          [0mEdit Details[0m
        [36m</button>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"grid gap-6 md:grid-cols-2"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"card"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"card-header"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"flex items-center"[39m
              [33mdata-testid[39m=[32m"card-title"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-user h-5 w-5 mr-2"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"7"[39m
                  [33mr[39m=[32m"4"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mBasic Information[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
            [33mdata-testid[39m=[32m"card-content"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-user h-4 w-4 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[39m
                  [36m/>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"12"[39m
                    [33mcy[39m=[32m"7"[39m
                    [33mr[39m=[32m"4"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium"[39m
                  [36m>[39m
                    [0mJohn Doe[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
                  [36m>[39m
                    [0mDisplay Name[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center space-x-3"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"lucide lucide-mail h-4 w-4 text-muted-foreground"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"[39m
                  [36m/>[39m
                  [36m<rect[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mrx[39m=[32m"2"[39m
                    [33mwidth[39m=[32m"20"[39m
                    [33mx[39m=[32m"2"[39m
                    [33my[39m=[32m"4"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium"[39m
                  [36m>[39m
                    [0mjohn@example.com[0m
                  [36m</div>[39m
                  [36m<div[3...
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/_components/__tests__/PersonalDetailsView.test.tsx:114:19
    112|     expect(screen.getByText("active")).toBeInTheDocument();
    113|     expect(screen.getByText("Website")).toBeInTheDocument();
    114|     expect(screen.getByText("vip")).toBeInTheDocument();
       |                   ^
    115|     expect(screen.getByText("wellness")).toBeInTheDocument();
    116|     expect(screen.getByText("high")).toBeInTheDocument();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/66]⎯

 FAIL  src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx > ActiveTokensList > should render error state
TestingLibraryElementError: Unable to find an element with the text: Failed to load active links. Please try refreshing the page.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-3"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
        [36m/>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
        [36m/>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-3"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
          [36m/>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-3 border rounded animate-pulse"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-start mb-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-4 bg-gray-200 rounded w-32"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-5 bg-gray-200 rounded w-16"[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-24 mb-1"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"h-3 bg-gray-200 rounded w-20"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ Proxy.waitForWrapper node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx:126:11
    124|     render(<ActiveTokensList />, { wrapper: TestWrapper });
    125| 
    126|     await waitFor(() => {
       |           ^
    127|       expect(
    128|         screen.getByText("Failed to load active links. Please try refr…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/66]⎯

 FAIL  src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx > ActiveTokensList > should render active tokens
TestingLibraryElementError: Unable to find an element with the text: /1 total link.*1 active.*0 used.*0 expired/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"space-y-6"[39m
    [36m>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
        [36m>[39m
          [36m<h3[39m
            [33mclass[39m=[32m"text-sm font-medium text-gray-900 flex items-center gap-2"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-2 h-2 bg-green-500 rounded-full"[39m
            [36m/>[39m
            [0mActive Links ([0m
            [0m1[0m
            [0m)[0m
          [36m</h3>[39m
          [36m<button[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-xs"[39m
            [33mdata-slot[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-refresh-cw h-3 w-3 mr-1"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 3v5h-5"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 16H3v5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mRefresh[0m
          [36m</button>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-3 border rounded-lg transition-colors border-green-200 bg-green-50/50"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-start mb-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90"[39m
                  [33mdata-slot[39m=[32m"badge"[39m
                [36m>[39m
                  [0mActive[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                [36m>[39m
                  [0mSingle use[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"Copy onboarding URL"[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                  [33mdata-slot[39m=[32m"button"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-copy h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<rect[39m
                      [33mheight[39m=[32m"14"[39m
                      [33mrx[39m=[32m"2"[39m
                      [33mry[39m=[32m"2"[39m
                      [33mwidth[39m=[32m"14"[39m
                      [33mx[39m=[32m"8"[39m
                      [33my[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
                [36m<button[39m
                  [33maria-label[39m=[32m"Open onboarding URL in new tab"[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"...
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx:184:19
    182| 
    183|     // Check summary - only active tokens are rendered
    184|     expect(screen.getByText(/1 total link.*1 active.*0 used.*0 expired…
       |                   ^
    185|   });
    186| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/66]⎯

 FAIL  src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx > ActiveTokensList > should copy token URL to clipboard
AssertionError: expected 'http://localhost:3000' to be 'https://test.app.com' // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 bg-green-500 rounded-full"[39m
              [36m/>[39m
              [0mActive Links ([0m
              [0m1[0m
              [0m)[0m
            [36m</h3>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-xs"[39m
              [33mdata-slot[39m=[32m"button"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRefresh[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-3 border rounded-lg transition-colors border-green-200 bg-green-50/50"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start mb-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90"[39m
                    [33mdata-slot[39m=[32m"badge"[39m
                  [36m>[39m
                    [0mActive[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [36m>[39m
                    [0mSingle use[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Copy onboarding URL"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-copy h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mry[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mx[39m=[32m"8"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open onboarding URL in new tab"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-external-link h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 3h6v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 14 21 3"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete token"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-red-500 hover:text-red-700 hover:bg-red-50"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M14 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M3 6h18"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-xs text-muted-foreground mb-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-users h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"9"[39m
                      [33mcy[39m=[32m"7"[39m
                      [33mr[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mUnused[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 6v6l4 2"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"10"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mExpires -26 hours ago from now[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mCreated [0m
                [0m0 hours ago[0m
                [0m ago[0m
              [36m</p>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 p-2 bg-gray-50 rounded text-xs font-mono truncate"[39m
              [36m>[39m
                [0mhttp://localhost:3000[0m
                [0m/onboard/[0m
                [0mtest-token-1[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-muted-foreground pt-2 border-t"[39m
        [36m>[39m
          [0m1[0m
          [0m total link[0m
          [0m • [0m
          [0m1[0m
          [0m active •[0m
          [0m [0m
          [0m0[0m
          [0m used • [0m
          [0m0[0m
          [0m expired[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m

Expected: [32m"http[7ms[27m://[7mtest.app.com[27m"[39m
Received: [31m"http://[7mlocalhost:3000[27m"[39m

 ❯ src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx:212:38
    210|     // Wait for the origin to be set
    211|     await waitFor(() => {
    212|       expect(window.location.origin).toBe("https://test.app.com");
       |                                      ^
    213|     });
    214| 
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/66]⎯

 FAIL  src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx > ActiveTokensList > should handle clipboard errors gracefully
AssertionError: expected 'http://localhost:3000' to be 'https://test.app.com' // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-sm font-medium text-gray-900 flex items-center gap-2"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 bg-green-500 rounded-full"[39m
              [36m/>[39m
              [0mActive Links ([0m
              [0m1[0m
              [0m)[0m
            [36m</h3>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-xs"[39m
              [33mdata-slot[39m=[32m"button"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-refresh-cw h-3 w-3 mr-1"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 3v5h-5"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M8 16H3v5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mRefresh[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-3 border rounded-lg transition-colors border-green-200 bg-green-50/50"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start mb-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90"[39m
                    [33mdata-slot[39m=[32m"badge"[39m
                  [36m>[39m
                    [0mActive[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
                  [36m>[39m
                    [0mSingle use[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Copy onboarding URL"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-copy h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mry[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mx[39m=[32m"8"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open onboarding URL in new tab"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-external-link h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 3h6v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 14 21 3"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete token"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 text-red-500 hover:text-red-700 hover:bg-red-50"[39m
                    [33mdata-slot[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-trash2 lucide-trash-2 h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M10 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M14 11v6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M3 6h18"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-xs text-muted-foreground mb-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-users h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 3.128a4 4 0 0 1 0 7.744"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M22 21v-2a4 4 0 0 0-3-3.87"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"9"[39m
                      [33mcy[39m=[32m"7"[39m
                      [33mr[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mUnused[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-clock h-3 w-3"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 6v6l4 2"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"10"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [36m<span>[39m
                    [0mExpires -26 hours ago from now[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-muted-foreground"[39m
              [36m>[39m
                [0mCreated [0m
                [0m0 hours ago[0m
                [0m ago[0m
              [36m</p>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-2 p-2 bg-gray-50 rounded text-xs font-mono truncate"[39m
              [36m>[39m
                [0mhttp://localhost:3000[0m
                [0m/onboard/[0m
                [0mtest-token-1[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"text-xs text-muted-foreground pt-2 border-t"[39m
        [36m>[39m
          [0m1[0m
          [0m total link[0m
          [0m • [0m
          [0m1[0m
          [0m active •[0m
          [0m [0m
          [0m0[0m
          [0m used • [0m
          [0m0[0m
          [0m expired[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m

Expected: [32m"http[7ms[27m://[7mtest.app.com[27m"[39m
Received: [31m"http://[7mlocalhost:3000[27m"[39m

 ❯ src/app/(authorisedRoute)/settings/onboarding/_components/__tests__/ActiveTokensList.test.tsx:394:38
    392|     // Wait for the origin to be set
    393|     await waitFor(() => {
    394|       expect(window.location.origin).toBe("https://test.app.com");
       |                                      ^
    395|     });
    396| 
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx > ContactSearchCombobox > renders with placeholder text
TestingLibraryElementError: Unable to find an element with the text: Search contacts.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx:66:19
     64|     );
     65| 
     66|     expect(screen.getByText("Search contacts...")).toBeInTheDocument();
       |                   ^
     67|   });
     68| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx > ContactSearchCombobox > shows selected contact when value is provided
TestingLibraryElementError: Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
    [33mdata-slot[39m=[32m"input"[39m
    [33mplaceholder[39m=[32m"Search contacts..."[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m"John Doe"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m"John Doe"[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx:79:19
     77| 
     78|     // Check that the selected contact is displayed in the trigger but…
     79|     expect(screen.getByRole("combobox")).toHaveTextContent("John Doe");
       |                   ^
     80|     expect(screen.getByRole("combobox")).toHaveTextContent("john@examp…
     81|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx > ContactSearchCombobox > calls onValueChange when contact is selected
TestingLibraryElementError: Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
    [33mdata-slot[39m=[32m"input"[39m
    [33mplaceholder[39m=[32m"Search contacts..."[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m""[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx:94:28
     92| 
     93|     // Click to open the combobox
     94|     const trigger = screen.getByRole("combobox");
       |                            ^
     95|     await user.click(trigger);
     96| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx > ContactSearchCombobox > handles search input changes
TestingLibraryElementError: Unable to find an accessible element with the role "combobox"

Here are the accessible roles:

  textbox:

  Name "":
  [36m<input[39m
    [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
    [33mdata-slot[39m=[32m"input"[39m
    [33mplaceholder[39m=[32m"Search contacts..."[39m
    [33mtype[39m=[32m"text"[39m
    [33mvalue[39m=[32m""[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"relative"[39m
    [36m>[39m
      [36m<input[39m
        [33mclass[39m=[32m"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive w-full"[39m
        [33mdata-slot[39m=[32m"input"[39m
        [33mplaceholder[39m=[32m"Search contacts..."[39m
        [33mtype[39m=[32m"text"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/ContactSearchCombobox.test.tsx:115:28
    113| 
    114|     // Click to open the combobox
    115|     const trigger = screen.getByRole("combobox");
       |                            ^
    116|     await user.click(trigger);
    117| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.pii.test.tsx > RapidNoteModal PII Detection (1.6) > shows amber warning banner when PII is detected (1.6.5)
 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.pii.test.tsx > RapidNoteModal PII Detection (1.6) > hides warning banner when PII is removed (1.6.5)
 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.pii.test.tsx > RapidNoteModal PII Detection (1.6) > shows red toast after server-side redaction (1.6.7)
 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.transcription.test.tsx > RapidNoteModal transcription progress (1.5.11) > shows a progress indicator while transcribing
Error: No QueryClient set, use QueryClientProvider to set one
 ❯ useQueryClient node_modules/.pnpm/@tanstack+react-query@5.89.0_react@19.1.1/node_modules/@tanstack/react-query/src/QueryClientProvider.tsx:18:11
 ❯ useBaseQuery node_modules/.pnpm/@tanstack+react-query@5.89.0_react@19.1.1/node_modules/@tanstack/react-query/src/useBaseQuery.ts:54:18
 ❯ useQuery node_modules/.pnpm/@tanstack+react-query@5.89.0_react@19.1.1/node_modules/@tanstack/react-query/src/useQuery.ts:51:10
 ❯ useContactsCore src/hooks/use-contacts-core.ts:70:10
     68|   pageSize: number = 25,
     69| ) {
     70|   return useQuery({
       |          ^
     71|     queryKey: queryKeys.contacts.list({ search: searchQuery, page, pag…
     72|     queryFn: async (): Promise<{ items: ContactWithLastNote[]; total: …
 ❯ useContacts src/hooks/use-contacts.ts:40:10
 ❯ ContactSearchCombobox src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/ContactSearchCombobox.tsx:46:45
 ❯ Object.react_stack_bottom_frame node_modules/.pnpm/react-dom@19.1.1_react@19.1.1/node_modules/react-dom/cjs/react-dom-client.development.js:23863:20
 ❯ renderWithHooks node_modules/.pnpm/react-dom@19.1.1_react@19.1.1/node_modules/react-dom/cjs/react-dom-client.development.js:5529:22
 ❯ updateFunctionComponent node_modules/.pnpm/react-dom@19.1.1_react@19.1.1/node_modules/react-dom/cjs/react-dom-client.development.js:8897:19
 ❯ beginWork node_modules/.pnpm/react-dom@19.1.1_react@19.1.1/node_modules/react-dom/cjs/react-dom-client.development.js:10522:18

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > Rendering > renders character counter
TestingLibraryElementError: Unable to find an element with the text: 0/1200. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«re»"[39m
    [33maria-labelledby[39m=[32m"radix-«rd»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«rc»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«rd»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«re»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m0[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m/>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:90:21
     88|     it("renders character counter", () => {
     89|       render(<RapidNoteModal {...defaultProps} />);
     90|       expect(screen.getByText("0/1200")).toBeInTheDocument();
       |                     ^
     91|     });
     92| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[53/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > Rendering > renders voice recorder
TestingLibraryElementError: Unable to find an element by: [data-testid="voice-recorder"]

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«rh»"[39m
    [33maria-labelledby[39m=[32m"radix-«rg»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«rf»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«rg»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«rh»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m0[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m/>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:95:21
     93|     it("renders voice recorder", () => {
     94|       render(<RapidNoteModal {...defaultProps} />);
     95|       expect(screen.getByTestId("voice-recorder")).toBeInTheDocument();
       |                     ^
     96|     });
     97| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[54/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > User Interactions > updates character counter when typing
TestingLibraryElementError: Unable to find an element with the text: 11/1200. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«rt»"[39m
    [33maria-labelledby[39m=[32m"radix-«rs»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«rr»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«rs»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«rt»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m11[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m>[39m
            [0mHello world[0m
          [36m</textarea>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:135:21
    133|       await user.type(textarea, "Hello world");
    134| 
    135|       expect(screen.getByText("11/1200")).toBeInTheDocument();
       |                     ^
    136|     });
    137| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[55/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > User Interactions > prevents saving when no contact is selected
AssertionError: expected "spy" to not be called at all, but actually been called 1 times[90m

Received: 

[1m  1st spy call:

[22m    Array [
      Object {
        "contactId": "1",
        "content": "Test note",
        "sourceType": "typed",
      },
    ]
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:150:30
    148|       await user.click(saveButton);
    149| 
    150|       expect(mockOnSave).not.toHaveBeenCalled();
       |                              ^
    151|     });
    152| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[56/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > User Interactions > calls onSave with correct data when both contact and content are provided
AssertionError: expected "spy" to be called with arguments: [ { contactId: '1', …(2) } ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    {[22m
[32m-     "contactId": "1",[90m
[31m+     "contactId": "11",[90m
[2m      "content": "Test note content",[22m
[2m      "sourceType": "typed",[22m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:181:26
    179|       await user.click(saveButton);
    180| 
    181|       expect(mockOnSave).toHaveBeenCalledWith({
       |                          ^
    182|         contactId: "1",
    183|         content: "Test note content",

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[57/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > Voice Recording > handles voice recording completion
TestingLibraryElementError: Unable to find an element by: [data-testid="mock-record-button"]

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«r19»"[39m
    [33maria-labelledby[39m=[32m"radix-«r18»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«r17»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«r18»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«r19»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m0[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m/>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:194:35
    192|       render(<RapidNoteModal {...defaultProps} />);
    193| 
    194|       const recordButton = screen.getByTestId("mock-record-button");
       |                                   ^
    195|       await user.click(recordButton);
    196| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[58/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > Auto-save draft functionality > saves draft to localStorage every 5 seconds while typing
Error: Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:214:5
    212|     });
    213| 
    214|     it("saves draft to localStorage every 5 seconds while typing", asy…
       |     ^
    215|       const user = userEvent.setup({ advanceTimers: vi.advanceTimersBy…
    216|       render(<RapidNoteModal {...defaultProps} />);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[59/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > Auto-save draft functionality > clears draft after successful save
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:248:5
    246|     });
    247| 
    248|     it("clears draft after successful save", async () => {
       |     ^
    249|       const user = userEvent.setup();
    250|       render(<RapidNoteModal {...defaultProps} />);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[60/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > Auto-save draft functionality > shows restore draft prompt when draft exists
TestingLibraryElementError: Unable to find an element with the text: Restore draft?. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-slot[39m=[32m"dialog-overlay"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-describedby[39m=[32m"radix-«r1l»"[39m
    [33maria-labelledby[39m=[32m"radix-«r1k»"[39m
    [33maria-modal[39m=[32m"true"[39m
    [33mclass[39m=[32m"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border shadow-lg duration-200 sm:max-w-lg max-w-4xl h-[90vh] flex flex-col p-0"[39m
    [33mdata-slot[39m=[32m"dialog-content"[39m
    [33mdata-state[39m=[32m"open"[39m
    [33mid[39m=[32m"radix-«r1j»"[39m
    [33mrole[39m=[32m"dialog"[39m
    [33mstyle[39m=[32m"pointer-events: auto;"[39m
    [33mtabindex[39m=[32m"-1"[39m
  [36m>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex flex-col gap-2 text-center sm:text-left px-6 py-4 border-b"[39m
      [33mdata-slot[39m=[32m"dialog-header"[39m
    [36m>[39m
      [36m<h2[39m
        [33mclass[39m=[32m"text-2xl font-semibold"[39m
        [33mdata-slot[39m=[32m"dialog-title"[39m
        [33mid[39m=[32m"radix-«r1k»"[39m
      [36m>[39m
        [0mRapid Note Capture[0m
      [36m</h2>[39m
      [36m<p[39m
        [33mclass[39m=[32m"text-muted-foreground text-sm"[39m
        [33mdata-slot[39m=[32m"dialog-description"[39m
        [33mid[39m=[32m"radix-«r1l»"[39m
      [36m>[39m
        [0mQuickly capture notes for your contacts. Select a contact and add your note content.[0m
      [36m</p>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex-1 flex flex-col px-6 py-4 gap-6 overflow-hidden"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-2"[39m
      [36m>[39m
        [36m<label[39m
          [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
          [33mdata-slot[39m=[32m"label"[39m
          [33mfor[39m=[32m"contact-selector"[39m
        [36m>[39m
          [0mSelect Contact[0m
        [36m</label>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"contact-search-combobox"[39m
        [36m>[39m
          [36m<input[39m
            [33mdata-testid[39m=[32m"contact-search-input"[39m
            [33mplaceholder[39m=[32m"Search contacts..."[39m
            [33mvalue[39m=[32m"1"[39m
          [36m/>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col space-y-2 min-h-0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
            [33mdata-slot[39m=[32m"label"[39m
            [33mfor[39m=[32m"note-content"[39m
          [36m>[39m
            [0mNote Content[0m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-2"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-sm tabular-nums text-muted-foreground"[39m
            [36m>[39m
              [0m19[0m
              [0m / [0m
              [0m1200[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 min-h-0 relative"[39m
        [36m>[39m
          [36m<textarea[39m
            [33maria-label[39m=[32m"Rapid note content"[39m
            [33mclass[39m=[32m"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm h-full resize-none font-sans"[39m
            [33mdata-slot[39m=[32m"textarea"[39m
            [33mid[39m=[32m"note-content"[39m
            [33mplaceholder[39m=[32m"Type your note here or click the microphone to record..."[39m
          [36m>[39m
            [0mSaved draft content[0m
          [36m</textarea>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Record voice note"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 size-9 absolute bottom-3 right-3"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-mic h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 19v3"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 10v2a7 7 0 0 1-14 0v-2"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"13"[39m
                [33mrx[39m=[32m"3"[39m
                [33mwidth[39m=[32m"6"[39m
                [33mx[39m=[32m"9"[39m
                [33my[39m=[32m"2"[39m
              [36m/>[39m
            [36m</svg>[39m
          [36m</button>[39m
        [36m</div>[39m
        [36m<p[39m
          [33mclass[39m=[32m"text-sm text-muted-foreground"[39m
        [36m>[39m
          [0mFor advanced editing options, visit the Contact Details page[0m
        [36m</p>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"px-6 py-4 border-t flex items-center justify-end gap-3"[39m
    [36m>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mCancel[0m
      [36m</button>[39m
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3"[39m
        [33mdata-slot[39m=[32m"button"[39m
        [33mtype[39m=[32m"button"[39m
      [36m>[39m
        [0mSave Note[0m
      [36m</button>[39m
    [36m</div>[39m
    [36m<button[39m
      [33mclass[39m=[32m"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
      [33mdata-slot[39m=[32m"dialog-close"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-x"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M18 6 6 18"[39m
        [36m/>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 6 12 12"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"sr-only"[39m
      [36m>[39m
        [0mClose[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:271:21
    269|       render(<RapidNoteModal {...defaultProps} />);
    270| 
    271|       expect(screen.getByText("Restore draft?")).toBeInTheDocument();
       |                     ^
    272|     });
    273|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[61/66]⎯

 FAIL  src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx > RapidNoteModal > Character limit > enforces 1200 character limit
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/app/(authorisedRoute)/contacts/[contactId]/notes/[noteId]/_components/__tests__/RapidNoteModal.test.tsx:276:5
    274| 
    275|   describe("Character limit", () => {
    276|     it("enforces 1200 character limit", async () => {
       |     ^
    277|       const user = userEvent.setup();
    278|       render(<RapidNoteModal {...defaultProps} />);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[62/66]⎯


 Test Files  19 failed | 80 passed | 3 skipped (102)
      Tests  66 failed | 1509 passed | 25 skipped (1600)
   Start at  14:28:56
   Duration  55.95s (transform 19.47s, setup 92.75s, collect 149.00s, tests 123.07s, environment 133.78s, prepare 42.12s)

 ELIFECYCLE  Test failed. See above for more details.
